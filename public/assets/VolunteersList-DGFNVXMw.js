import{am as B,Y as d,u as k,j as e,U as S,B as n,Z as H,I as K,z as R,H as Q,J as _,K as J,N as I,o as m,C as q,c as P,M as V,V as L,f as h}from"./index-Dzu3mJf5.js";import{P as X}from"./PublicLayout-BIy-G5o-.js";const Y="/assets/happy-volunteer-couple-planting-trees-together-by-2025-01-16-13-28-02-utc_1752941777071-RvXdcLvH.jpg";function D(){const[,N]=B(),[c,M]=d.useState(""),[o,T]=d.useState("all"),[p,f]=d.useState("grid"),[t,x]=d.useState(1),g=12,{data:E=[],isLoading:z,error:U}=k({queryKey:["/api/volunteers/public"],queryFn:async()=>{const s=await fetch("/api/volunteers/public");if(!s.ok)throw new Error("Error cargando voluntarios");return s.json()}}),{data:j}=k({queryKey:["/api/parks"],queryFn:async()=>{const s=await fetch("/api/parks");if(!s.ok)throw new Error("Error cargando parques");return s.json()}}),v=(j==null?void 0:j.data)||[],i=E.filter(s=>{var A,C;const r=Array.isArray(s.interestAreas)?s.interestAreas.join(" "):s.interestAreas||"",a=c===""||s.fullName.toLowerCase().includes(c.toLowerCase())||r.toLowerCase().includes(c.toLowerCase())||((A=s.parkName)==null?void 0:A.toLowerCase().includes(c.toLowerCase())),F=o==="all"||((C=s.preferredParkId)==null?void 0:C.toString())===o;return a&&F&&s.status==="active"}),l=Math.ceil(i.length/g),u=(t-1)*g,y=u+g,b=i.slice(u,y);d.useEffect(()=>{x(1)},[c,o]);const w=s=>s?s.split(" ").map(r=>r[0]).join("").toUpperCase():"V";return z?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando voluntarios..."})]})})})}):U?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-red-600",children:"Error cargando voluntarios"})})})})}):e.jsx(X,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"relative py-24 text-white",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.3)), url(${Y})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(S,{className:"h-16 w-16 mx-auto mb-4 drop-shadow-lg"}),e.jsx("h1",{className:"text-5xl font-bold mb-6 drop-shadow-lg",children:"Nuestros Voluntarios"}),e.jsx("p",{className:"text-xl max-w-2xl mx-auto drop-shadow-md leading-relaxed",children:"Conoce a las personas comprometidas que dedican su tiempo y esfuerzo para hacer de nuestros parques lugares mejores para todos."}),e.jsx("div",{className:"mt-8",children:e.jsx(n,{className:"bg-[#00a587] hover:bg-[#067f5f] text-white px-8 py-3 text-lg font-semibold shadow-lg",size:"lg",onClick:()=>N("/volunteers/register"),children:"Únete como Voluntario"})})]})})}),e.jsx("div",{className:"py-8 bg-white border-b",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:i.length}),e.jsx("div",{className:"text-gray-600",children:"Voluntarios Activos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:v.length}),e.jsx("div",{className:"text-gray-600",children:"Parques con Voluntarios"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:i.filter(s=>s.preferredParkId).length}),e.jsx("div",{className:"text-gray-600",children:"Con Parque Asignado"})]})]})})}),e.jsx("div",{className:"py-6 bg-white border-b",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 flex-1",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"Buscar por nombre, actividades o parque...",value:c,onChange:s=>M(s.target.value),className:"pl-10"})]}),e.jsxs(R,{value:o,onValueChange:T,children:[e.jsx(Q,{className:"w-full md:w-48",children:e.jsx(_,{placeholder:"Filtrar por parque"})}),e.jsxs(J,{children:[e.jsx(I,{value:"all",children:"Todos los parques"}),v.map(s=>e.jsx(I,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:p==="grid"?"default":"outline",size:"sm",onClick:()=>f("grid"),children:"Tarjetas"}),e.jsx(n,{variant:p==="list"?"default":"outline",size:"sm",onClick:()=>f("list"),children:"Lista"})]})]})})}),e.jsx("div",{className:"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] mb-8",children:e.jsx(m,{spaceId:37,pageType:"volunteers",position:"banner"})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex gap-8 items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-6 text-sm text-gray-600 text-center",children:["Mostrando ",u+1," a ",Math.min(y,i.length)," de ",i.length," voluntarios"]}),p==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(s=>e.jsx(q,{className:"hover:shadow-lg transition-shadow",children:e.jsx(P,{className:"p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-24 h-24 mx-auto bg-green-100 rounded-full flex items-center justify-center overflow-hidden",children:s.profileImageUrl?e.jsx("img",{src:s.profileImageUrl,alt:s.fullName,className:"w-24 h-24 rounded-full object-cover"}):e.jsx("span",{className:"text-green-600 font-semibold text-xl",children:w(s.fullName)})}),e.jsx("div",{children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.fullName})}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.parkName||"Sin parque asignado"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Actividades:"})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-1",children:s.interestAreas&&Array.isArray(s.interestAreas)?s.interestAreas.map((r,a)=>e.jsx(h,{variant:"secondary",className:"text-xs",children:r},a)):s.interestAreas&&typeof s.interestAreas=="string"?s.interestAreas.split(",").map((r,a)=>e.jsx(h,{variant:"secondary",className:"text-xs",children:r.trim()},a)):e.jsx("span",{className:"text-xs text-gray-500",children:"No especificadas"})})]})]})})},s.id))}):e.jsx("div",{className:"space-y-4",children:b.map(s=>e.jsx(q,{className:"hover:shadow-md transition-shadow",children:e.jsx(P,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center overflow-hidden",children:s.profileImageUrl?e.jsx("img",{src:s.profileImageUrl,alt:s.fullName,className:"w-16 h-16 rounded-full object-cover"}):e.jsx("span",{className:"text-green-600 font-semibold text-lg",children:w(s.fullName)})}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{children:e.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:s.fullName})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Parque:"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.parkName||"Sin parque asignado"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Actividades:"})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:s.interestAreas&&Array.isArray(s.interestAreas)?s.interestAreas.map((r,a)=>e.jsx(h,{variant:"secondary",className:"text-xs",children:r},a)):s.interestAreas&&typeof s.interestAreas=="string"?s.interestAreas.split(",").map((r,a)=>e.jsx(h,{variant:"secondary",className:"text-xs",children:r.trim()},a)):e.jsx("span",{className:"text-xs text-gray-500",children:"No especificadas"})})]})]})]})})},s.id))}),i.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(S,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No se encontraron voluntarios"}),e.jsx("p",{className:"text-gray-500",children:"Intenta ajustar los filtros de búsqueda."})]}),l>1&&e.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[e.jsx(n,{variant:"outline",onClick:()=>x(s=>Math.max(s-1,1)),disabled:t===1,className:"text-primary border-primary hover:bg-primary hover:text-white",children:"Anterior"}),Array.from({length:Math.min(5,l)},(s,r)=>{let a;return l<=5||t<=3?a=r+1:t>=l-2?a=l-4+r:a=t-2+r,e.jsx(n,{variant:t===a?"default":"outline",onClick:()=>x(a),className:t===a?"bg-primary text-white":"text-primary border-primary hover:bg-primary hover:text-white",children:a},a)}),e.jsx(n,{variant:"outline",onClick:()=>x(s=>Math.min(s+1,l)),disabled:t===l,className:"text-primary border-primary hover:bg-primary hover:text-white",children:"Siguiente"})]})]}),e.jsx("div",{className:"w-80 flex-shrink-0 hidden lg:block",children:e.jsxs("div",{className:"sticky top-4 space-y-6 mt-12",children:[e.jsx(m,{spaceId:"20",position:"card",pageType:"volunteers"}),e.jsx(m,{spaceId:"21",position:"card",pageType:"volunteers"}),e.jsx(m,{spaceId:"22",position:"card",pageType:"volunteers"})]})})]})})}),e.jsx("div",{className:"bg-green-600 text-white py-12",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"¿Quieres ser voluntario?"}),e.jsx("p",{className:"text-xl text-green-100 mb-8 max-w-2xl mx-auto",children:"Únete a nuestro equipo de voluntarios y ayuda a hacer la diferencia en tu comunidad."}),e.jsx(n,{size:"lg",variant:"secondary",className:"bg-white text-green-600 hover:bg-gray-100",onClick:()=>N("/volunteers/register"),children:"Registrarse como Voluntario"})]})})]})})}export{D as default};
