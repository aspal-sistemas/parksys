import{Y as m,u as te,R as ce,j as e,o as y,Z as ne,I as me,z as K,H as J,J as Q,K as W,N as h,B as i,_ as de,$ as oe,C as G,a as xe,a0 as P,a1 as D,a2 as M,b as he,a3 as pe,a4 as T,c as Y,f as g,m as Z,D as F,p as X,Q as ee,r as L,t as z,v as V,w as R,U as je,n as ge,P as fe,S as ue}from"./index-BBGHPKhn.js";import{P as se}from"./PublicInstructorEvaluationForm-jjbDB4Gt.js";import{P as ve}from"./PublicLayout-CCgfkENm.js";import"./checkbox-DK4Ni3Jp.js";import"./send-BI8KOtU_.js";const Ne="/assets/cropped-shot-of-handsome-young-rugby-coach-standin-2025-04-06-09-42-40-utc_1752941593303-CI2Kg2R4.jpg",Ie=()=>{const o=s=>{if(!s)return[];if(Array.isArray(s))return s;if(typeof s=="string"){if(s.startsWith("{")&&s.endsWith("}"))return s.slice(1,-1).split(",").map(r=>r.trim().replace(/^"/,"").replace(/"$/,"")).filter(r=>r.length>0);try{const a=JSON.parse(s);if(Array.isArray(a))return a}catch{}return s.split(",").map(a=>a.trim()).filter(a=>a.length>0)}return[]},[p,b]=m.useState(""),[x,w]=m.useState(""),[t,_]=m.useState(""),[f,$]=m.useState("grid"),[l,ae]=m.useState(null),[re,B]=m.useState(!1),[ye,le]=m.useState(null),[c,u]=m.useState(1),C=12,{data:n=[],isLoading:ie}=te({queryKey:["/public-api/instructors/public"]});let v=[];Array.isArray(n)?v=n:n&&"data"in n?v=n.data||[]:n&&typeof n=="object"&&(v=[n]);const S=new Map;v.forEach(s=>{if(s&&s.id&&!S.has(s.id)){const a={id:s.id,full_name:s.fullName||s.full_name||"",email:s.email||"",phone:s.phoneNumber||s.phone||"",specialties:s.specialties||"",experience_years:s.experience||s.experience_years||0,status:s.status||"active",profile_image_url:s.profileImageUrl||s.profile_image_url||null,created_at:s.createdAt||s.created_at||"",rating:s.rating||null};S.set(s.id,a)}});const I=Array.from(S.values()),k=new Set;I.forEach(s=>{s.specialties&&o(s.specialties).forEach(r=>{const N=typeof r=="string"?r.trim():"";N&&k.add(N)})});const j=I.filter(s=>{const a=p===""||s.full_name.toLowerCase().includes(p.toLowerCase()),r=x===""||x==="all"||s.specialties&&s.specialties.toLowerCase().includes(x.toLowerCase()),N=t===""||t==="all"||t==="1-3"&&s.experience_years>=1&&s.experience_years<=3||t==="4-7"&&s.experience_years>=4&&s.experience_years<=7||t==="8+"&&s.experience_years>=8;return a&&r&&N}),d=Math.ceil(j.length/C),A=(c-1)*C,O=A+C,U=j.slice(A,O);ce.useEffect(()=>{u(1)},[p,x,t]);const q=s=>{ae(s),B(!0)},H=s=>{le(s)},E=s=>s?e.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(a=>e.jsx(ue,{className:`h-4 w-4 ${a<=s?"text-yellow-400 fill-current":"text-gray-300"}`},a)),e.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:["(",s.toFixed(1),")"]})]}):null;return ie?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando instructores..."})]})})}):e.jsx(ve,{children:e.jsxs("div",{className:"bg-gray-50",children:[e.jsxs("div",{className:"relative text-white",style:{backgroundImage:`url(${Ne})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/50"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Conoce a Nuestros ",e.jsx("span",{className:"text-yellow-300",children:"Instructores"})]}),e.jsx("p",{className:"text-xl md:text-2xl text-emerald-100 max-w-3xl mx-auto",children:"Profesionales experimentados comprometidos con crear experiencias únicas en nuestros parques"}),e.jsxs("div",{className:"mt-8 flex justify-center items-center space-x-8 text-emerald-100",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:I.length}),e.jsx("div",{className:"text-sm",children:"Instructores"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:k.size}),e.jsx("div",{className:"text-sm",children:"Especialidades"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"4.8"}),e.jsx("div",{className:"text-sm",children:"Calificación Promedio"})]})]})]})})]}),e.jsx("div",{className:"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] mt-8 mb-8",children:e.jsx(y,{spaceId:38,pageType:"instructors",position:"banner"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-0 pb-2",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(me,{type:"text",placeholder:"Buscar instructores...",value:p,onChange:s=>b(s.target.value),className:"pl-10 border-gray-200 focus:border-primary focus:ring-primary"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[e.jsxs(K,{value:x,onValueChange:w,children:[e.jsx(J,{className:"w-40",children:e.jsx(Q,{placeholder:"Especialidad"})}),e.jsxs(W,{children:[e.jsx(h,{value:"all",children:"Todas"}),Array.from(k).map(s=>e.jsx(h,{value:s,children:s},s))]})]}),e.jsxs(K,{value:t,onValueChange:_,children:[e.jsx(J,{className:"w-40",children:e.jsx(Q,{placeholder:"Experiencia"})}),e.jsxs(W,{children:[e.jsx(h,{value:"all",children:"Todos"}),e.jsx(h,{value:"1-3",children:"1-3 años"}),e.jsx(h,{value:"4-7",children:"4-7 años"}),e.jsx(h,{value:"8+",children:"8+ años"})]})]}),e.jsxs("div",{className:"flex border rounded-lg bg-gray-50",children:[e.jsx(i,{variant:f==="grid"?"default":"ghost",size:"sm",onClick:()=>$("grid"),className:"rounded-r-none",children:e.jsx(de,{className:"h-4 w-4"})}),e.jsx(i,{variant:f==="list"?"default":"ghost",size:"sm",onClick:()=>$("list"),className:"rounded-l-none",children:e.jsx(oe,{className:"h-4 w-4"})})]})]})]}),(p||x||t)&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(i,{variant:"outline",onClick:()=>{b(""),w("all"),_("all")},className:"text-primary border-primary hover:bg-primary hover:text-white",children:"Limpiar Filtros"})})]})}),e.jsx("div",{className:"mb-6 flex justify-between items-center",children:e.jsxs("p",{className:"text-gray-600",children:["Mostrando ",A+1,"-",Math.min(O,j.length)," de ",j.length," instructores"]})}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[f==="grid"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:U.map(s=>e.jsxs(G,{className:"group hover:shadow-lg transition-all duration-300 border-0 shadow-sm bg-white",children:[e.jsxs(xe,{className:"text-center pb-2",children:[e.jsxs(P,{className:"h-20 w-20 mx-auto mb-4 ring-4 ring-primary/10",children:[e.jsx(D,{src:s.profile_image_url||void 0,alt:s.full_name}),e.jsx(M,{className:"bg-gradient-to-br from-primary to-primary-600 text-white font-semibold text-lg",children:s.full_name.split(" ").map(a=>a[0]).join("")})]}),e.jsx(he,{className:"text-lg font-semibold text-gray-900",children:s.full_name}),e.jsxs(pe,{className:"flex items-center justify-center gap-1 text-primary",children:[e.jsx(T,{className:"h-4 w-4"}),s.experience_years," años de experiencia"]})]}),e.jsxs(Y,{className:"pt-0",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[o(s.specialties).slice(0,2).map((a,r)=>e.jsx(g,{variant:"secondary",className:"text-xs bg-primary/10 text-primary",children:a},r)),o(s.specialties).length>2&&e.jsxs(g,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-600",children:["+",o(s.specialties).length-2]})]})}),e.jsx("div",{className:"flex justify-center mb-4",children:E(s.rating||0)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>q(s),className:"flex-1 text-primary border-primary hover:bg-primary hover:text-white",children:[e.jsx(Z,{className:"h-4 w-4 mr-1"}),"Ver Perfil"]}),e.jsxs(F,{children:[e.jsx(X,{asChild:!0,children:e.jsxs(i,{size:"sm",onClick:()=>H(s),className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700",children:[e.jsx(ee,{className:"h-4 w-4 mr-1"}),"Evaluar"]})}),e.jsxs(L,{className:"max-w-lg max-h-[80vh] overflow-y-auto",children:[e.jsxs(z,{children:[e.jsxs(V,{children:["Evaluar a ",s.full_name]}),e.jsx(R,{children:"Comparte tu experiencia con este instructor"})]}),e.jsx(se,{instructorId:s.id,instructorName:s.full_name})]})]})]})]})]},s.id))}),f==="list"&&e.jsx("div",{className:"space-y-4 mb-8",children:U.map(s=>e.jsx(G,{className:"hover:shadow-md transition-shadow duration-300",children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(P,{className:"h-16 w-16 ring-4 ring-primary/10",children:[e.jsx(D,{src:s.profile_image_url||void 0,alt:s.full_name}),e.jsx(M,{className:"bg-gradient-to-br from-primary to-primary-600 text-white font-semibold",children:s.full_name.split(" ").map(a=>a[0]).join("")})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s.full_name}),e.jsxs("div",{className:"flex items-center gap-2 text-primary mb-2",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.experience_years," años de experiencia"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:o(s.specialties).map((a,r)=>e.jsx(g,{variant:"secondary",className:"bg-primary/10 text-primary",children:a},r))}),E(s.rating||0)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{variant:"outline",onClick:()=>q(s),className:"text-primary border-primary hover:bg-primary hover:text-white",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Ver Perfil"]}),e.jsxs(F,{children:[e.jsx(X,{asChild:!0,children:e.jsxs(i,{onClick:()=>H(s),className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Evaluar"]})}),e.jsxs(L,{className:"max-w-lg max-h-[80vh] overflow-y-auto",children:[e.jsxs(z,{children:[e.jsxs(V,{children:["Evaluar a ",s.full_name]}),e.jsx(R,{children:"Comparte tu experiencia con este instructor"})]}),e.jsx(se,{instructorId:s.id,instructorName:s.full_name})]})]})]})]})})},s.id))})]}),e.jsx("div",{className:"w-80 flex-shrink-0 hidden lg:block",children:e.jsxs("div",{className:"sticky top-4 space-y-6",children:[e.jsx(y,{spaceId:"26",position:"card",pageType:"instructors"}),e.jsx(y,{spaceId:"27",position:"card",pageType:"instructors"}),e.jsx(y,{spaceId:"28",position:"card",pageType:"instructors"})]})})]}),d>1&&e.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[e.jsx(i,{variant:"outline",onClick:()=>u(s=>Math.max(s-1,1)),disabled:c===1,className:"text-primary border-primary hover:bg-primary hover:text-white",children:"Anterior"}),Array.from({length:Math.min(5,d)},(s,a)=>{let r;return d<=5||c<=3?r=a+1:c>=d-2?r=d-4+a:r=c-2+a,e.jsx(i,{variant:c===r?"default":"outline",onClick:()=>u(r),className:c===r?"bg-primary hover:bg-primary-600":"text-primary border-primary hover:bg-primary hover:text-white",children:r},r)}),e.jsx(i,{variant:"outline",onClick:()=>u(s=>Math.min(s+1,d)),disabled:c===d,className:"text-primary border-primary hover:bg-primary hover:text-white",children:"Siguiente"})]}),j.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(je,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No se encontraron instructores"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Intenta ajustar tus filtros o buscar con otros términos"}),e.jsx(i,{onClick:()=>{b(""),w("all"),_("all")},className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700",children:"Limpiar Filtros"})]})]}),e.jsx(F,{open:re,onOpenChange:B,children:e.jsx(L,{className:"max-w-2xl",children:l&&e.jsxs(e.Fragment,{children:[e.jsx(z,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(P,{className:"h-16 w-16",children:[e.jsx(D,{src:l.profile_image_url||void 0,alt:l.full_name}),e.jsx(M,{className:"bg-gradient-to-br from-primary to-primary-600 text-white font-semibold text-lg",children:l.full_name.split(" ").map(s=>s[0]).join("")})]}),e.jsxs("div",{children:[e.jsx(V,{className:"text-2xl",children:l.full_name}),e.jsxs(R,{className:"flex items-center gap-2 text-primary",children:[e.jsx(T,{className:"h-4 w-4"}),l.experience_years," años de experiencia"]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Especialidades"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o(l.specialties).map((s,a)=>e.jsx(g,{className:"bg-primary text-white",children:s},a))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Información de Contacto"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:l.email})]}),l.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:l.phone})]})]})]}),l.rating&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Calificación"}),E(l.rating)]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Estado"}),e.jsx(g,{variant:l.status==="active"?"default":"secondary",children:l.status==="active"?"Activo":"Inactivo"})]}),e.jsx("div",{className:"flex gap-4 pt-4",children:e.jsx(i,{asChild:!0,className:"flex-1 bg-gradient-to-r from-primary to-primary-600",children:e.jsx("a",{href:`/instructor/${l.id}`,target:"_blank",rel:"noopener noreferrer",children:"Ver Perfil Completo"})})})]})]})})})]})})};export{Ie as default};
