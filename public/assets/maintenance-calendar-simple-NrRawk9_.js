import{aD as b,am as P,Y as x,ap as u,aq as A,j as e,aI as I,B as i,A as L,b2 as B,C as p,a as y,b as g,a3 as T,c as j,l as r,f as v,h as z,aw as S,av as H,X as R}from"./index-Dzu3mJf5.js";import{e as q}from"./eachDayOfInterval-DXiyoVfy.js";import{s as O}from"./subMonths-AhCjVDFT.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=b("CircleArrowLeft",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=b("CircleArrowRight",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]),Y=()=>{const[J,m]=P(),[t,n]=x.useState(new Date),[V,N]=x.useState(null),l=[{id:1,assetId:1,assetName:"Banca Modelo Colonial",date:new Date(2023,10,15),maintenanceType:"Preventivo",description:"Limpieza y aplicación de sellador",priority:"medium"},{id:2,assetId:2,assetName:"Juego Infantil Múltiple",date:new Date(2023,10,22),maintenanceType:"Correctivo",description:"Reparación de tornillos sueltos",priority:"high"},{id:3,assetId:3,assetName:"Fuente Central",date:new Date(2023,11,5),maintenanceType:"Inspección",description:"Revisión del sistema de bombeo",priority:"low"},{id:4,assetId:1,assetName:"Banca Modelo Colonial",date:new Date(2023,11,15),maintenanceType:"Preventivo",description:"Aplicación de pintura",priority:"medium"}],f=()=>{n(O(t,1))},M=()=>{n(S(t,1))},w=()=>{n(new Date)},C=q({start:u(t),end:A(t)}),d=s=>l.filter(a=>H(a.date,s)),D=s=>{N(s),console.log("Día seleccionado:",r(s,"dd/MM/yyyy")),console.log("Mantenimientos:",d(s))},k=s=>{const a=d(s);return a.length===0?"bg-white hover:bg-blue-50":a.some(c=>c.priority==="high")?"bg-red-50 hover:bg-red-100 border-red-200":a.some(c=>c.priority==="medium")?"bg-yellow-50 hover:bg-yellow-100 border-yellow-200":"bg-blue-50 hover:bg-blue-100 border-blue-200"};return e.jsx(I,{children:e.jsxs("div",{className:"container py-6",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(i,{variant:"outline",onClick:()=>m("/admin/assets"),children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Volver a Activos"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendario de Mantenimiento"}),e.jsx("p",{className:"text-muted-foreground",children:"Programa y visualiza los mantenimientos de activos"})]})]}),e.jsxs(i,{onClick:()=>m("/admin/assets/maintenance/schedule"),children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"Programar Mantenimiento"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(p,{className:"lg:col-span-1",children:[e.jsxs(y,{children:[e.jsx(g,{className:"text-lg",children:"Próximos Mantenimientos"}),e.jsx(T,{children:"Mantenimientos pendientes ordenados por fecha"})]}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:l.length>0?l.slice(0,5).map((s,a)=>e.jsxs("div",{className:"border rounded-md p-3 bg-card",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.assetName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r(s.date,"dd/MM/yyyy")})]}),e.jsx(v,{className:s.priority==="high"?"bg-red-100 text-red-800":s.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:s.priority==="high"?"Alta":s.priority==="medium"?"Media":"Baja"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm",children:s.maintenanceType}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.description})]})]},a)):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(z,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-2"}),e.jsx("p",{children:"No hay mantenimientos programados próximamente"})]})})})]}),e.jsxs(p,{className:"lg:col-span-2",children:[e.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(g,{className:"text-lg",children:r(t,"MMMM yyyy",{locale:R})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{variant:"outline",size:"icon",onClick:f,children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(i,{variant:"outline",size:"sm",onClick:w,children:"Hoy"}),e.jsx(i,{variant:"outline",size:"icon",onClick:M,children:e.jsx(F,{className:"h-4 w-4"})})]})]}),e.jsxs(j,{children:[e.jsx("div",{className:"grid grid-cols-7 mb-2",children:["Lun","Mar","Mié","Jue","Vie","Sáb","Dom"].map((s,a)=>e.jsx("div",{className:"text-center text-sm font-medium py-2",children:s},a))}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:(u(t).getDay()+6)%7}).map((s,a)=>e.jsx("div",{className:"aspect-square"},`empty-${a}`)),C.map((s,a)=>{const o=d(s),h=k(s);return e.jsxs("div",{className:`aspect-square border rounded-md relative p-1 cursor-pointer ${h}`,onClick:()=>D(s),children:[e.jsx("div",{className:"text-sm font-medium",children:r(s,"d")}),o.length>0&&e.jsx("div",{className:"absolute bottom-1 right-1",children:e.jsx(v,{variant:"outline",className:"text-xs",children:o.length})})]},a)})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100 border border-red-200 mr-1"}),e.jsx("span",{children:"Prioridad Alta"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-100 border border-yellow-200 mr-1"}),e.jsx("span",{children:"Prioridad Media"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-100 border border-blue-200 mr-1"}),e.jsx("span",{children:"Prioridad Baja"})]})]})]})]})]})]})})};export{Y as default};
