import{l as Se,a2 as m,j as e,aX as De,f as o,i as h,U as P,B as x,a4 as ce,O as d,b1 as Fe,b2 as ke,b3 as _,b4 as Q,g as u,h as p,N as n,Q as w,V as E,W as S,Y as D,_ as l,a7 as Pe,o as y,au as de,bq as oe,aM as Te,aN as Le,ab as Y,a as he,p as xe,P as K,w as V,y as z,z as H,I as G,J as R,t as Z,M as Ae,as as Oe,m as Ie,n as Me}from"./index-D5qLf1ib.js";import{U as Ve}from"./user-plus-De6O1CpJ.js";function Ge(){var te,ne;const{toast:g}=Se(),[me,je]=m.useState("list"),[f,B]=m.useState(""),[j,T]=m.useState([]),[ge,ee]=m.useState(!0),[c,U]=m.useState(null),[ue,$]=m.useState(!1),[b,q]=m.useState(1),L=14,[W,se]=m.useState("all"),[X,ae]=m.useState("all"),[pe]=m.useState([{name:"Dirección General",hierarchy:1},{name:"Coordinación de Administración",hierarchy:3},{name:"Coordinación de Recursos Humanos",hierarchy:3},{name:"Coordinación de Mantenimiento",hierarchy:3},{name:"Coordinación de Seguridad",hierarchy:3}]);m.useEffect(()=>{(async()=>{try{ee(!0);const r=await fetch("/api/hr/employees");if(r.ok){const i=await r.json();T(i)}else g({title:"Error",description:"No se pudieron cargar los empleados",variant:"destructive"})}catch(r){console.error("Error loading employees:",r),g({title:"Error",description:"Error al conectar con el servidor",variant:"destructive"})}finally{ee(!1)}})()},[g]);const J=[...new Set(j.map(s=>s.department).filter(Boolean))];j.length,j.filter(s=>s.status==="active").length,j.reduce((s,r)=>s+(r.salary||0),0)/j.length;const F=j.filter(s=>{const r=!f||s.fullName.toLowerCase().includes(f.toLowerCase())||s.email.toLowerCase().includes(f.toLowerCase())||s.department.toLowerCase().includes(f.toLowerCase())||s.position.toLowerCase().includes(f.toLowerCase()),i=W==="all"||s.department===W,N=X==="all"||s.status===X;return r&&i&&N}),k=Math.ceil(F.length/L),A=(b-1)*L,ve=F.slice(A,A+L),re=s=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(s),ie=s=>{U(s),$(!0)},[Ne,O]=m.useState(!1),[fe,I]=m.useState(!1),[ye,M]=m.useState(!1),[a,t]=m.useState({fullName:"",email:"",phone:"",position:"",department:"",salary:"",hireDate:"",workSchedule:"",address:"",emergencyContact:"",emergencyPhone:"",education:"",status:"active"}),be=async()=>{try{if((await fetch("/api/hr/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok){g({title:"Empleado creado",description:"El empleado ha sido registrado exitosamente"}),O(!1),t({fullName:"",email:"",phone:"",position:"",department:"",salary:"",hireDate:"",workSchedule:"",address:"",emergencyContact:"",emergencyPhone:"",education:"",status:"active"});const r=await fetch("/api/hr/employees");if(r.ok){const i=await r.json();T(i)}}else g({title:"Error",description:"No se pudo crear el empleado",variant:"destructive"})}catch(s){console.error("Error creating employee:",s),g({title:"Error",description:"Error al conectar con el servidor",variant:"destructive"})}},le=s=>{var r;U(s),t({fullName:s.fullName,email:s.email,phone:s.phone||"",position:s.position,department:s.department,salary:((r=s.salary)==null?void 0:r.toString())||"",hireDate:s.hireDate?new Date(s.hireDate).toISOString().split("T")[0]:"",workSchedule:s.workSchedule||"",address:s.address||"",emergencyContact:s.emergencyContact||"",emergencyPhone:s.emergencyPhone||"",education:s.education||"",status:s.status}),I(!0)},Ce=async()=>{if(c)try{if((await fetch(`/api/hr/employees/${c.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok){g({title:"Empleado actualizado",description:"Los datos del empleado han sido actualizados"}),I(!1);const r=await fetch("/api/hr/employees");if(r.ok){const i=await r.json();T(i)}}else g({title:"Error",description:"No se pudo actualizar el empleado",variant:"destructive"})}catch(s){console.error("Error updating employee:",s),g({title:"Error",description:"Error al conectar con el servidor",variant:"destructive"})}},we=async()=>{if(c)try{const s=await fetch(`/api/hr/employees/${c.id}`,{method:"DELETE"}),r=await s.json();if(s.ok){if(r.action==="deactivated"){const N=r.reason||"tener registros relacionados",C=r.relationDetails?r.relationDetails.join(", "):"";g({title:"Empleado desactivado",description:`El empleado ha sido desactivado por ${N}${C?`. Tiene: ${C}`:""}`})}else g({title:"Empleado eliminado",description:"El empleado ha sido eliminado del sistema"});M(!1);const i=await fetch("/api/hr/employees");if(i.ok){const N=await i.json();T(N)}}else g({title:"Error",description:r.error||"No se pudo eliminar el empleado",variant:"destructive"})}catch(s){console.error("Error deleting employee:",s),g({title:"Error",description:"Error al conectar con el servidor",variant:"destructive"})}};return e.jsx(De,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(o,{className:"bg-gray-50",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-8 h-8 text-black"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestión de Personal"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(x,{onClick:()=>{t({fullName:"",email:"",phone:"",position:"",department:"",salary:"",hireDate:"",workSchedule:"",address:"",emergencyContact:"",emergencyPhone:"",education:"",status:"active"}),O(!0)},className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-4 w-4"}),"Nuevo Empleado"]})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(o,{children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(P,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.length}),e.jsx("div",{className:"text-sm text-blue-800",children:"Total Empleados"})]})]})})}),e.jsx(o,{children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(P,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.filter(s=>s.status==="active").length}),e.jsx("div",{className:"text-sm text-green-800",children:"Activos"})]})]})})}),e.jsx(o,{children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(P,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:j.filter(s=>s.status==="vacation").length}),e.jsx("div",{className:"text-sm text-yellow-800",children:"Vacaciones"})]})]})})}),e.jsx(o,{children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(P,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:j.filter(s=>s.status==="inactive").length}),e.jsx("div",{className:"text-sm text-red-800",children:"Inactivos"})]})]})})})]}),e.jsx(o,{children:e.jsx(h,{className:"p-6",children:e.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(d,{placeholder:"Buscar empleados por nombre, email, departamento o puesto...",value:f,onChange:s=>B(s.target.value),className:"pl-10"})]})})})})}),e.jsxs(Fe,{value:me,onValueChange:je,children:[e.jsxs(ke,{className:"grid w-full grid-cols-3",children:[e.jsx(_,{value:"list",children:"Lista de Empleados"}),e.jsx(_,{value:"directory",children:"Directorio"}),e.jsx(_,{value:"organigram",children:"Organigrama"})]}),e.jsxs(Q,{value:"list",className:"space-y-4",children:[e.jsxs(o,{children:[e.jsx(u,{children:e.jsx(p,{children:"Filtros"})}),e.jsx(h,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"search",children:"Buscar"}),e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(d,{id:"search",placeholder:"Nombre, email o puesto...",value:f,onChange:s=>B(s.target.value),className:"pl-9"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"department",children:"Departamento"}),e.jsxs(w,{value:W,onValueChange:se,children:[e.jsx(E,{children:e.jsx(S,{placeholder:"Seleccionar departamento"})}),e.jsxs(D,{children:[e.jsx(l,{value:"all",children:"Todos los departamentos"}),J.map(s=>e.jsx(l,{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"status",children:"Estado"}),e.jsxs(w,{value:X,onValueChange:ae,children:[e.jsx(E,{children:e.jsx(S,{placeholder:"Seleccionar estado"})}),e.jsxs(D,{children:[e.jsx(l,{value:"all",children:"Todos los estados"}),e.jsx(l,{value:"active",children:"Activo"}),e.jsx(l,{value:"inactive",children:"Inactivo"}),e.jsx(l,{value:"vacation",children:"Vacaciones"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(x,{variant:"outline",className:"w-full",onClick:()=>{B(""),se("all"),ae("all")},children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Limpiar Filtros"]})})]})})]}),e.jsxs(o,{children:[e.jsx(u,{children:e.jsxs(p,{children:["Lista de Empleados (",F.length,")"]})}),e.jsx(h,{children:ge?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"text-gray-500",children:"Cargando empleados..."})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-3",children:ve.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-gray-600 to-gray-800 rounded-full flex items-center justify-center text-white font-semibold",children:s.fullName.split(" ").map(r=>r[0]).join("").substring(0,2)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.fullName}),e.jsx("p",{className:"text-sm text-gray-600",children:s.position}),e.jsx("p",{className:"text-sm text-gray-500",children:s.department})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium",children:re(s.salary)}),e.jsx(y,{variant:s.status==="active"?"default":s.status==="vacation"?"secondary":"destructive",children:s.status==="active"?"Activo":s.status==="vacation"?"Vacaciones":"Inactivo"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{size:"sm",variant:"ghost",onClick:()=>ie(s),className:"h-8 w-8 p-0",children:e.jsx(de,{className:"h-4 w-4"})}),e.jsx(x,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>le(s),children:e.jsx(oe,{className:"h-4 w-4"})}),e.jsx(x,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{U(s),M(!0)},children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},s.id))}),k>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Mostrando ",A+1," a ",Math.min(A+L,F.length)," de ",F.length," empleados"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{size:"sm",variant:"outline",onClick:()=>q(s=>Math.max(1,s-1)),disabled:b===1,children:[e.jsx(Te,{className:"h-4 w-4"}),"Anterior"]}),[...Array(Math.min(5,k))].map((s,r)=>{const i=b<=3?r+1:b-2+r;return i>k?null:e.jsx(x,{size:"sm",variant:b===i?"default":"outline",onClick:()=>q(i),children:i},i)}),e.jsxs(x,{size:"sm",variant:"outline",onClick:()=>q(s=>Math.min(k,s+1)),disabled:b===k,children:["Siguiente",e.jsx(Le,{className:"h-4 w-4"})]})]})]})]})})]})]}),e.jsx(Q,{value:"directory",className:"space-y-4",children:e.jsxs(o,{children:[e.jsxs(u,{children:[e.jsx(p,{children:"Directorio por Departamentos"}),e.jsx(Y,{children:"Vista organizada por departamentos y jerarquías"})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-6",children:pe.map(s=>{const r=j.filter(i=>i.department===s.name);return e.jsxs(o,{className:"border-2",children:[e.jsx(u,{children:e.jsxs(p,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"h-5 w-5"}),s.name]}),e.jsxs(y,{variant:"outline",children:["Nivel ",s.hierarchy," • ",r.length," empleados"]})]})}),e.jsx(h,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(i=>e.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-700 rounded-full flex items-center justify-center text-white text-sm font-bold",children:i.fullName.split(" ").map(N=>N[0]).join("").substring(0,2)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:i.fullName}),e.jsx("p",{className:"text-sm text-gray-600",children:i.position})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-3 w-3"}),e.jsx("span",{className:"text-xs",children:i.email})]}),i.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-3 w-3"}),e.jsx("span",{className:"text-xs",children:i.phone})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center justify-between",children:[e.jsx(y,{variant:i.status==="active"?"default":i.status==="vacation"?"secondary":"destructive",className:"text-xs",children:i.status==="active"?"Activo":i.status==="vacation"?"Vacaciones":"Inactivo"}),e.jsx(x,{size:"sm",variant:"ghost",onClick:()=>ie(i),className:"h-6 w-6 p-0",children:e.jsx(de,{className:"h-3 w-3"})})]})]},i.id))})})]},s.name)})})})]})}),e.jsx(Q,{value:"organigram",className:"space-y-4",children:e.jsxs(o,{children:[e.jsxs(u,{children:[e.jsx(p,{children:"Organigrama Organizacional"}),e.jsx(Y,{children:"Estructura jerárquica de la organización por departamentos"})]}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"inline-block",children:e.jsx(o,{className:"w-80 border-2 border-blue-200 bg-blue-50",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center text-white font-bold text-xl mx-auto mb-4",children:"DG"}),e.jsx("h2",{className:"font-bold text-xl text-blue-900 mb-2",children:"Dirección General"}),e.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Nivel Ejecutivo"}),e.jsxs(y,{className:"bg-blue-600",children:[j.filter(s=>s.department==="Dirección General").length," empleados"]}),e.jsx("div",{className:"mt-4 space-y-1",children:j.filter(s=>s.department==="Dirección General").map(s=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-semibold text-blue-800 text-sm",children:s.fullName}),e.jsx("p",{className:"text-xs text-blue-600",children:s.position})]},s.id))})]})})})})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-0.5 h-12 bg-gray-300"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:J.filter(s=>s!=="Dirección General").map(s=>{const r=j.filter(v=>v.department===s),i=[{bg:"bg-green-50",border:"border-green-200",text:"text-green-900",badge:"bg-green-600",header:"from-green-500 to-green-600"},{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-900",badge:"bg-purple-600",header:"from-purple-500 to-purple-600"},{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-900",badge:"bg-orange-600",header:"from-orange-500 to-orange-600"},{bg:"bg-red-50",border:"border-red-200",text:"text-red-900",badge:"bg-red-600",header:"from-red-500 to-red-600"},{bg:"bg-teal-50",border:"border-teal-200",text:"text-teal-900",badge:"bg-teal-600",header:"from-teal-500 to-teal-600"},{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-900",badge:"bg-indigo-600",header:"from-indigo-500 to-indigo-600"}],N=J.indexOf(s)%i.length,C=i[N];return e.jsxs(o,{className:`border-2 ${C.border} ${C.bg}`,children:[e.jsx(u,{className:`bg-gradient-to-r ${C.header} text-white rounded-t-lg`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center text-white font-bold text-lg mx-auto mb-3",children:s.substring(0,2).toUpperCase()}),e.jsx(p,{className:"text-white text-lg",children:s}),e.jsxs(Y,{className:"text-white text-opacity-90",children:[r.length," empleados"]})]})}),e.jsx(h,{className:"p-4 max-h-60 overflow-y-auto",children:e.jsxs("div",{className:"space-y-2",children:[r.map(v=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded-lg border text-sm",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-600 to-gray-800 rounded-full flex items-center justify-center text-white text-xs font-bold",children:v.fullName.split(" ").map(Ee=>Ee[0]).join("").substring(0,2)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:v.fullName}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:v.position})]}),e.jsx(y,{variant:v.status==="active"?"default":v.status==="vacation"?"secondary":"destructive",className:"text-xs",children:v.status==="active"?"A":v.status==="vacation"?"V":"I"})]},v.id)),r.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Sin empleados asignados"})]})})]},s)})})]})})]})})]}),e.jsx(V,{open:ue,onOpenChange:$,children:e.jsxs(z,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(H,{children:[e.jsx(G,{children:"Información del Empleado"}),e.jsx(R,{children:"Detalles completos del empleado seleccionado"})]}),c&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(o,{children:[e.jsx(u,{children:e.jsx(p,{className:"text-lg",children:"Información Personal"})}),e.jsxs(h,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-semibold",children:c.fullName})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:c.email})]}),c.phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(K,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:c.phone})]}),c.address&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ae,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:c.address})]})]})]}),e.jsxs(o,{children:[e.jsx(u,{children:e.jsx(p,{className:"text-lg",children:"Información Laboral"})}),e.jsxs(h,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:c.department})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:c.position})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Oe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:re(c.salary)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Desde ",new Date(c.hireDate).toLocaleDateString("es-MX")]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Me,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:c.workSchedule})]})]})]})]}),e.jsxs(o,{children:[e.jsx(u,{children:e.jsx(p,{className:"text-lg",children:"Contacto de Emergencia"})}),e.jsxs(h,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:c.emergencyContact})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(K,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:c.emergencyPhone})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(o,{children:[e.jsx(u,{children:e.jsx(p,{className:"text-lg",children:"Certificaciones"})}),e.jsx(h,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(te=c.certifications)==null?void 0:te.map((s,r)=>e.jsx(y,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:s},r))})})]}),e.jsxs(o,{children:[e.jsx(u,{children:e.jsx(p,{className:"text-lg",children:"Habilidades"})}),e.jsx(h,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(ne=c.skills)==null?void 0:ne.map((s,r)=>e.jsx(y,{variant:"secondary",className:"bg-green-100 text-green-800",children:s},r))})})]})]}),e.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:e.jsxs(x,{variant:"outline",onClick:()=>{$(!1),le(c)},children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"Editar Información"]})})]})]})}),e.jsx(V,{open:Ne,onOpenChange:O,children:e.jsxs(z,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(H,{children:[e.jsx(G,{children:"Nuevo Empleado"}),e.jsx(R,{children:"Registra un nuevo empleado en el sistema"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"fullName",children:"Nombre Completo *"}),e.jsx(d,{id:"fullName",value:a.fullName,onChange:s=>t({...a,fullName:s.target.value}),placeholder:"Nombre completo del empleado"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",children:"Correo Electrónico *"}),e.jsx(d,{id:"email",type:"email",value:a.email,onChange:s=>t({...a,email:s.target.value}),placeholder:"correo@parques.guadalajara.gob.mx"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Teléfono"}),e.jsx(d,{id:"phone",value:a.phone,onChange:s=>t({...a,phone:s.target.value}),placeholder:"+52 33 1234-5678"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"position",children:"Puesto *"}),e.jsx(d,{id:"position",value:a.position,onChange:s=>t({...a,position:s.target.value}),placeholder:"Director, Coordinador, etc."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"department",children:"Departamento *"}),e.jsxs(w,{value:a.department,onValueChange:s=>t({...a,department:s}),children:[e.jsx(E,{children:e.jsx(S,{placeholder:"Selecciona un departamento"})}),e.jsxs(D,{children:[e.jsx(l,{value:"Dirección General",children:"Dirección General"}),e.jsx(l,{value:"Coordinación de Administración",children:"Coordinación de Administración"}),e.jsx(l,{value:"Coordinación de Recursos Humanos",children:"Coordinación de Recursos Humanos"}),e.jsx(l,{value:"Coordinación de Mantenimiento",children:"Coordinación de Mantenimiento"}),e.jsx(l,{value:"Coordinación de Seguridad",children:"Coordinación de Seguridad"}),e.jsx(l,{value:"Coordinación de Finanzas",children:"Coordinación de Finanzas"}),e.jsx(l,{value:"Coordinación de Eventos y Actividades",children:"Coordinación de Eventos y Actividades"}),e.jsx(l,{value:"Personal Operativo",children:"Personal Operativo"}),e.jsx(l,{value:"Asistencia de Dirección",children:"Asistencia de Dirección"})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"salary",children:"Salario Mensual"}),e.jsx(d,{id:"salary",type:"number",value:a.salary,onChange:s=>t({...a,salary:s.target.value}),placeholder:"25000.00"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"hireDate",children:"Fecha de Contratación"}),e.jsx(d,{id:"hireDate",type:"date",value:a.hireDate,onChange:s=>t({...a,hireDate:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"status",children:"Estado"}),e.jsxs(w,{value:a.status,onValueChange:s=>t({...a,status:s}),children:[e.jsx(E,{children:e.jsx(S,{})}),e.jsxs(D,{children:[e.jsx(l,{value:"active",children:"Activo"}),e.jsx(l,{value:"vacation",children:"Vacaciones"}),e.jsx(l,{value:"inactive",children:"Inactivo"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"workSchedule",children:"Horario de Trabajo"}),e.jsx(d,{id:"workSchedule",value:a.workSchedule,onChange:s=>t({...a,workSchedule:s.target.value}),placeholder:"Lunes a Viernes 8:00-16:00"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"address",children:"Dirección"}),e.jsx(d,{id:"address",value:a.address,onChange:s=>t({...a,address:s.target.value}),placeholder:"Dirección del empleado"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"emergencyContact",children:"Contacto de Emergencia"}),e.jsx(d,{id:"emergencyContact",value:a.emergencyContact,onChange:s=>t({...a,emergencyContact:s.target.value}),placeholder:"Nombre del contacto"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"emergencyPhone",children:"Teléfono de Emergencia"}),e.jsx(d,{id:"emergencyPhone",value:a.emergencyPhone,onChange:s=>t({...a,emergencyPhone:s.target.value}),placeholder:"+52 33 1234-5678"})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"education",children:"Educación"}),e.jsx(d,{id:"education",value:a.education,onChange:s=>t({...a,education:s.target.value}),placeholder:"Licenciatura en..."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(x,{variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),e.jsx(x,{onClick:be,children:"Crear Empleado"})]})]})]})}),e.jsx(V,{open:fe,onOpenChange:I,children:e.jsxs(z,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(H,{children:[e.jsx(G,{children:"Editar Empleado"}),e.jsx(R,{children:"Modifica los datos del empleado"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editFullName",children:"Nombre Completo *"}),e.jsx(d,{id:"editFullName",value:a.fullName,onChange:s=>t({...a,fullName:s.target.value}),placeholder:"Nombre completo del empleado"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editEmail",children:"Correo Electrónico *"}),e.jsx(d,{id:"editEmail",type:"email",value:a.email,onChange:s=>t({...a,email:s.target.value}),placeholder:"correo@parques.guadalajara.gob.mx"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editPhone",children:"Teléfono"}),e.jsx(d,{id:"editPhone",value:a.phone,onChange:s=>t({...a,phone:s.target.value}),placeholder:"+52 33 1234-5678"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editPosition",children:"Puesto *"}),e.jsx(d,{id:"editPosition",value:a.position,onChange:s=>t({...a,position:s.target.value}),placeholder:"Director, Coordinador, etc."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editDepartment",children:"Departamento *"}),e.jsxs(w,{value:a.department,onValueChange:s=>t({...a,department:s}),children:[e.jsx(E,{children:e.jsx(S,{placeholder:"Selecciona un departamento"})}),e.jsxs(D,{children:[e.jsx(l,{value:"Dirección General",children:"Dirección General"}),e.jsx(l,{value:"Coordinación de Administración",children:"Coordinación de Administración"}),e.jsx(l,{value:"Coordinación de Recursos Humanos",children:"Coordinación de Recursos Humanos"}),e.jsx(l,{value:"Coordinación de Mantenimiento",children:"Coordinación de Mantenimiento"}),e.jsx(l,{value:"Coordinación de Seguridad",children:"Coordinación de Seguridad"}),e.jsx(l,{value:"Coordinación de Finanzas",children:"Coordinación de Finanzas"}),e.jsx(l,{value:"Coordinación de Eventos y Actividades",children:"Coordinación de Eventos y Actividades"}),e.jsx(l,{value:"Personal Operativo",children:"Personal Operativo"}),e.jsx(l,{value:"Asistencia de Dirección",children:"Asistencia de Dirección"})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editSalary",children:"Salario Mensual"}),e.jsx(d,{id:"editSalary",type:"number",value:a.salary,onChange:s=>t({...a,salary:s.target.value}),placeholder:"25000.00"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editHireDate",children:"Fecha de Contratación"}),e.jsx(d,{id:"editHireDate",type:"date",value:a.hireDate,onChange:s=>t({...a,hireDate:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editStatus",children:"Estado"}),e.jsxs(w,{value:a.status,onValueChange:s=>t({...a,status:s}),children:[e.jsx(E,{children:e.jsx(S,{})}),e.jsxs(D,{children:[e.jsx(l,{value:"active",children:"Activo"}),e.jsx(l,{value:"vacation",children:"Vacaciones"}),e.jsx(l,{value:"inactive",children:"Inactivo"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editWorkSchedule",children:"Horario de Trabajo"}),e.jsx(d,{id:"editWorkSchedule",value:a.workSchedule,onChange:s=>t({...a,workSchedule:s.target.value}),placeholder:"Lunes a Viernes 8:00-16:00"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editAddress",children:"Dirección"}),e.jsx(d,{id:"editAddress",value:a.address,onChange:s=>t({...a,address:s.target.value}),placeholder:"Dirección del empleado"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editEmergencyContact",children:"Contacto de Emergencia"}),e.jsx(d,{id:"editEmergencyContact",value:a.emergencyContact,onChange:s=>t({...a,emergencyContact:s.target.value}),placeholder:"Nombre del contacto"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editEmergencyPhone",children:"Teléfono de Emergencia"}),e.jsx(d,{id:"editEmergencyPhone",value:a.emergencyPhone,onChange:s=>t({...a,emergencyPhone:s.target.value}),placeholder:"+52 33 1234-5678"})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"editEducation",children:"Educación"}),e.jsx(d,{id:"editEducation",value:a.education,onChange:s=>t({...a,education:s.target.value}),placeholder:"Licenciatura en..."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(x,{variant:"outline",onClick:()=>I(!1),children:"Cancelar"}),e.jsx(x,{onClick:Ce,children:"Actualizar Empleado"})]})]})]})}),e.jsx(V,{open:ye,onOpenChange:M,children:e.jsxs(z,{children:[e.jsxs(H,{children:[e.jsx(G,{children:"Confirmar Eliminación"}),e.jsx(R,{children:"¿Estás seguro de que deseas eliminar este empleado del sistema?"})]}),c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-medium",children:c.fullName}),e.jsx("p",{className:"text-sm text-gray-600",children:c.position}),e.jsx("p",{className:"text-sm text-gray-600",children:c.department})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-yellow-800 text-sm font-medium",children:"⚠️ Importante"}),e.jsxs("p",{className:"text-yellow-700 text-sm",children:["Si el empleado tiene registros relacionados (nómina, vacaciones, tiempo), será ",e.jsx("strong",{children:"desactivado"})," en lugar de eliminado para preservar la integridad de los datos."]}),e.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Solo los empleados sin registros relacionados pueden ser eliminados permanentemente."})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(x,{variant:"outline",onClick:()=>M(!1),children:"Cancelar"}),e.jsx(x,{variant:"destructive",onClick:we,children:"Eliminar Empleado"})]})]})]})})]})})}export{Ge as default};
