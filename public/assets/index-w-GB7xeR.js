import{aD as _e,am as Be,e as He,a6 as Je,Y as m,u as Qe,a8 as D,j as e,aI as $e,aB as Ke,B as p,W as oe,bb as te,D as le,p as Ge,az as ce,r as de,t as me,v as pe,w as ue,bh as he,bi as ge,bj as F,bk as h,bl as xe,bm as g,b2 as We,y as je,z as O,H as L,J as R,K as q,N as t,C as ve,a as Ze,b as Ye,c as fe,Z as be,I as Xe,ak as ea,aE as aa,f as $,x as sa,b7 as ra,ai as K,cv as G,cw as na,cs as ia,ct as oa,cu as ta,cx as la}from"./index-VG22aPDC.js";import{H as ca}from"./Helmet-CoO02W0T.js";import{S as W}from"./skeleton-BEdbCltD.js";import{T as da}from"./tree-species-icon-DU5qNHcK.js";import{C as ma}from"./circle-check-B0Aa9c5g.js";import"./flower-CBAEYh02.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=_e("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);function Na(){const[,Z]=Be(),{toast:c}=He(),E=Je(),z=m.useRef(null),Y=m.useRef(null),[P,Ne]=m.useState(""),[k,ye]=m.useState("all"),[X,T]=m.useState(1),[M,Ce]=m.useState("common_name"),[U,we]=m.useState("asc"),[y,V]=m.useState([]),[Se,I]=m.useState(!1),[Ee,A]=m.useState(!1),[f,_]=m.useState(null),[ee,ae]=m.useState("general"),[ua,Pe]=m.useState(!1),se=a=>a.replace(/Ã¡/g,"á").replace(/Ã©/g,"é").replace(/Ã­/g,"í").replace(/Ã³/g,"ó").replace(/Ãº/g,"ú").replace(/Ã±/g,"ñ").replace(/Ã/g,"Á").replace(/Ã‰/g,"É").replace(/Ã/g,"Í").replace(/Ã"/g,"Ó").replace(/Ãš/g,"Ú").replace(/Ã'/g,"Ñ").replace(/Â¿/g,"¿").replace(/Â¡/g,"¡").replace(/Ã¼/g,"ü").replace(/Ã‡/g,"Ç").replace(/Ã§/g,"ç"),{data:b,isLoading:ke,error:Te}=Qe({queryKey:["/api/tree-species",P,k,X,M,U],queryFn:async()=>{const a=new URLSearchParams;P&&a.append("search",P),k!=="all"&&a.append("origin",k),a.append("page",X.toString()),a.append("sortBy",M),a.append("sortOrder",U);const s=await fetch(`/api/tree-species?${a.toString()}`);if(!s.ok)throw new Error("Error al cargar especies arbóreas");return s.json()}}),re=(b==null?void 0:b.data)||[],o=(b==null?void 0:b.pagination)||{total:0,page:1,limit:10,totalPages:1},Ie=a=>{a.preventDefault(),T(1)},Ae=()=>{Z("/admin/trees/catalog/new")},ne=a=>{Z(`/admin/trees/catalog/${a}`)},B=D({mutationFn:async a=>{console.log("=== MUTATION FUNCTION ==="),console.log("Received data in mutation:",a),console.log("Data length:",a==null?void 0:a.length);const s={data:a};console.log("Sending payload:",s),console.log("Payload JSON:",JSON.stringify(s));const i=await K("/api/tree-species/import/csv",{method:"POST",data:s,headers:{"Content-Type":"application/json"}});return console.log("API Response:",i),i},onSuccess:a=>{c({title:"Importación completada",description:a.message}),E.invalidateQueries({queryKey:["/api/tree-species"]}),I(!1),V([])},onError:a=>{c({title:"Error en la importación",description:a.message||"Error al importar especies",variant:"destructive"})}}),De=async()=>{try{const a=await fetch("/api/tree-species/export/csv");if(!a.ok)throw new Error("Error al exportar CSV");const s=await a.blob(),i=window.URL.createObjectURL(s),r=document.createElement("a");r.style.display="none",r.href=i,r.download="especies-arboreas.csv",document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(i),document.body.removeChild(r),c({title:"Exportación exitosa",description:"El archivo CSV se ha descargado correctamente"})}catch{c({title:"Error al exportar",description:"No se pudo exportar el archivo CSV",variant:"destructive"})}},Fe=()=>{const a=["nombre_comun","nombre_cientifico","familia","origen","ritmo_crecimiento","url_imagen","amenazada","descripcion","beneficios_ecologicos","requisitos_mantenimiento","esperanza_vida","zona_climatica","requisitos_suelo","requisitos_agua","requisitos_sol","valor_ornamental","usos_comunes"],s=[["Ahuehuete","Taxodium mucronatum","Cupressaceae","Nativo","Medio","https://ejemplo.com/ahuehuete.jpg","no","Árbol sagrado de México, de gran longevidad y porte majestuoso. Se caracteriza por su tronco grueso y su corteza fibrosa. Es el árbol nacional de México.","Purifica el aire, proporciona sombra abundante, refugio para fauna, control de erosión, absorbe CO2","Riego abundante los primeros años, poda de mantenimiento ocasional, fertilización anual","500-1500 años","Templado húmedo a subtropical","Suelos húmedos, bien drenados, tolera encharcamiento temporal","Abundante, tolera inundaciones estacionales","Pleno sol a sombra parcial","Alto - follaje denso, forma característica, corteza atractiva","Ornamental, sombra, conservación de suelos, valor histórico y cultural"],["Jacaranda","Jacaranda mimosifolia","Bignoniaceae","Introducido","Rápido","https://ejemplo.com/jacaranda.jpg","no","Árbol ornamental famoso por su espectacular floración violeta. Originario de Argentina, ampliamente cultivado en México por su belleza.","Atrae polinizadores, proporciona sombra, mejora paisaje urbano","Riego moderado, poda después de floración, fertilización en primavera","50-100 años","Subtropical a templado","Bien drenados, tolera sequía una vez establecido","Moderada, evitar encharcamiento","Pleno sol","Muy alto - floración espectacular, follaje delicado","Ornamental, sombra en parques y avenidas, paisajismo"]],i=[a.join(","),...s.map(v=>v.map(C=>`"${C.replace(/"/g,'""')}"`).join(","))].join(`
`),r=new Blob([i],{type:"text/csv;charset=utf-8;"}),n=window.URL.createObjectURL(r),l=document.createElement("a");l.style.display="none",l.href=n,l.download="plantilla-especies-arboreas.csv",document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(n),document.body.removeChild(l),c({title:"Plantilla descargada",description:"La plantilla CSV con ejemplos se ha descargado correctamente"})},Oe=a=>{var r;const s=(r=a.target.files)==null?void 0:r[0];if(!s)return;if(!s.name.toLowerCase().endsWith(".csv")){c({title:"Archivo inválido",description:"Por favor selecciona un archivo CSV",variant:"destructive"});return}const i=new FileReader;i.onload=n=>{var w;let l=(w=n.target)==null?void 0:w.result;l=se(l),console.log("CSV después de corrección de encoding (preview):",l.substring(0,500));const v=l.split(`
`).filter(x=>x.trim());if(v.length<2){c({title:"Archivo vacío",description:"El archivo CSV no contiene datos",variant:"destructive"});return}const C=v[0].split(",").map(x=>x.trim().replace(/"/g,"")),N=v.slice(1).map((x,ie)=>{const j=x.split(",").map(S=>S.trim().replace(/"/g,"")),d={};return C.forEach((S,Q)=>{const u=j[Q]||"";switch(S.toLowerCase().replace(/[_\s]/g,"")){case"nombrecomun":case"nombrecomún":case"commonname":d.commonName=u;break;case"nombrecientifico":case"nombrecientífico":case"scientificname":d.scientificName=u;break;case"familia":case"family":d.family=u;break;case"origen":case"origin":d.origin=u;break;case"ritmodecrecimiento":case"ritmocrecimiento":case"growthrate":d.growthRate=u;break;case"amenazada":case"isendangered":case"endangered":d.isEndangered=u.toLowerCase()==="sí"||u.toLowerCase()==="true"||u.toLowerCase()==="yes";break;case"descripción":case"descripcion":case"description":d.description=u;break;case"instruccionesdecuidado":case"careinstructions":d.careInstructions=u;break;case"beneficios":case"beneficiosecologicos":case"benefits":d.benefits=u;break;case"urldeimagen":case"imageurl":case"urlimagen":d.imageUrl=u;break}}),d});V(N.slice(0,5)),I(!0)},i.readAsText(s)},Le=()=>{var i,r;if(y.length===0)return;const a=(r=(i=z.current)==null?void 0:i.files)==null?void 0:r[0];if(!a)return;const s=new FileReader;s.onload=n=>{var w;let l=(w=n.target)==null?void 0:w.result;l=se(l),console.log("CSV después de corrección de encoding (importación):",l.substring(0,500));const v=l.split(`
`).filter(x=>x.trim()),C=v[0].split(",").map(x=>x.trim().replace(/"/g,"")),N=v.slice(1).map(x=>{const ie=x.split(",").map(d=>d.trim().replace(/"/g,"")),j={};return C.forEach((d,S)=>{const Q=ie[S]||"";j[d.toLowerCase()]=Q}),j.isendangered!==void 0&&(j.isEndangered=j.isendangered==="true"||j.isendangered===!0,delete j.isendangered),console.log("Parsed row:",j),j});console.log("=== FRONTEND CSV DATA ==="),console.log("Parsed data:",N),console.log("Data length:",N.length),console.log("First row:",N[0]),B.mutate(N)},s.readAsText(a)},Re=a=>{const s=a.target.files;if(!s||s.length===0)return;const i=Array.from(s).filter(r=>{const n=r.type.startsWith("image/")&&(r.type==="image/png"||r.type==="image/jpeg"||r.type==="image/svg+xml");return n||c({title:"Archivo inválido",description:`${r.name} no es un archivo de imagen válido`,variant:"destructive"}),n});if(i.length>0){const r=new DataTransfer;i.forEach(n=>r.items.add(n)),_(r.files),A(!0)}},H=D({mutationFn:async({files:a,family:s})=>{const i=new FormData;Array.from(a).forEach(n=>{i.append("icons",n)}),i.append("family",s);const r=await fetch("/api/tree-species/bulk-upload-icons",{method:"POST",body:i});if(!r.ok){const n=await r.json();throw new Error(n.error||"Error en la carga masiva")}return r.json()},onSuccess:a=>{c({title:"Carga masiva completada",description:`${a.successCount} especies creadas/actualizadas exitosamente`}),E.invalidateQueries({queryKey:["/api/tree-species"]}),A(!1),_(null),ae("general")},onError:a=>{c({title:"Error en la carga masiva",description:a.message||"Error al procesar los iconos",variant:"destructive"})}}),qe=()=>{!f||f.length===0||(Pe(!0),H.mutate({files:f,family:ee}))},J=D({mutationFn:async a=>K(`/api/tree-species/${a}`,{method:"DELETE"}),onSuccess:a=>{c({title:"Especie eliminada",description:a.message||"La especie ha sido eliminada correctamente"}),E.invalidateQueries({queryKey:["/api/tree-species"]})},onError:a=>{c({title:"Error al eliminar",description:a.message||"No se pudo eliminar la especie",variant:"destructive"})}}),ze=a=>{window.confirm(`¿Estás seguro de que deseas eliminar la especie "${a.commonName}"?

Esta acción no se puede deshacer.`)&&J.mutate(a.id)},Me=D({mutationFn:async()=>K("/api/tree-species/delete-all",{method:"DELETE"}),onSuccess:a=>{c({title:"Catálogo limpiado",description:a.message||"Todas las especies han sido eliminadas del catálogo"}),E.invalidateQueries({queryKey:["/api/tree-species"]})},onError:a=>{c({title:"Error al limpiar catálogo",description:a.message||"No se pudieron eliminar todas las especies",variant:"destructive"})}}),Ue=()=>{Me.mutate()},Ve=()=>{if(!o||o.totalPages<=1)return null;const a=[],s=5,i=Math.max(1,o.page-Math.floor(s/2)),r=Math.min(o.totalPages,i+s-1);for(let n=i;n<=r;n++)a.push(e.jsx(G,{children:e.jsx(na,{isActive:o.page===n,onClick:()=>T(n),children:n})},n));return e.jsx(ia,{className:"mt-4",children:e.jsxs(oa,{children:[e.jsx(G,{children:e.jsx(ta,{onClick:()=>T(n=>Math.max(1,n-1)),"aria-disabled":o.page<=1,className:o.page<=1?"pointer-events-none opacity-50":""})}),a,e.jsx(G,{children:e.jsx(la,{onClick:()=>T(n=>Math.min(o.totalPages,n+1)),"aria-disabled":o.page>=o.totalPages,className:o.page>=o.totalPages?"pointer-events-none opacity-50":""})})]})})};return Te&&c({title:"Error",description:"No se pudieron cargar las especies arbóreas. Por favor, intenta nuevamente.",variant:"destructive"}),e.jsxs($e,{children:[e.jsxs(ca,{children:[e.jsx("title",{children:"Catálogo de Especies Arbóreas | Bosques Urbanos"}),e.jsx("meta",{name:"description",content:"Gestión y consulta del catálogo de especies arbóreas para parques y espacios públicos"})]}),e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-green-800 flex items-center",children:[e.jsx(Ke,{className:"mr-2 h-8 w-8"}),"Catálogo de Especies Arbóreas"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona el catálogo de especies arbóreas para los parques y espacios públicos"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{onClick:De,variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-50",children:[e.jsx(oe,{className:"mr-2 h-4 w-4"})," Exportar CSV"]}),e.jsxs(p,{onClick:()=>{window.confirm(`¿Estás seguro de que deseas eliminar TODAS las especies del catálogo?

Esta acción no se puede deshacer. Se recomienda exportar un respaldo antes de continuar.`)&&Ue()},variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:[e.jsx(te,{className:"mr-2 h-4 w-4"})," Borrar Todas"]}),e.jsxs(le,{open:Se,onOpenChange:I,children:[e.jsx(Ge,{asChild:!0,children:e.jsxs(p,{variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50",onClick:()=>{var a;return(a=z.current)==null?void 0:a.click()},children:[e.jsx(ce,{className:"mr-2 h-4 w-4"})," Importar CSV"]})}),e.jsxs(p,{variant:"outline",className:"border-purple-600 text-purple-600 hover:bg-purple-50",onClick:()=>{var a;return(a=Y.current)==null?void 0:a.click()},children:[e.jsx(ce,{className:"mr-2 h-4 w-4"})," Subir Iconos"]}),e.jsxs(de,{className:"max-w-2xl",children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Importar Especies desde CSV"}),e.jsx(ue,{children:y.length>0?"Vista previa de los primeros 5 registros. Confirma para importar todos los datos.":"Selecciona un archivo CSV para importar especies o descarga la plantilla para ver el formato requerido."})]}),y.length===0&&e.jsxs("div",{className:"flex flex-col space-y-4 p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"¿Primera vez importando especies? Descarga la plantilla con ejemplos para ver el formato correcto."}),e.jsxs(p,{onClick:Fe,variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-50",children:[e.jsx(oe,{className:"mr-2 h-4 w-4"})," Descargar Plantilla CSV"]})]}),e.jsx("div",{className:"text-center text-sm text-gray-500",children:"La plantilla incluye todas las columnas disponibles y dos ejemplos (Ahuehuete y Jacaranda)"})]}),y.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(he,{children:[e.jsx(ge,{children:e.jsxs(F,{children:[e.jsx(h,{children:"Nombre Común"}),e.jsx(h,{children:"Nombre Científico"}),e.jsx(h,{children:"Familia"}),e.jsx(h,{children:"Origen"})]})}),e.jsx(xe,{children:y.map((a,s)=>e.jsxs(F,{children:[e.jsx(g,{children:a.commonName||"N/A"}),e.jsx(g,{className:"italic",children:a.scientificName||"N/A"}),e.jsx(g,{children:a.family||"N/A"}),e.jsx(g,{children:a.origin||"N/A"})]},s))})]})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(p,{variant:"outline",onClick:()=>{I(!1),V([])},children:"Cancelar"}),e.jsx(p,{onClick:Le,disabled:B.isPending,className:"bg-green-600 hover:bg-green-700",children:B.isPending?"Importando...":"Confirmar Importación"})]})]})]})]}),e.jsxs(p,{onClick:Ae,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(We,{className:"mr-2 h-4 w-4"})," Nueva Especie"]})]})]}),e.jsx("input",{ref:z,type:"file",accept:".csv",style:{display:"none"},onChange:Oe}),e.jsx("input",{ref:Y,type:"file",accept:".png,.jpg,.jpeg,.svg",multiple:!0,style:{display:"none"},onChange:Re}),e.jsx(le,{open:Ee,onOpenChange:A,children:e.jsxs(de,{className:"max-w-md",children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Subir Iconos para Especies de Árboles"}),e.jsx(ue,{children:"Sube múltiples iconos para crear o actualizar especies de árboles automáticamente."})]}),f&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(je,{children:["Archivos seleccionados: ",f.length]}),e.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border rounded p-2",children:Array.from(f).map((a,s)=>e.jsx("div",{className:"text-sm text-gray-600",children:a.name},s))})]}),e.jsxs("div",{children:[e.jsx(je,{htmlFor:"family",children:"Familia de árboles"}),e.jsxs(O,{value:ee,onValueChange:ae,children:[e.jsx(L,{children:e.jsx(R,{placeholder:"Selecciona una familia"})}),e.jsxs(q,{children:[e.jsx(t,{value:"general",children:"General"}),e.jsx(t,{value:"pinus",children:"Pinus (Pinos)"}),e.jsx(t,{value:"quercus",children:"Quercus (Robles)"}),e.jsx(t,{value:"ficus",children:"Ficus"}),e.jsx(t,{value:"jacaranda",children:"Jacaranda"}),e.jsx(t,{value:"fraxinus",children:"Fraxinus (Fresnos)"}),e.jsx(t,{value:"eucalyptus",children:"Eucalyptus"}),e.jsx(t,{value:"palmae",children:"Palmae (Palmas)"}),e.jsx(t,{value:"citrus",children:"Citrus (Cítricos)"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(p,{variant:"outline",onClick:()=>{A(!1),_(null)},children:"Cancelar"}),e.jsx(p,{onClick:qe,disabled:H.isPending,className:"bg-purple-600 hover:bg-purple-700",children:H.isPending?"Subiendo...":"Subir Iconos"})]})]})]})}),e.jsxs(ve,{className:"mb-6",children:[e.jsx(Ze,{className:"pb-3",children:e.jsx(Ye,{className:"text-lg font-medium",children:"Filtros y Búsqueda"})}),e.jsx(fe,{children:e.jsxs("form",{onSubmit:Ie,className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(be,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),e.jsx(Xe,{type:"text",placeholder:"Buscar por nombre común, científico o familia...",className:"pl-9",value:P,onChange:a=>Ne(a.target.value)})]})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsxs(O,{value:k,onValueChange:ye,children:[e.jsxs(L,{className:"w-full",children:[e.jsx(ea,{className:"mr-2 h-4 w-4"}),e.jsx(R,{placeholder:"Origen"})]}),e.jsxs(q,{children:[e.jsx(t,{value:"all",children:"Todos los orígenes"}),e.jsx(t,{value:"Nativo",children:"Nativo"}),e.jsx(t,{value:"Introducido",children:"Introducido"})]})]})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsxs(O,{value:M,onValueChange:Ce,children:[e.jsx(L,{className:"w-full",children:e.jsx(R,{placeholder:"Ordenar por"})}),e.jsxs(q,{children:[e.jsx(t,{value:"common_name",children:"Nombre Común"}),e.jsx(t,{value:"scientific_name",children:"Nombre Científico"}),e.jsx(t,{value:"origin",children:"Origen"})]})]})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsxs(O,{value:U,onValueChange:we,children:[e.jsx(L,{className:"w-full",children:e.jsx(R,{placeholder:"Dirección"})}),e.jsxs(q,{children:[e.jsx(t,{value:"asc",children:"Ascendente"}),e.jsx(t,{value:"desc",children:"Descendente"})]})]})}),e.jsxs(p,{type:"submit",className:"bg-green-600 hover:bg-green-700 w-full md:w-auto",children:[e.jsx(be,{className:"mr-2 h-4 w-4"})," Buscar"]})]})})]}),e.jsx(ve,{children:e.jsxs(fe,{className:"pt-6",children:[ke?e.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((a,s)=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(W,{className:"h-12 w-12 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{className:"h-4 w-[250px]"}),e.jsx(W,{className:"h-4 w-[200px]"})]})]},s))}):re.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(aa,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-lg font-medium",children:"No se encontraron especies arbóreas"}),e.jsx("p",{className:"mt-1 text-gray-500",children:"Prueba con otros términos de búsqueda o agrega nuevas especies al catálogo."})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",(o.page-1)*o.limit+1," - ",Math.min(o.page*o.limit,o.total)," de ",o.total," especies"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(pa,{className:"h-4 w-4"}),"Página ",o.page," de ",o.totalPages]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(he,{children:[e.jsx(ge,{children:e.jsxs(F,{children:[e.jsx(h,{className:"w-[60px]",children:"Icono"}),e.jsx(h,{children:"Nombre Común"}),e.jsx(h,{children:"Nombre Científico"}),e.jsx(h,{children:"Familia"}),e.jsx(h,{children:"Origen"}),e.jsx(h,{children:"Crecimiento"}),e.jsx(h,{children:"Estado"}),e.jsx(h,{className:"text-right",children:"Acciones"})]})}),e.jsx(xe,{children:re.map(a=>e.jsxs(F,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>ne(a.id),children:[e.jsx(g,{children:e.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-green-50",children:e.jsx(da,{name:a.commonName,iconType:a.iconType||"system",customIconUrl:a.customIconUrl,size:32,className:"text-green-600"})})}),e.jsx(g,{className:"font-medium",children:a.commonName}),e.jsx(g,{className:"italic",children:a.scientificName}),e.jsx(g,{children:a.family}),e.jsx(g,{children:e.jsx($,{variant:a.origin==="Nativo"?"default":"outline",children:a.origin})}),e.jsx(g,{children:a.growthRate}),e.jsx(g,{children:a.isEndangered?e.jsxs($,{variant:"destructive",className:"flex items-center gap-1",children:[e.jsx(sa,{className:"h-3 w-3"})," Amenazada"]}):e.jsxs($,{variant:"outline",className:"flex items-center gap-1 text-green-600 bg-green-50",children:[e.jsx(ma,{className:"h-3 w-3"})," Normal"]})}),e.jsx(g,{className:"text-right",children:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsxs(p,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),ne(a.id)},className:"text-green-600 hover:text-green-800 hover:bg-green-50",children:[e.jsx(ra,{className:"h-4 w-4 mr-1"})," Ver"]}),e.jsxs(p,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),ze(a)},className:"text-red-600 hover:text-red-800 hover:bg-red-50",disabled:J.isPending,children:[e.jsx(te,{className:"h-4 w-4 mr-1"}),J.isPending?"Eliminando...":"Eliminar"]})]})})]},a.id))})]})})]}),Ve()]})})]})]})}export{Na as default};
