import{c as Ee,a2 as f,j as e,f as o,i as d,F as Ce,bp as be,U as ie,b0 as Ne,g as N,h as y,a4 as Ae,O as C,B as x,a5 as Pe,a6 as Te,w as Z,x as we,bh as ge,y as ee,z as se,I as ae,J as te,N as c,Q as D,V as R,W as F,Y as I,_ as g,$ as O,o as b,ao as B,ab as w,au as Q,cv as xe,aM as De,aN as Re,X as Fe,bG as Ie,R as M,ae as Me,l as Ve,n as me,ah as pe,bo as je,p as he,K as Se,aY as ke,as as fe,m as ze,a3 as qe,aZ as Le,b as Be,aW as Oe,aT as _e}from"./index-D5qLf1ib.js";import{R as Ue,a as ue}from"./radio-group-D6R_xETy.js";import{S as ne}from"./send-Bxi1PaXf.js";import{P as $}from"./play-B_ipEGUr.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=Ee("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),Ye=()=>{var ce;const[j,E]=f.useState(!1),[l,h]=f.useState(!1),[i,p]=f.useState(!1),[r,A]=f.useState(null),[m,V]=f.useState("grid"),[P,S]=f.useState(1),[T,_]=f.useState(""),[t,s]=f.useState({name:"",category:"",description:"",subject:"",htmlContent:"",textContent:"",variables:[],newVariable:"",usage:"manual",module:"",isActive:!0}),u=["Recursos Humanos","Finanzas","Eventos","Actividades","Voluntarios","Concesiones","Infraestructura","Seguridad","Medio Ambiente"],U=["HR","Finanzas","Eventos","Actividades","Voluntarios","Concesiones","Activos","Seguridad","Arbolado"],q=()=>{console.log("Creating template:",t),E(!1),s({name:"",category:"",description:"",subject:"",htmlContent:"",textContent:"",variables:[],newVariable:"",usage:"manual",module:"",isActive:!0})},L=()=>{t.newVariable.trim()&&!t.variables.includes(t.newVariable.trim())&&s({...t,variables:[...t.variables,`{{${t.newVariable.trim()}}}`],newVariable:""})},Y=a=>{s({...t,variables:t.variables.filter((k,G)=>G!==a)})},X=[{id:1,name:"Bienvenida Empleado",category:"Recursos Humanos",description:"Plantilla para dar la bienvenida a nuevos empleados del sistema de parques",subject:"Bienvenido {{nombre_empleado}} - {{departamento}}",htmlContent:`<div style='font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px;'>
        <h2 style='color: #00a587; text-align: center;'>¬°Bienvenido al Equipo!</h2>
        <p>Estimado/a {{nombre_empleado}},</p>
        <p>Es un placer darte la bienvenida al departamento de <strong>{{departamento}}</strong>. Tu fecha de inicio ser√° el <strong>{{fecha_inicio}}</strong>.</p>
        <p>Tu supervisor directo ser√° <strong>{{supervisor}}</strong>, quien te ayudar√° durante tu proceso de integraci√≥n.</p>
        <div style='background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin: 20px 0;'>
          <h3 style='color: #00a587; margin-top: 0;'>Pr√≥ximos pasos:</h3>
          <ul>
            <li>Revisi√≥n de documentos de recursos humanos</li>
            <li>Asignaci√≥n de equipo de trabajo</li>
            <li>Orientaci√≥n sobre pol√≠ticas y procedimientos</li>
            <li>Presentaci√≥n del equipo</li>
          </ul>
        </div>
        <p>¬°Estamos emocionados de tenerte en nuestro equipo!</p>
        <p>Saludos cordiales,<br>Equipo de Recursos Humanos</p>
      </div>`,textContent:`¬°Bienvenido al Equipo!

Estimado/a {{nombre_empleado}},

Es un placer darte la bienvenida al departamento de {{departamento}}. Tu fecha de inicio ser√° el {{fecha_inicio}}.

Tu supervisor directo ser√° {{supervisor}}, quien te ayudar√° durante tu proceso de integraci√≥n.

Pr√≥ximos pasos:
- Revisi√≥n de documentos de recursos humanos
- Asignaci√≥n de equipo de trabajo
- Orientaci√≥n sobre pol√≠ticas y procedimientos
- Presentaci√≥n del equipo

¬°Estamos emocionados de tenerte en nuestro equipo!

Saludos cordiales,
Equipo de Recursos Humanos`,variables:["{{nombre_empleado}}","{{departamento}}","{{fecha_inicio}}","{{supervisor}}"],usage:"Autom√°tica al crear empleado",color:"bg-blue-500",icon:e.jsx(ie,{className:"h-5 w-5"})},{id:2,name:"Recibo de N√≥mina",category:"Finanzas",description:"Notificaci√≥n de recibo de n√≥mina generado para empleados",variables:["{{empleado}}","{{periodo}}","{{monto_total}}","{{fecha_pago}}"],usage:"Autom√°tica al procesar n√≥mina",color:"bg-green-500",icon:e.jsx(fe,{className:"h-5 w-5"})},{id:3,name:"Nueva Actividad en Parque",category:"Eventos",description:"Notificaci√≥n sobre nuevas actividades programadas en parques",variables:["{{nombre_actividad}}","{{parque}}","{{fecha_hora}}","{{instructor}}"],usage:"Manual o autom√°tica",color:"bg-purple-500",icon:e.jsx(ze,{className:"h-5 w-5"})},{id:4,name:"Reconocimiento Voluntario",category:"Voluntarios",description:"Certificado de reconocimiento para voluntarios destacados",variables:["{{nombre_voluntario}}","{{horas_servicio}}","{{periodo}}","{{logros}}"],usage:"Manual",color:"bg-orange-500",icon:e.jsx(qe,{className:"h-5 w-5"})},{id:5,name:"Vencimiento de Contrato",category:"Concesiones",description:"Alerta sobre contratos de concesi√≥n pr√≥ximos a vencer",variables:["{{concesionario}}","{{fecha_vencimiento}}","{{tipo_contrato}}","{{monto}}"],usage:"Autom√°tica (30 d√≠as antes)",color:"bg-red-500",icon:e.jsx(Se,{className:"h-5 w-5"})},{id:6,name:"Mantenimiento de Activos",category:"Infraestructura",description:"Notificaci√≥n de mantenimiento programado o requerido",variables:["{{activo}}","{{tipo_mantenimiento}}","{{fecha_programada}}","{{responsable}}"],usage:"Autom√°tica por calendario",color:"bg-yellow-500",icon:e.jsx(Le,{className:"h-5 w-5"})},{id:7,name:"Evaluaci√≥n de Instructor",category:"Recursos Humanos",description:"Recordatorio para completar evaluaciones de instructores",variables:["{{instructor}}","{{actividad}}","{{fecha_limite}}","{{evaluador}}"],usage:"Autom√°tica mensual",color:"bg-indigo-500",icon:e.jsx(Be,{className:"h-5 w-5"})},{id:8,name:"Reporte de Incidente",category:"Seguridad",description:"Notificaci√≥n inmediata sobre incidentes en parques",variables:["{{tipo_incidente}}","{{parque}}","{{hora}}","{{estado}}","{{responsable}}"],usage:"Autom√°tica al reportar",color:"bg-red-600",icon:e.jsx(Oe,{className:"h-5 w-5"})},{id:9,name:"Actualizaci√≥n de Presupuesto",category:"Finanzas",description:"Resumen mensual de ejecuci√≥n presupuestaria",variables:["{{mes}}","{{ingresos}}","{{egresos}}","{{saldo}}","{{proyeccion}}"],usage:"Autom√°tica mensual",color:"bg-teal-500",icon:e.jsx(ke,{className:"h-5 w-5"})},{id:10,name:"Cuidado del Arbolado",category:"Medio Ambiente",description:"Programa de cuidado y mantenimiento de √°rboles",variables:["{{especie}}","{{ubicacion}}","{{accion_requerida}}","{{fecha_programada}}"],usage:"Autom√°tica estacional",color:"bg-green-600",icon:e.jsx(_e,{className:"h-5 w-5"})},{id:11,name:"Confirmaci√≥n de Inscripci√≥n",category:"Actividades",description:"Email autom√°tico enviado cuando un usuario se inscribe a una actividad (pendiente de aprobaci√≥n)",subject:"‚úÖ Confirmaci√≥n de Inscripci√≥n - {{activityTitle}}",htmlContent:`<div style='font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #f9f9f9;'>
        <div style='background-color: white; border-radius: 10px; padding: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);'>
          <div style='text-align: center; margin-bottom: 30px;'>
            <h1 style='color: #16a34a; margin: 0; font-size: 28px;'>üéØ ParkSys</h1>
          </div>
          
          <h2 style='color: #333; text-align: center; margin-bottom: 30px;'>¬°Inscripci√≥n Recibida!</h2>
          
          <div style='background-color: #f0f9ff; border-left: 4px solid #16a34a; padding: 20px; margin: 20px 0; border-radius: 0 8px 8px 0;'>
            <p style='margin: 0; color: #333; font-size: 16px;'>
              <strong>Hola {{participantName}},</strong>
            </p>
            <p style='margin: 10px 0 0 0; color: #666;'>
              Hemos recibido tu inscripci√≥n para la actividad <strong>{{activityTitle}}</strong> 
              y est√° siendo revisada por nuestro equipo.
            </p>
          </div>
          
          <div style='background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;'>
            <h3 style='color: #16a34a; margin-top: 0;'>Detalles de la Actividad:</h3>
            <ul style='list-style: none; padding: 0; margin: 0;'>
              <li style='padding: 8px 0; border-bottom: 1px solid #e2e8f0;'><strong>üìç Actividad:</strong> {{activityTitle}}</li>
              <li style='padding: 8px 0; border-bottom: 1px solid #e2e8f0;'><strong>üèõÔ∏è Parque:</strong> {{parkName}}</li>
              <li style='padding: 8px 0; border-bottom: 1px solid #e2e8f0;'><strong>üìÖ Fecha:</strong> {{activityStartDate}}</li>
              <li style='padding: 8px 0; border-bottom: 1px solid #e2e8f0;'><strong>‚è∞ Hora:</strong> {{activityStartTime}}</li>
              <li style='padding: 8px 0;'><strong>üìç Ubicaci√≥n:</strong> {{activityLocation}}</li>
            </ul>
          </div>
          
          <div style='background-color: #fef3c7; border: 1px solid #f59e0b; padding: 15px; border-radius: 8px; margin: 20px 0;'>
            <p style='margin: 0; color: #92400e; font-size: 14px;'>
              <strong>‚ÑπÔ∏è Pendiente de Aprobaci√≥n:</strong> Tu inscripci√≥n ser√° revisada y recibir√°s otro correo con la confirmaci√≥n final.
            </p>
          </div>
          
          <div style='text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #e2e8f0;'>
            <p style='color: #666; font-size: 14px; margin: 0;'>
              Sistema de Gesti√≥n de Parques Urbanos<br>
              Fecha de inscripci√≥n: {{registrationDate}}
            </p>
          </div>
        </div>
      </div>`,textContent:`¬°Inscripci√≥n Recibida!

Estimado/a {{participantName}},

Tu inscripci√≥n ha sido recibida exitosamente para la actividad: {{activityTitle}}

DETALLES DE LA ACTIVIDAD:
- Ubicaci√≥n: {{parkName}}
- Fecha: {{activityStartDate}}
- Hora: {{activityStartTime}}
- Lugar espec√≠fico: {{activityLocation}}

ESTADO: PENDIENTE DE APROBACI√ìN

Tu inscripci√≥n est√° pendiente de aprobaci√≥n por parte de nuestro equipo.
Recibir√°s otro email una vez que tu inscripci√≥n sea procesada.
El proceso puede tomar de 1 a 3 d√≠as h√°biles.

¬°Gracias por tu inter√©s!

Equipo de Parques y Recreaci√≥n`,variables:["{{participantName}}","{{participantEmail}}","{{activityTitle}}","{{parkName}}","{{activityStartDate}}","{{activityStartTime}}","{{activityLocation}}","{{registrationDate}}"],usage:"Autom√°tica al inscribirse",color:"bg-blue-500",icon:e.jsx(he,{className:"h-5 w-5"})},{id:12,name:"Inscripci√≥n Aprobada",category:"Actividades",description:"Email autom√°tico enviado cuando una inscripci√≥n a actividad es aprobada por el administrador",subject:"üéâ ¬°Inscripci√≥n Aprobada! - {{activityTitle}}",htmlContent:`<div style='font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #f9f9f9;'>
        <div style='background-color: white; border-radius: 10px; padding: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);'>
          <div style='text-align: center; margin-bottom: 30px;'>
            <h1 style='color: #16a34a; margin: 0; font-size: 28px;'>üéØ ParkSys</h1>
          </div>
          
          <div style='text-align: center; margin-bottom: 30px;'>
            <div style='font-size: 48px; margin-bottom: 15px;'>üéâ</div>
            <h2 style='color: #16a34a; margin: 0; font-size: 24px;'>¬°Tu Inscripci√≥n Ha Sido Aprobada!</h2>
          </div>
          
          <div style='background-color: #dcfce7; border-left: 4px solid #16a34a; padding: 20px; margin: 20px 0; border-radius: 0 8px 8px 0;'>
            <p style='margin: 0; color: #333; font-size: 16px;'>
              <strong>¬°Excelente noticia, {{participantName}}!</strong>
            </p>
            <p style='margin: 10px 0 0 0; color: #666;'>
              Tu inscripci√≥n para <strong>{{activityTitle}}</strong> ha sido aprobada oficialmente. 
              ¬°Ya tienes tu lugar reservado!
            </p>
          </div>
          
          <div style='background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;'>
            <h3 style='color: #16a34a; margin-top: 0;'>üìã Detalles de tu Actividad:</h3>
            <ul style='list-style: none; padding: 0; margin: 0;'>
              <li style='padding: 10px 0; border-bottom: 1px solid #e2e8f0;'><strong>üéØ Actividad:</strong> {{activityTitle}}</li>
              <li style='padding: 10px 0; border-bottom: 1px solid #e2e8f0;'><strong>üèõÔ∏è Parque:</strong> {{parkName}}</li>
              <li style='padding: 10px 0; border-bottom: 1px solid #e2e8f0;'><strong>üìÖ Fecha:</strong> {{activityStartDate}}</li>
              <li style='padding: 10px 0; border-bottom: 1px solid #e2e8f0;'><strong>‚è∞ Hora:</strong> {{activityStartTime}}</li>
              <li style='padding: 10px 0;'><strong>üìç Ubicaci√≥n:</strong> {{activityLocation}}</li>
            </ul>
          </div>
          
          <div style='background-color: #dbeafe; border: 1px solid #3b82f6; padding: 20px; border-radius: 8px; margin: 20px 0;'>
            <h3 style='color: #1d4ed8; margin-top: 0;'>üìù Instrucciones Importantes:</h3>
            <ul style='color: #1e40af; margin: 0; padding-left: 20px;'>
              <li style='margin-bottom: 8px;'>Llega <strong>15 minutos antes</strong> de la hora programada</li>
              <li style='margin-bottom: 8px;'>Trae ropa c√≥moda y adecuada para la actividad</li>
              <li style='margin-bottom: 8px;'>Si tienes alguna condici√≥n m√©dica, av√≠sanos al llegar</li>
              <li>En caso de cancelaci√≥n, av√≠sanos con <strong>24 horas de anticipaci√≥n</strong></li>
            </ul>
          </div>
          
          <div style='background-color: #dcfce7; border: 1px solid #16a34a; padding: 15px; border-radius: 8px; margin: 20px 0; text-align: center;'>
            <p style='margin: 0; color: #166534; font-size: 16px;'>
              <strong>‚úÖ Estado: CONFIRMADO</strong><br>
              <span style='font-size: 14px;'>Aprobado el {{approvedDate}}</span>
            </p>
          </div>
          
          <div style='text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #e2e8f0;'>
            <p style='color: #666; font-size: 14px; margin: 0;'>
              ¬°Nos vemos pronto!<br>
              Sistema de Gesti√≥n de Parques Urbanos
            </p>
          </div>
        </div>
      </div>`,textContent:`¬°Inscripci√≥n Aprobada!

¬°Excelente noticia, {{participantName}}!

Tu inscripci√≥n para {{activityTitle}} ha sido aprobada oficialmente. ¬°Ya tienes tu lugar reservado!

DETALLES DE TU ACTIVIDAD:
- Actividad: {{activityTitle}}
- Parque: {{parkName}}
- Fecha: {{activityStartDate}}
- Hora: {{activityStartTime}}
- Ubicaci√≥n: {{activityLocation}}

INSTRUCCIONES IMPORTANTES:
- Llega 15 minutos antes de la hora programada
- Trae ropa c√≥moda y adecuada para la actividad
- Si tienes alguna condici√≥n m√©dica, av√≠sanos al llegar
- En caso de cancelaci√≥n, av√≠sanos con 24 horas de anticipaci√≥n

ESTADO: CONFIRMADO
Aprobado el {{approvedDate}}

¬°Nos vemos pronto!
Sistema de Gesti√≥n de Parques Urbanos`,variables:["{{participantName}}","{{activityTitle}}","{{parkName}}","{{activityStartDate}}","{{activityStartTime}}","{{activityLocation}}","{{approvedDate}}"],usage:"Autom√°tica al aprobar inscripci√≥n",color:"bg-green-500",icon:e.jsx(pe,{className:"h-5 w-5"})},{id:13,name:"Confirmaci√≥n de Pago - Actividad",category:"Actividades",description:"Email autom√°tico enviado cuando el pago con Stripe es procesado exitosamente para una actividad",subject:"üí≥ ¬°Pago Confirmado! - {{activityTitle}}",htmlContent:`<div style='font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #f9f9f9;'>
        <div style='background-color: white; border-radius: 10px; padding: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);'>
          <div style='text-align: center; margin-bottom: 30px;'>
            <h1 style='color: #16a34a; margin: 0; font-size: 28px;'>üéØ ParkSys</h1>
          </div>
          
          <div style='text-align: center; margin-bottom: 30px;'>
            <div style='font-size: 48px; margin-bottom: 15px;'>üí≥</div>
            <h2 style='color: #16a34a; margin: 0; font-size: 24px;'>¬°Pago Confirmado!</h2>
          </div>
          
          <div style='background-color: #dcfce7; border-left: 4px solid #16a34a; padding: 20px; margin: 20px 0; border-radius: 0 8px 8px 0;'>
            <p style='margin: 0; color: #333; font-size: 16px;'>
              <strong>¬°Perfecto, {{participantName}}!</strong>
            </p>
            <p style='margin: 10px 0 0 0; color: #666;'>
              Tu pago para <strong>{{activityTitle}}</strong> ha sido procesado exitosamente. 
              ¬°Tu lugar est√° completamente reservado!
            </p>
          </div>
          
          <div style='background-color: #f0f9ff; padding: 20px; border-radius: 8px; margin: 20px 0;'>
            <h3 style='color: #1d4ed8; margin-top: 0;'>üí∞ Detalles del Pago:</h3>
            <ul style='list-style: none; padding: 0; margin: 0;'>
              <li style='padding: 8px 0; border-bottom: 1px solid #e2e8f0;'><strong>üíµ Monto:</strong> \${{paymentAmount}} MXN</li>
              <li style='padding: 8px 0; border-bottom: 1px solid #e2e8f0;'><strong>üÜî ID de Transacci√≥n:</strong> {{stripePaymentId}}</li>
              <li style='padding: 8px 0; border-bottom: 1px solid #e2e8f0;'><strong>üí≥ M√©todo:</strong> {{paymentMethod}}</li>
              <li style='padding: 8px 0;'><strong>üìÖ Fecha de Pago:</strong> {{paymentDate}}</li>
            </ul>
          </div>
          
          <div style='background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;'>
            <h3 style='color: #16a34a; margin-top: 0;'>üìã Detalles de tu Actividad:</h3>
            <ul style='list-style: none; padding: 0; margin: 0;'>
              <li style='padding: 10px 0; border-bottom: 1px solid #e2e8f0;'><strong>üéØ Actividad:</strong> {{activityTitle}}</li>
              <li style='padding: 10px 0; border-bottom: 1px solid #e2e8f0;'><strong>üèõÔ∏è Parque:</strong> {{parkName}}</li>
              <li style='padding: 10px 0; border-bottom: 1px solid #e2e8f0;'><strong>üìÖ Fecha:</strong> {{activityStartDate}}</li>
              <li style='padding: 10px 0; border-bottom: 1px solid #e2e8f0;'><strong>‚è∞ Hora:</strong> {{activityStartTime}}</li>
              <li style='padding: 10px 0;'><strong>üìç Ubicaci√≥n:</strong> {{activityLocation}}</li>
            </ul>
          </div>
          
          <div style='background-color: #dbeafe; border: 1px solid #3b82f6; padding: 20px; border-radius: 8px; margin: 20px 0;'>
            <h3 style='color: #1d4ed8; margin-top: 0;'>üìù Informaci√≥n Importante:</h3>
            <ul style='color: #1e40af; margin: 0; padding-left: 20px;'>
              <li style='margin-bottom: 8px;'>Tu inscripci√≥n est√° <strong>confirmada autom√°ticamente</strong> al completar el pago</li>
              <li style='margin-bottom: 8px;'>Llega <strong>15 minutos antes</strong> de la hora programada</li>
              <li style='margin-bottom: 8px;'>Trae ropa c√≥moda y adecuada para la actividad</li>
              <li style='margin-bottom: 8px;'>Presenta este email como comprobante en caso necesario</li>
              <li>Para cancelaciones, contacta al equipo con <strong>24 horas de anticipaci√≥n</strong></li>
            </ul>
          </div>
          
          <div style='background-color: #dcfce7; border: 1px solid #16a34a; padding: 15px; border-radius: 8px; margin: 20px 0; text-align: center;'>
            <p style='margin: 0; color: #166534; font-size: 16px;'>
              <strong>‚úÖ Estado: PAGADO Y CONFIRMADO</strong><br>
              <span style='font-size: 14px;'>Procesado el {{paymentDate}}</span>
            </p>
          </div>
          
          <div style='text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #e2e8f0;'>
            <p style='color: #666; font-size: 14px; margin: 0;'>
              ¬°Gracias por tu pago y nos vemos pronto!<br>
              Sistema de Gesti√≥n de Parques Urbanos
            </p>
          </div>
        </div>
      </div>`,textContent:`¬°Pago Confirmado!

¬°Perfecto, {{participantName}}!

Tu pago para {{activityTitle}} ha sido procesado exitosamente. ¬°Tu lugar est√° completamente reservado!

DETALLES DEL PAGO:
- Monto: \${{paymentAmount}} MXN
- ID de Transacci√≥n: {{stripePaymentId}}
- M√©todo: {{paymentMethod}}
- Fecha de Pago: {{paymentDate}}

DETALLES DE TU ACTIVIDAD:
- Actividad: {{activityTitle}}
- Parque: {{parkName}}
- Fecha: {{activityStartDate}}
- Hora: {{activityStartTime}}
- Ubicaci√≥n: {{activityLocation}}

INFORMACI√ìN IMPORTANTE:
- Tu inscripci√≥n est√° confirmada autom√°ticamente al completar el pago
- Llega 15 minutos antes de la hora programada
- Trae ropa c√≥moda y adecuada para la actividad
- Presenta este email como comprobante en caso necesario
- Para cancelaciones, contacta al equipo con 24 horas de anticipaci√≥n

ESTADO: PAGADO Y CONFIRMADO
Procesado el {{paymentDate}}

¬°Gracias por tu pago y nos vemos pronto!
Sistema de Gesti√≥n de Parques Urbanos`,variables:["{{participantName}}","{{activityTitle}}","{{parkName}}","{{activityStartDate}}","{{activityStartTime}}","{{activityLocation}}","{{paymentAmount}}","{{stripePaymentId}}","{{paymentMethod}}","{{paymentDate}}"],usage:"Autom√°tica al confirmar pago Stripe",color:"bg-blue-600",icon:e.jsx(fe,{className:"h-5 w-5"})}],K=10,z=X.filter(a=>a.name.toLowerCase().includes(T.toLowerCase())||a.category.toLowerCase().includes(T.toLowerCase())),H=Math.ceil(z.length/K),W=(P-1)*K,re=W+K,le=z.slice(W,re);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ce,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:X.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Plantillas Totales"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:"7"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Autom√°ticas"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:"3"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Manuales"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:"6"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Categor√≠as"})]})]})})})]}),e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsxs(y,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Gesti√≥n de Plantillas"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ae,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx(C,{placeholder:"Buscar plantillas...",value:T,onChange:a=>{_(a.target.value),S(1)},className:"pl-10 w-64"})]}),e.jsxs("div",{className:"flex border rounded-lg",children:[e.jsx(x,{variant:m==="grid"?"default":"ghost",size:"sm",onClick:()=>V("grid"),className:"rounded-r-none",children:e.jsx(Pe,{className:"h-4 w-4"})}),e.jsx(x,{variant:m==="list"?"default":"ghost",size:"sm",onClick:()=>V("list"),className:"rounded-l-none",children:e.jsx(Te,{className:"h-4 w-4"})})]}),e.jsxs(Z,{open:j,onOpenChange:E,children:[e.jsx(we,{asChild:!0,children:e.jsxs(x,{className:"bg-[#00a587] hover:bg-[#067f5f]",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Nueva Plantilla"]})}),e.jsxs(ee,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(se,{children:[e.jsx(ae,{children:"Crear Nueva Plantilla de Email"}),e.jsx(te,{children:"Dise√±e una nueva plantilla de email para el sistema de comunicaciones"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"template-name",children:"Nombre de la Plantilla"}),e.jsx(C,{id:"template-name",value:t.name,onChange:a=>s({...t,name:a.target.value}),placeholder:"Ej: Bienvenida Nuevo Empleado"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"template-category",children:"Categor√≠a"}),e.jsxs(D,{value:t.category,onValueChange:a=>s({...t,category:a}),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccionar categor√≠a"})}),e.jsx(I,{children:u.map(a=>e.jsx(g,{value:a,children:a},a))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"template-module",children:"M√≥dulo del Sistema"}),e.jsxs(D,{value:t.module,onValueChange:a=>s({...t,module:a}),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccionar m√≥dulo"})}),e.jsx(I,{children:U.map(a=>e.jsx(g,{value:a,children:a},a))})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"template-usage",children:"Tipo de Uso"}),e.jsxs(D,{value:t.usage,onValueChange:a=>s({...t,usage:a}),children:[e.jsx(R,{children:e.jsx(F,{})}),e.jsxs(I,{children:[e.jsx(g,{value:"manual",children:"Manual"}),e.jsx(g,{value:"automatic",children:"Autom√°tico"}),e.jsx(g,{value:"scheduled",children:"Programado"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"template-description",children:"Descripci√≥n"}),e.jsx(O,{id:"template-description",value:t.description,onChange:a=>s({...t,description:a.target.value}),placeholder:"Descripci√≥n del prop√≥sito de la plantilla...",rows:3})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"template-subject",children:"Asunto del Email"}),e.jsx(C,{id:"template-subject",value:t.subject,onChange:a=>s({...t,subject:a.target.value}),placeholder:"Ej: Bienvenido {{nombre_empleado}} - {{empresa}}"})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Variables Disponibles"}),e.jsxs("div",{className:"flex space-x-2 mt-2",children:[e.jsx(C,{value:t.newVariable,onChange:a=>s({...t,newVariable:a.target.value}),placeholder:"nombre_variable",onKeyPress:a=>a.key==="Enter"&&L()}),e.jsx(x,{type:"button",onClick:L,variant:"outline",children:"Agregar"})]}),t.variables.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:t.variables.map((a,k)=>e.jsxs(b,{variant:"secondary",className:"flex items-center gap-1",children:[a,e.jsx("button",{type:"button",onClick:()=>Y(k),className:"ml-1 text-red-500 hover:text-red-700",children:"√ó"})]},k))})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"template-html",children:"Contenido HTML"}),e.jsx(O,{id:"template-html",value:t.htmlContent,onChange:a=>s({...t,htmlContent:a.target.value}),placeholder:"<h1>Bienvenido {{nombre_empleado}}</h1><p>Su usuario es: {{username}}</p>",rows:8,className:"font-mono text-sm"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"template-text",children:"Contenido de Texto Plano (fallback)"}),e.jsx(O,{id:"template-text",value:t.textContent,onChange:a=>s({...t,textContent:a.target.value}),placeholder:"Bienvenido {{nombre_empleado}}. Su usuario es: {{username}}",rows:6})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"template-active",checked:t.isActive,onCheckedChange:a=>s({...t,isActive:!!a})}),e.jsx(c,{htmlFor:"template-active",children:"Plantilla activa"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[e.jsx(x,{variant:"outline",onClick:()=>E(!1),children:"Cancelar"}),e.jsx(x,{onClick:q,className:"bg-[#00a587] hover:bg-[#067f5f]",disabled:!t.name||!t.category||!t.htmlContent,children:"Crear Plantilla"})]})]})]})]})]}),e.jsx(w,{children:"Plantillas de email especializadas para el sistema de parques urbanos"})]}),e.jsxs(d,{children:[m==="grid"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:le.map(a=>e.jsxs(o,{className:"border hover:shadow-md transition-shadow",children:[e.jsxs(N,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:`p-2 rounded-lg ${a.color} text-white`,children:a.icon}),e.jsx(b,{variant:"outline",className:"text-xs",children:a.category})]}),e.jsx(y,{className:"text-lg",children:a.name}),e.jsx(w,{className:"text-sm",children:a.description})]}),e.jsx(d,{className:"pt-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Variables disponibles:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.variables.slice(0,2).map((k,G)=>e.jsx(b,{variant:"secondary",className:"text-xs",children:k},G)),a.variables.length>2&&e.jsxs(b,{variant:"secondary",className:"text-xs",children:["+",a.variables.length-2," m√°s"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-500",children:["Uso: ",a.usage]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{A(a),h(!0)},children:e.jsx(Q,{className:"h-4 w-4"})}),e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{A(a),s({name:a.name,category:a.category,description:a.description,subject:a.subject||"",htmlContent:a.htmlContent||"",textContent:a.textContent||"",variables:a.variables||[],newVariable:"",usage:a.usage.includes("Manual")?"manual":"automatic",module:a.category,isActive:!0}),p(!0)},children:e.jsx(xe,{className:"h-4 w-4"})}),e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(ne,{className:"h-4 w-4"})})]})]})]})})]},a.id))}),m==="list"&&e.jsx("div",{className:"space-y-4",children:le.map(a=>e.jsx(o,{className:"border hover:shadow-md transition-shadow",children:e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${a.color} text-white flex-shrink-0`,children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.name}),e.jsx(b,{variant:"outline",className:"text-xs",children:a.category})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{children:["Uso: ",a.usage]}),e.jsxs("span",{children:[a.variables.length," variables"]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{A(a),h(!0)},children:e.jsx(Q,{className:"h-4 w-4"})}),e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{A(a),s({name:a.name,category:a.category,description:a.description,subject:a.subject||"",htmlContent:a.htmlContent||"",textContent:a.textContent||"",variables:a.variables||[],newVariable:"",usage:a.usage.includes("Manual")?"manual":"automatic",module:a.category,isActive:!0}),p(!0)},children:e.jsx(xe,{className:"h-4 w-4"})}),e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(ne,{className:"h-4 w-4"})})]})]})})},a.id))}),H>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Mostrando ",W+1,"-",Math.min(re,z.length)," de ",z.length," plantillas"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>S(P-1),disabled:P===1,children:[e.jsx(De,{className:"h-4 w-4"}),"Anterior"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:H},(a,k)=>k+1).map(a=>e.jsx(x,{variant:P===a?"default":"outline",size:"sm",onClick:()=>S(a),className:"w-8 h-8 p-0",children:a},a))}),e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>S(P+1),disabled:P===H,children:["Siguiente",e.jsx(Re,{className:"h-4 w-4"})]})]})]})]})]}),e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Plantillas por Categor√≠a"}),e.jsx(w,{children:"Distribuci√≥n de plantillas seg√∫n m√≥dulos del sistema"})]}),e.jsx(d,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{name:"Recursos Humanos",count:2,color:"bg-blue-100 text-blue-700"},{name:"Finanzas",count:2,color:"bg-green-100 text-green-700"},{name:"Eventos",count:1,color:"bg-purple-100 text-purple-700"},{name:"Voluntarios",count:1,color:"bg-orange-100 text-orange-700"},{name:"Concesiones",count:1,color:"bg-red-100 text-red-700"},{name:"Infraestructura",count:1,color:"bg-yellow-100 text-yellow-700"},{name:"Seguridad",count:1,color:"bg-pink-100 text-pink-700"},{name:"Medio Ambiente",count:1,color:"bg-teal-100 text-teal-700"}].map(a=>e.jsxs("div",{className:`p-4 rounded-lg ${a.color}`,children:[e.jsx("p",{className:"font-medium",children:a.name}),e.jsx("p",{className:"text-2xl font-bold",children:a.count}),e.jsx("p",{className:"text-sm opacity-75",children:"plantillas"})]},a.name))})})]}),e.jsx(Z,{open:l,onOpenChange:h,children:e.jsxs(ee,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(se,{children:[e.jsxs(ae,{children:["Ver Plantilla: ",r==null?void 0:r.name]}),e.jsx(te,{children:"Detalles completos de la plantilla de email"})]}),r&&e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Nombre"}),e.jsx("p",{className:"text-sm text-gray-700",children:r.name})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Categor√≠a"}),e.jsx("p",{className:"text-sm text-gray-700",children:r.category})]})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Descripci√≥n"}),e.jsx("p",{className:"text-sm text-gray-700",children:r.description})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Asunto del Email"}),e.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:r.subject})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Variables Disponibles"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(ce=r.variables)==null?void 0:ce.map((a,k)=>e.jsx(b,{variant:"secondary",className:"text-xs",children:a},k))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Contenido HTML"}),e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded text-xs font-mono max-h-40 overflow-y-auto",children:r.htmlContent||"No definido"})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Vista Previa"}),e.jsx("div",{className:"mt-2 p-3 border rounded max-h-40 overflow-y-auto text-sm",dangerouslySetInnerHTML:{__html:r.htmlContent||"No hay contenido para mostrar"}})]})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-sm font-medium",children:"Contenido de Texto"}),e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded text-xs max-h-32 overflow-y-auto whitespace-pre-wrap",children:r.textContent||"No definido"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(x,{variant:"outline",onClick:()=>h(!1),children:"Cerrar"}),e.jsxs(x,{className:"bg-[#00a587] hover:bg-[#067f5f]",onClick:()=>{var a;h(!1),s({name:(r==null?void 0:r.name)||"",category:(r==null?void 0:r.category)||"",description:(r==null?void 0:r.description)||"",subject:(r==null?void 0:r.subject)||"",htmlContent:(r==null?void 0:r.htmlContent)||"",textContent:(r==null?void 0:r.textContent)||"",variables:(r==null?void 0:r.variables)||[],newVariable:"",usage:(a=r==null?void 0:r.usage)!=null&&a.includes("Manual")?"manual":"automatic",module:(r==null?void 0:r.category)||"",isActive:!0}),p(!0)},children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Editar"]})]})]})}),e.jsx(Z,{open:i,onOpenChange:p,children:e.jsxs(ee,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(se,{children:[e.jsxs(ae,{children:["Editar Plantilla: ",r==null?void 0:r.name]}),e.jsx(te,{children:"Modifica los detalles de la plantilla de email"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"edit-template-name",children:"Nombre de la Plantilla"}),e.jsx(C,{id:"edit-template-name",value:t.name,onChange:a=>s({...t,name:a.target.value}),placeholder:"Ej: Bienvenida Nuevo Empleado"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"edit-template-category",children:"Categor√≠a"}),e.jsxs(D,{value:t.category,onValueChange:a=>s({...t,category:a}),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccionar categor√≠a"})}),e.jsx(I,{children:u.map(a=>e.jsx(g,{value:a,children:a},a))})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"edit-template-description",children:"Descripci√≥n"}),e.jsx(O,{id:"edit-template-description",value:t.description,onChange:a=>s({...t,description:a.target.value}),placeholder:"Descripci√≥n del prop√≥sito de la plantilla...",rows:3})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"edit-template-subject",children:"Asunto del Email"}),e.jsx(C,{id:"edit-template-subject",value:t.subject,onChange:a=>s({...t,subject:a.target.value}),placeholder:"Ej: Bienvenido {{nombre_empleado}} - {{empresa}}"})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Variables Disponibles"}),e.jsxs("div",{className:"flex space-x-2 mt-2",children:[e.jsx(C,{value:t.newVariable,onChange:a=>s({...t,newVariable:a.target.value}),placeholder:"nombre_variable",onKeyPress:a=>a.key==="Enter"&&L()}),e.jsxs(x,{type:"button",variant:"outline",onClick:L,children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Agregar"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:t.variables.map((a,k)=>e.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded text-sm",children:[e.jsx("span",{children:a}),e.jsx(x,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>Y(k),children:e.jsx(Fe,{className:"h-3 w-3"})})]},k))})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"edit-template-html",children:"Contenido HTML"}),e.jsx(O,{id:"edit-template-html",value:t.htmlContent,onChange:a=>s({...t,htmlContent:a.target.value}),placeholder:"<div>Contenido HTML del email...</div>",rows:8,className:"font-mono text-sm"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"edit-template-text",children:"Contenido de Texto (Alternativo)"}),e.jsx(O,{id:"edit-template-text",value:t.textContent,onChange:a=>s({...t,textContent:a.target.value}),placeholder:"Versi√≥n en texto plano del email...",rows:6})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(x,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsxs(x,{className:"bg-[#00a587] hover:bg-[#067f5f]",onClick:()=>{console.log("Guardando cambios en plantilla:",t),p(!1)},children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Guardar Cambios"]})]})]})})]})},Xe=()=>{const[j,E]=M.useState([]),[l,h]=M.useState(!0),[i,p]=M.useState(!1),[r,A]=M.useState({}),[m,V]=M.useState(null),[P,S]=M.useState(!1),[T,_]=M.useState([]),[t,s]=M.useState(""),[u,U]=M.useState(1);Me();const{toast:q}=Ve(),L=10,Y=T.filter(n=>n.name.toLowerCase().includes(t.toLowerCase())||n.category.toLowerCase().includes(t.toLowerCase())||n.description.toLowerCase().includes(t.toLowerCase()));Math.ceil(Y.length/L);const X=(u-1)*L,K=X+L;Y.slice(X,K),M.useEffect(()=>{z(),H()},[]);const z=async()=>{try{h(!0);const n=await fetch("/api/communications/queue");if(n.ok){const v=await n.json();E(v||[])}}catch(n){console.error("Error fetching queue emails:",n),E([])}finally{h(!1)}},H=async()=>{try{const n=await fetch("/api/communications/queue/stats");if(n.ok){const v=await n.json();A(v||{})}}catch(n){console.error("Error fetching queue stats:",n)}},W=async()=>{try{p(!0);const n=await fetch("/api/communications/queue/process",{method:"POST",headers:{"Content-Type":"application/json"}});if(n.ok){const v=await n.json();console.log("‚úÖ Cola procesada:",v),await z(),await H()}else console.error("Error al procesar la cola:",n.statusText)}catch(n){console.error("Error procesando cola:",n)}finally{p(!1)}},re=n=>{V(n),S(!0)},le=async n=>{try{(await fetch(`/api/communications/queue/${n}/retry`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok?(q({title:"Email reintentado",description:"El email ha sido marcado para reintento"}),await z()):q({title:"Error",description:"No se pudo reintentar el email",variant:"destructive"})}catch(v){console.error("Error retrying email:",v),q({title:"Error",description:"Error al reintentar el email",variant:"destructive"})}},ce=async n=>{try{(await fetch(`/api/communications/queue/${n}/cancel`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok?(q({title:"Email cancelado",description:"El email ha sido cancelado exitosamente"}),await z()):q({title:"Error",description:"No se pudo cancelar el email",variant:"destructive"})}catch(v){console.error("Error canceling email:",v),q({title:"Error",description:"Error al cancelar el email",variant:"destructive"})}},a=n=>{switch(n){case"pending":return e.jsx(me,{className:"h-4 w-4 text-orange-500"});case"processing":return e.jsx($,{className:"h-4 w-4 text-blue-500"});case"sent":return e.jsx(pe,{className:"h-4 w-4 text-green-500"});case"failed":return e.jsx(je,{className:"h-4 w-4 text-red-500"});default:return e.jsx(me,{className:"h-4 w-4 text-gray-500"})}},k=n=>({pending:"bg-orange-100 text-orange-700",processing:"bg-blue-100 text-blue-700",sent:"bg-green-100 text-green-700",failed:"bg-red-100 text-red-700"})[n]||"bg-gray-100 text-gray-700",G=n=>({urgent:"bg-red-500 text-white",high:"bg-orange-500 text-white",normal:"bg-blue-500 text-white",low:"bg-gray-500 text-white"})[n]||"bg-gray-500 text-white",oe={pending:j.filter(n=>n.status==="pending").length,processing:j.filter(n=>n.status==="processing").length,sent:j.filter(n=>n.status==="sent").length,failed:j.filter(n=>n.status==="failed").length};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(me,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:oe.pending}),e.jsx("p",{className:"text-xs text-gray-500",children:"Pendientes"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:oe.processing}),e.jsx("p",{className:"text-xs text-gray-500",children:"Procesando"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pe,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:oe.sent}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enviados"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:oe.failed}),e.jsx("p",{className:"text-xs text-gray-500",children:"Fallidos"})]})]})})})]}),e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsxs(y,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Cola de Emails en Tiempo Real"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(x,{variant:"outline",size:"sm",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Pausar Cola"]}),e.jsx(x,{className:"bg-[#00a587] hover:bg-[#067f5f]",size:"sm",onClick:W,disabled:i||j.length===0,children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full"}),"Procesando..."]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Procesar Ahora"]})})]})]}),e.jsx(w,{children:"Monitoreo en tiempo real del procesamiento de emails programados"})]}),e.jsx(d,{children:l?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Cargando cola de emails..."})]}):j.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(he,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cola vac√≠a"}),e.jsx("p",{className:"text-gray-500",children:"No hay emails pendientes en la cola actualmente."})]}):e.jsx("div",{className:"space-y-4",children:j.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[a(n.status),e.jsx(b,{className:`text-xs ${G(n.priority)}`,children:n.priority.toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-sm truncate",children:n.subject}),n.templateId&&e.jsxs(b,{variant:"outline",className:"text-xs",children:["Plantilla #",n.templateId]})]}),e.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["Para: ",n.to]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Programado: ",new Date(n.scheduledFor).toLocaleString()]}),n.attempts>0&&e.jsxs("p",{className:"text-xs text-orange-600",children:["Intentos: ",n.attempts,"/",n.maxAttempts]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-1 min-w-0",children:[e.jsx(b,{className:`text-xs ${k(n.status)}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(n.createdAt).toLocaleDateString()}),n.errorMessage&&e.jsx("p",{className:"text-xs text-red-500",title:n.errorMessage,children:"Error ‚ö†Ô∏è"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-4",children:[e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-600 hover:bg-blue-50",onClick:()=>re(n),title:"Ver contenido del email",children:e.jsx(Q,{className:"h-4 w-4"})}),n.status==="failed"&&e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-green-600 hover:bg-green-50",onClick:()=>le(n.id),title:"Reintentar env√≠o",children:e.jsx($,{className:"h-4 w-4"})}),n.status==="pending"&&e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:bg-red-50",onClick:()=>ce(n.id),title:"Cancelar email",children:e.jsx(ve,{className:"h-4 w-4"})})]})]},n.id))})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Rendimiento de la Cola"}),e.jsx(w,{children:"Estad√≠sticas de procesamiento de las √∫ltimas 24 horas"})]}),e.jsx(d,{children:l?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total procesados"}),e.jsx("span",{className:"font-bold",children:(r.sent||0)+(r.failed||0)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Exitosos"}),e.jsx("span",{className:"font-bold text-green-600",children:r.sent||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Fallidos"}),e.jsx("span",{className:"font-bold text-red-600",children:r.failed||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"En cola"}),e.jsx("span",{className:"font-bold text-orange-600",children:r.pending||0})]})]})})]}),e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"M√≥dulos M√°s Activos"}),e.jsx(w,{children:"Distribuci√≥n de emails por m√≥dulo del sistema"})]}),e.jsx(d,{children:l?e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"animate-pulse space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})}):j.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"No hay emails en cola"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Los m√≥dulos aparecer√°n aqu√≠ cuando haya actividad"})]}):e.jsx("div",{className:"space-y-3",children:Object.entries(j.reduce((n,v)=>{var J,ye;const de=((J=v.metadata)==null?void 0:J.department)||((ye=v.metadata)==null?void 0:ye.module)||"Sistema";return n[de]=(n[de]||0)+1,n},{})).map(([n,v],de)=>{const J=["bg-blue-500","bg-green-500","bg-purple-500","bg-red-500","bg-yellow-500","bg-indigo-500"];return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${J[de%J.length]}`}),e.jsx("span",{className:"text-sm",children:n})]}),e.jsx("span",{className:"font-bold text-sm",children:v})]},n)})})})]})]}),e.jsx(Z,{open:P,onOpenChange:S,children:e.jsxs(ee,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(se,{children:[e.jsxs(ae,{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"h-5 w-5"}),e.jsx("span",{children:"Vista Previa del Email"}),(m==null?void 0:m.templateId)&&e.jsxs(b,{variant:"outline",children:["Plantilla #",m.templateId]})]}),e.jsx(te,{children:(m==null?void 0:m.to)&&`Para: ${m.to}`})]}),m&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Asunto:"}),e.jsx("p",{className:"text-gray-700",children:m.subject})]}),e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Estado:"}),e.jsx(b,{className:k(m.status),children:m.status})]}),e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Prioridad:"}),e.jsx(b,{className:G(m.priority),children:m.priority})]}),e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Programado para:"}),e.jsx("p",{className:"text-gray-700",children:new Date(m.scheduledFor).toLocaleString()})]})]}),m.errorMessage&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(c,{className:"font-medium text-red-700",children:"Error:"}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:m.errorMessage})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"font-medium",children:"Contenido HTML:"}),e.jsx("div",{className:"border rounded-lg p-4 bg-white",children:e.jsx("iframe",{srcDoc:m.htmlContent,className:"w-full h-96 border-0",title:"Vista previa del email"})})]}),m.textContent&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"font-medium",children:"Contenido de Texto:"}),e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:e.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:m.textContent})})]})]})]})})]})},Ke=()=>{const[j,E]=f.useState(!1),[l,h]=f.useState({name:"",description:"",type:"manual",targetSegment:"",template:"",startDate:"",endDate:"",frequency:"once",customFrequency:"",priority:"normal",sendImmediately:!1,scheduledTime:"",targetUsers:[],includeInactive:!1}),i=[{id:1,name:"Bienvenida Nuevos Empleados Q1 2025",description:"Campa√±a automatizada para integraci√≥n de personal nuevo",type:"automated",status:"active",targetSegment:"Empleados Nuevos",targetCount:15,template:"Bienvenida Empleado",sentCount:12,openRate:87.5,clickRate:23.4,startDate:"2025-01-01",endDate:"2025-03-31",createdBy:"Sistema HR",frequency:"Inmediato al registro"},{id:2,name:"Recibos de N√≥mina Diciembre",description:"Distribuci√≥n masiva de recibos de n√≥mina mensuales",type:"scheduled",status:"completed",targetSegment:"Todos los Empleados",targetCount:185,template:"Recibo de N√≥mina",sentCount:185,openRate:94.1,clickRate:78.9,startDate:"2024-12-31",endDate:"2024-12-31",createdBy:"Finanzas",frequency:"Una vez"},{id:3,name:"Actividades de Verano 2025",description:"Promoci√≥n de nuevas actividades recreativas",type:"manual",status:"draft",targetSegment:"Usuarios Activos",targetCount:1250,template:"Nueva Actividad en Parque",sentCount:0,openRate:0,clickRate:0,startDate:"2025-06-01",endDate:"2025-08-31",createdBy:"Eventos",frequency:"Semanal"},{id:4,name:"Reconocimientos Voluntarios 2024",description:"Certificados anuales para voluntarios destacados",type:"manual",status:"paused",targetSegment:"Voluntarios Activos",targetCount:45,template:"Reconocimiento Voluntario",sentCount:28,openRate:96.4,clickRate:42.1,startDate:"2024-12-15",endDate:"2024-12-31",createdBy:"Voluntarios",frequency:"Una vez"},{id:5,name:"Alertas Vencimiento Contratos",description:"Notificaciones autom√°ticas 30 d√≠as antes del vencimiento",type:"automated",status:"active",targetSegment:"Concesionarios",targetCount:8,template:"Vencimiento de Contrato",sentCount:3,openRate:100,clickRate:66.7,startDate:"2025-01-01",endDate:"2025-12-31",createdBy:"Sistema Concesiones",frequency:"30 d√≠as antes"}],p=s=>({active:"bg-green-100 text-green-700",completed:"bg-blue-100 text-blue-700",draft:"bg-gray-100 text-gray-700",paused:"bg-orange-100 text-orange-700"})[s]||"bg-gray-100 text-gray-700",r=s=>({automated:"bg-purple-500 text-white",scheduled:"bg-blue-500 text-white",manual:"bg-orange-500 text-white"})[s]||"bg-gray-500 text-white",A=i.filter(s=>s.status==="active").length,m=i.reduce((s,u)=>s+u.sentCount,0),V=i.filter(s=>s.sentCount>0).reduce((s,u)=>s+u.openRate,0)/i.filter(s=>s.sentCount>0).length,P=i.reduce((s,u)=>s+u.targetCount,0),S=["Bienvenida Empleado","Recibo de N√≥mina","Nueva Actividad en Parque","Reconocimiento Voluntario","Vencimiento de Contrato","Mantenimiento de Activos","Evaluaci√≥n de Instructor","Reporte de Incidente","Actualizaci√≥n de Presupuesto","Cuidado del Arbolado"],T=[{value:"todos_empleados",label:"Todos los Empleados",count:185},{value:"empleados_nuevos",label:"Empleados Nuevos",count:15},{value:"empleados_activos",label:"Empleados Activos",count:170},{value:"directivos",label:"Personal Directivo",count:12},{value:"instructores",label:"Instructores",count:28},{value:"usuarios_activos",label:"Usuarios Activos",count:1250},{value:"usuarios_premium",label:"Usuarios Premium",count:89},{value:"voluntarios_activos",label:"Voluntarios Activos",count:45},{value:"voluntarios_nuevos",label:"Voluntarios Nuevos",count:8},{value:"concesionarios",label:"Concesionarios",count:8},{value:"proveedores",label:"Proveedores",count:23}],_=()=>{console.log("Creating campaign:",l),E(!1),h({name:"",description:"",type:"manual",targetSegment:"",template:"",startDate:"",endDate:"",frequency:"once",customFrequency:"",priority:"normal",sendImmediately:!1,scheduledTime:"",targetUsers:[],includeInactive:!1})},t=s=>{const u=T.find(U=>U.value===s);return u?u.count:0};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:i.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Campa√±as Totales"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:A}),e.jsx("p",{className:"text-xs text-gray-500",children:"Activas"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:m.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Emails Enviados"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[V.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tasa Apertura"})]})]})})})]}),e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsxs(y,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Gesti√≥n de Campa√±as"}),e.jsxs(Z,{open:j,onOpenChange:E,children:[e.jsx(we,{asChild:!0,children:e.jsxs(x,{className:"bg-[#00a587] hover:bg-[#067f5f]",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Nueva Campa√±a"]})}),e.jsxs(ee,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(se,{children:[e.jsx(ae,{children:"Crear Nueva Campa√±a de Email"}),e.jsx(te,{children:"Configure los detalles de su nueva campa√±a de comunicaci√≥n"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"campaign-name",children:"Nombre de la Campa√±a"}),e.jsx(C,{id:"campaign-name",value:l.name,onChange:s=>h({...l,name:s.target.value}),placeholder:"Ej: Bienvenida Nuevos Empleados"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"campaign-template",children:"Plantilla"}),e.jsxs(D,{value:l.template,onValueChange:s=>h({...l,template:s}),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccionar plantilla"})}),e.jsx(I,{children:S.map(s=>e.jsx(g,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"campaign-description",children:"Descripci√≥n"}),e.jsx(O,{id:"campaign-description",value:l.description,onChange:s=>h({...l,description:s.target.value}),placeholder:"Descripci√≥n de la campa√±a...",rows:3})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Tipo de Campa√±a"}),e.jsxs(Ue,{value:l.type,onValueChange:s=>h({...l,type:s}),className:"mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{value:"manual",id:"manual"}),e.jsx(c,{htmlFor:"manual",children:"Manual - Env√≠o controlado manualmente"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{value:"scheduled",id:"scheduled"}),e.jsx(c,{htmlFor:"scheduled",children:"Programada - Env√≠o en fechas espec√≠ficas"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{value:"automated",id:"automated"}),e.jsx(c,{htmlFor:"automated",children:"Automatizada - Triggers del sistema"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"target-segment",children:"Segmento Objetivo"}),e.jsxs(D,{value:l.targetSegment,onValueChange:s=>h({...l,targetSegment:s}),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccionar audiencia"})}),e.jsx(I,{children:T.map(s=>e.jsxs(g,{value:s.value,children:[s.label," (",s.count," usuarios)"]},s.value))})]}),l.targetSegment&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Destinatarios estimados: ",t(l.targetSegment)," usuarios"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"include-inactive",checked:l.includeInactive,onCheckedChange:s=>h({...l,includeInactive:!!s})}),e.jsx(c,{htmlFor:"include-inactive",children:"Incluir usuarios inactivos"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"start-date",children:"Fecha de Inicio"}),e.jsx(C,{id:"start-date",type:"date",value:l.startDate,onChange:s=>h({...l,startDate:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"end-date",children:"Fecha de Fin"}),e.jsx(C,{id:"end-date",type:"date",value:l.endDate,onChange:s=>h({...l,endDate:s.target.value})})]})]}),l.type!=="automated"&&e.jsxs("div",{children:[e.jsx(c,{htmlFor:"frequency",children:"Frecuencia"}),e.jsxs(D,{value:l.frequency,onValueChange:s=>h({...l,frequency:s}),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccionar frecuencia"})}),e.jsxs(I,{children:[e.jsx(g,{value:"once",children:"Una sola vez"}),e.jsx(g,{value:"daily",children:"Diario"}),e.jsx(g,{value:"weekly",children:"Semanal"}),e.jsx(g,{value:"monthly",children:"Mensual"}),e.jsx(g,{value:"custom",children:"Personalizada"})]})]}),l.frequency==="custom"&&e.jsx(C,{className:"mt-2",placeholder:"Especificar frecuencia personalizada",value:l.customFrequency,onChange:s=>h({...l,customFrequency:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"priority",children:"Prioridad"}),e.jsxs(D,{value:l.priority,onValueChange:s=>h({...l,priority:s}),children:[e.jsx(R,{children:e.jsx(F,{})}),e.jsxs(I,{children:[e.jsx(g,{value:"low",children:"Baja"}),e.jsx(g,{value:"normal",children:"Normal"}),e.jsx(g,{value:"high",children:"Alta"}),e.jsx(g,{value:"urgent",children:"Urgente"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"send-immediately",checked:l.sendImmediately,onCheckedChange:s=>h({...l,sendImmediately:!!s})}),e.jsx(c,{htmlFor:"send-immediately",children:"Enviar inmediatamente despu√©s de crear"})]}),!l.sendImmediately&&e.jsxs("div",{children:[e.jsx(c,{htmlFor:"scheduled-time",children:"Hora Programada"}),e.jsx(C,{id:"scheduled-time",type:"datetime-local",value:l.scheduledTime,onChange:s=>h({...l,scheduledTime:s.target.value})})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[e.jsx(x,{variant:"outline",onClick:()=>E(!1),children:"Cancelar"}),e.jsx(x,{onClick:_,className:"bg-[#00a587] hover:bg-[#067f5f]",disabled:!l.name||!l.template||!l.targetSegment,children:"Crear Campa√±a"})]})]})]})]}),e.jsx(w,{children:"Campa√±as de email segmentadas por tipos de usuario y m√≥dulos del sistema"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:i.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsx(b,{className:`text-xs ${r(s.type)}`,children:s.type.charAt(0).toUpperCase()+s.type.slice(1)}),e.jsx(b,{className:`text-xs ${p(s.status)}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[e.jsxs("span",{children:["Segmento: ",s.targetSegment]}),e.jsxs("span",{children:["Plantilla: ",s.template]}),e.jsxs("span",{children:["Frecuencia: ",s.frequency]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Q,{className:"h-4 w-4"})}),e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(xe,{className:"h-4 w-4"})}),s.status==="paused"&&e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-green-600",children:e.jsx($,{className:"h-4 w-4"})}),s.status==="active"&&e.jsx(x,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-orange-600",children:e.jsx(ve,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 pt-3 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-blue-600",children:s.targetCount}),e.jsx("p",{className:"text-xs text-gray-500",children:"Destinatarios"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:s.sentCount}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enviados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[s.openRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Apertura"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-lg font-bold text-orange-600",children:[s.clickRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Clicks"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t text-xs text-gray-500",children:[e.jsxs("span",{children:["Periodo: ",s.startDate," - ",s.endDate]}),e.jsxs("span",{children:["Creado por: ",s.createdBy]})]})]},s.id))})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Segmentos de Audiencia"}),e.jsx(w,{children:"Distribuci√≥n de campa√±as por tipo de usuario"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:[{segment:"Empleados",campaigns:2,users:185,color:"bg-blue-500"},{segment:"Usuarios Activos",campaigns:1,users:1250,color:"bg-green-500"},{segment:"Voluntarios",campaigns:1,users:45,color:"bg-purple-500"},{segment:"Concesionarios",campaigns:1,users:8,color:"bg-orange-500"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.color}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.segment}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.users.toLocaleString()," usuarios"]})]})]}),e.jsxs(b,{variant:"outline",className:"text-xs",children:[s.campaigns," campa√±as"]})]},s.segment))})})]}),e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Rendimiento General"}),e.jsx(w,{children:"M√©tricas consolidadas de todas las campa√±as"})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total destinatarios"}),e.jsx("span",{className:"font-bold",children:P.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Emails enviados"}),e.jsx("span",{className:"font-bold text-green-600",children:m.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Tasa entrega"}),e.jsx("span",{className:"font-bold text-blue-600",children:"99.2%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Promedio apertura"}),e.jsxs("span",{className:"font-bold text-purple-600",children:[V.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Promedio clicks"}),e.jsxs("span",{className:"font-bold text-orange-600",children:[(i.filter(s=>s.sentCount>0).reduce((s,u)=>s+u.clickRate,0)/i.filter(s=>s.sentCount>0).length).toFixed(1),"%"]})]})]})})]})]})]})},We=()=>{const[j,E]=f.useState([]),[l,h]=f.useState(""),[i,p]=f.useState({subject:"",scheduledTime:"",priority:"normal",batchSize:100,delayBetweenBatches:5,testMode:!1,trackOpens:!0,trackClicks:!0,unsubscribeLink:!0}),[r,A]=f.useState(!1),m=[{id:"todos_empleados",name:"Todos los Empleados",count:185,description:"Personal completo del sistema de parques"},{id:"empleados_activos",name:"Empleados Activos",count:170,description:"Empleados con estado activo"},{id:"directivos",name:"Personal Directivo",count:12,description:"Directores y coordinadores"},{id:"instructores",name:"Instructores",count:28,description:"Instructores de actividades"},{id:"usuarios_activos",name:"Usuarios Activos",count:1250,description:"Usuarios que han usado el sistema en 30 d√≠as"},{id:"usuarios_premium",name:"Usuarios Premium",count:89,description:"Usuarios con membres√≠a premium"},{id:"voluntarios_activos",name:"Voluntarios Activos",count:45,description:"Voluntarios con participaci√≥n reciente"},{id:"concesionarios",name:"Concesionarios",count:8,description:"Empresas con contratos de concesi√≥n"},{id:"proveedores",name:"Proveedores",count:23,description:"Proveedores de servicios"}],V=["Bienvenida Empleado","Recibo de N√≥mina","Nueva Actividad en Parque","Reconocimiento Voluntario","Vencimiento de Contrato","Mantenimiento de Activos","Evaluaci√≥n de Instructor","Reporte de Incidente","Actualizaci√≥n de Presupuesto","Cuidado del Arbolado"],P=t=>{E(s=>s.includes(t)?s.filter(u=>u!==t):[...s,t])},S=()=>j.reduce((t,s)=>{const u=m.find(U=>U.id===s);return t+((u==null?void 0:u.count)||0)},0),T=()=>{const t=S();return Math.ceil(t/i.batchSize)*i.delayBetweenBatches},_=()=>{i.testMode&&console.log("Modo de prueba - No se enviar√°n emails reales"),console.log("Env√≠o masivo configurado:",{segments:j,template:l,settings:i,totalRecipients:S()})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:j.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Segmentos Seleccionados"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:S().toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Destinatarios Totales"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(me,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:T()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Minutos Estimados"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:i.batchSize}),e.jsx("p",{className:"text-xs text-gray-500",children:"Emails por Lote"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Selecci√≥n de Audiencias"}),e.jsx(w,{children:"Elige los segmentos de usuarios que recibir√°n el env√≠o masivo"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:m.map(t=>e.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-colors ${j.includes(t.id)?"border-[#00a587] bg-green-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>P(t.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(B,{checked:j.includes(t.id),onChange:()=>{}}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})]}),e.jsx(b,{variant:"outline",className:"ml-2",children:t.count.toLocaleString()})]})},t.id))})})]}),e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Configuraci√≥n del Env√≠o"}),e.jsx(w,{children:"Personaliza los par√°metros del env√≠o masivo"})]}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"bulk-template",children:"Plantilla de Email"}),e.jsxs(D,{value:l,onValueChange:h,children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccionar plantilla"})}),e.jsx(I,{children:V.map(t=>e.jsx(g,{value:t,children:t},t))})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"bulk-subject",children:"Asunto Personalizado (opcional)"}),e.jsx(C,{id:"bulk-subject",value:i.subject,onChange:t=>p({...i,subject:t.target.value}),placeholder:"Dejar vac√≠o para usar asunto de plantilla"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"bulk-priority",children:"Prioridad"}),e.jsxs(D,{value:i.priority,onValueChange:t=>p({...i,priority:t}),children:[e.jsx(R,{children:e.jsx(F,{})}),e.jsxs(I,{children:[e.jsx(g,{value:"low",children:"Baja"}),e.jsx(g,{value:"normal",children:"Normal"}),e.jsx(g,{value:"high",children:"Alta"}),e.jsx(g,{value:"urgent",children:"Urgente"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"scheduled-time",children:"Programar Env√≠o (opcional)"}),e.jsx(C,{id:"scheduled-time",type:"datetime-local",value:i.scheduledTime,onChange:t=>p({...i,scheduledTime:t.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"batch-size",children:"Emails por Lote"}),e.jsx(C,{id:"batch-size",type:"number",min:"10",max:"1000",value:i.batchSize,onChange:t=>p({...i,batchSize:parseInt(t.target.value)})})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"batch-delay",children:"Delay entre Lotes (min)"}),e.jsx(C,{id:"batch-delay",type:"number",min:"1",max:"60",value:i.delayBetweenBatches,onChange:t=>p({...i,delayBetweenBatches:parseInt(t.target.value)})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"test-mode",checked:i.testMode,onCheckedChange:t=>p({...i,testMode:!!t})}),e.jsx(c,{htmlFor:"test-mode",children:"Modo de prueba (no env√≠a emails reales)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"track-opens",checked:i.trackOpens,onCheckedChange:t=>p({...i,trackOpens:!!t})}),e.jsx(c,{htmlFor:"track-opens",children:"Rastrear aperturas"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"track-clicks",checked:i.trackClicks,onCheckedChange:t=>p({...i,trackClicks:!!t})}),e.jsx(c,{htmlFor:"track-clicks",children:"Rastrear clicks"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"unsubscribe-link",checked:i.unsubscribeLink,onCheckedChange:t=>p({...i,unsubscribeLink:!!t})}),e.jsx(c,{htmlFor:"unsubscribe-link",children:"Incluir enlace de cancelaci√≥n"})]})]})]})]})]}),e.jsxs(o,{children:[e.jsx(N,{children:e.jsxs(y,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Resumen del Env√≠o"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(x,{variant:"outline",onClick:()=>A(!r),children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),r?"Ocultar":"Vista Previa"]}),e.jsxs(x,{onClick:_,className:"bg-[#00a587] hover:bg-[#067f5f]",disabled:j.length===0||!l,children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),i.scheduledTime?"Programar Env√≠o":"Enviar Ahora"]})]})]})}),e.jsxs(d,{children:[r&&e.jsx("div",{className:"space-y-4 mb-6 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Segmentos seleccionados:"}),e.jsx("ul",{className:"text-sm text-gray-600 mt-1",children:j.map(t=>{const s=m.find(u=>u.id===t);return s&&e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:s.name}),e.jsxs("span",{children:[s.count," usuarios"]})]},t)})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Configuraci√≥n:"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1 space-y-1",children:[e.jsxs("p",{children:["Plantilla: ",l||"No seleccionada"]}),e.jsxs("p",{children:["Prioridad: ",i.priority]}),e.jsxs("p",{children:["Lotes de: ",i.batchSize," emails"]}),e.jsxs("p",{children:["Delay: ",i.delayBetweenBatches," minutos"]}),i.scheduledTime&&e.jsxs("p",{children:["Programado: ",new Date(i.scheduledTime).toLocaleString()]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-[#00a587]",children:S().toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-500",children:"Destinatarios"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Math.ceil(S()/i.batchSize)}),e.jsx("p",{className:"text-sm text-gray-500",children:"Lotes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:T()}),e.jsx("p",{className:"text-sm text-gray-500",children:"Minutos"})]})]}),i.testMode&&e.jsx(b,{variant:"outline",className:"bg-yellow-100 text-yellow-700",children:"MODO DE PRUEBA"})]})]})]})]})},Je=()=>{const[j,E]=f.useState("30days");f.useState("delivery");const l={overview:{totalSent:2847,deliveryRate:98.7,openRate:42.3,clickRate:18.6,unsubscribeRate:.8,bounceRate:1.3},byModule:[{module:"HR",sent:812,opens:389,clicks:178,color:"bg-blue-500"},{module:"Finanzas",sent:694,opens:315,clicks:142,color:"bg-green-500"},{module:"Eventos",sent:523,opens:231,clicks:89,color:"bg-purple-500"},{module:"Voluntarios",sent:298,opens:167,clicks:72,color:"bg-orange-500"},{module:"Concesiones",sent:187,opens:94,clicks:41,color:"bg-red-500"},{module:"Activos",sent:165,opens:78,clicks:35,color:"bg-yellow-500"},{module:"Seguridad",sent:112,opens:58,clicks:23,color:"bg-pink-500"},{module:"Arbolado",sent:56,opens:29,clicks:12,color:"bg-teal-500"}],recentCampaigns:[{name:"Bienvenida Q1 2025",sent:15,opens:13,clicks:4,date:"2025-06-23",status:"completed"},{name:"Recibos Diciembre",sent:185,opens:174,clicks:146,date:"2025-06-22",status:"completed"},{name:"Actividades Verano",sent:0,opens:0,clicks:0,date:"2025-06-25",status:"draft"},{name:"Reconocimientos 2024",sent:28,opens:27,clicks:12,date:"2025-06-20",status:"paused"},{name:"Vencimientos Contratos",sent:3,opens:3,clicks:2,date:"2025-06-24",status:"active"}],topPerformers:[{template:"Recibo de N√≥mina",opens:94.1,clicks:78.9,sent:185},{template:"Vencimiento de Contrato",opens:100,clicks:66.7,sent:3},{template:"Reconocimiento Voluntario",opens:96.4,clicks:42.1,sent:28},{template:"Bienvenida Empleado",opens:87.5,clicks:23.4,sent:15}],weeklyTrend:[{week:"Sem 1",sent:342,opens:156,clicks:67},{week:"Sem 2",sent:428,opens:189,clicks:84},{week:"Sem 3",sent:385,opens:171,clicks:76},{week:"Sem 4",sent:467,opens:203,clicks:92}]},h=i=>({completed:"bg-green-100 text-green-700",active:"bg-blue-100 text-blue-700",draft:"bg-gray-100 text-gray-700",paused:"bg-orange-100 text-orange-700"})[i]||"bg-gray-100 text-gray-700";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("p",{className:"text-gray-600",children:"M√©tricas de rendimiento y reportes detallados"})}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(D,{value:j,onValueChange:E,children:[e.jsx(R,{className:"w-40",children:e.jsx(F,{})}),e.jsxs(I,{children:[e.jsx(g,{value:"7days",children:"√öltimos 7 d√≠as"}),e.jsx(g,{value:"30days",children:"√öltimos 30 d√≠as"}),e.jsx(g,{value:"90days",children:"√öltimos 90 d√≠as"}),e.jsx(g,{value:"year",children:"Este a√±o"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:l.overview.totalSent.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Emails Enviados"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pe,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[l.overview.deliveryRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tasa Entrega"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"h-6 w-6 text-purple-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[l.overview.openRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tasa Apertura"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"h-6 w-6 text-orange-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[l.overview.clickRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tasa Clicks"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"h-6 w-6 text-red-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[l.overview.bounceRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tasa Rebote"})]})]})})}),e.jsx(o,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Se,{className:"h-6 w-6 text-yellow-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[l.overview.unsubscribeRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Cancelaciones"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Rendimiento por M√≥dulo"}),e.jsx(w,{children:"Distribuci√≥n de emails y engagement por m√≥dulo del sistema"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:l.byModule.map((i,p)=>{const r=(i.opens/i.sent*100).toFixed(1),A=(i.clicks/i.sent*100).toFixed(1);return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${i.color}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:i.module}),e.jsxs("p",{className:"text-sm text-gray-600",children:[i.sent," emails enviados"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:[r,"% apertura"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[A,"% clicks"]})]})]},p)})})})]}),e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Campa√±as Recientes"}),e.jsx(w,{children:"Estado y rendimiento de las √∫ltimas campa√±as"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:l.recentCampaigns.map((i,p)=>{const r=i.sent>0?(i.opens/i.sent*100).toFixed(1):"0.0";return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("p",{className:"font-medium text-sm",children:i.name}),e.jsx(b,{className:`text-xs ${h(i.status)}`,children:i.status})]}),e.jsx("p",{className:"text-xs text-gray-600",children:i.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:[i.sent," enviados"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[r,"% apertura"]})]})]},p)})})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Plantillas M√°s Efectivas"}),e.jsx(w,{children:"Ranking de plantillas por tasa de apertura y clicks"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:l.topPerformers.map((i,p)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-[#00a587] text-white text-sm font-bold",children:p+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:i.template}),e.jsxs("p",{className:"text-xs text-gray-600",children:[i.sent," emails enviados"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-purple-600",children:[i.opens,"% apertura"]}),e.jsxs("p",{className:"text-sm text-orange-600",children:[i.clicks,"% clicks"]})]})]},p))})})]}),e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Tendencia Semanal"}),e.jsx(w,{children:"Evoluci√≥n del engagement en las √∫ltimas 4 semanas"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:l.weeklyTrend.map((i,p)=>{const r=(i.opens/i.sent*100).toFixed(1),A=(i.clicks/i.sent*100).toFixed(1);return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:i.week}),e.jsxs("p",{className:"text-sm text-gray-600",children:[i.sent," emails"]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm font-medium text-purple-600",children:[r,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Apertura"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[A,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Clicks"})]})]})]},p)})})})]})]}),e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(y,{children:"Acciones y Reportes"}),e.jsx(w,{children:"Herramientas para an√°lisis detallado y exportaci√≥n de datos"})]}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(x,{variant:"outline",className:"flex flex-col items-center p-6 h-auto",children:[e.jsx(Ce,{className:"h-8 w-8 mb-2 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Reporte Completo"}),e.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Descargar PDF con todas las m√©tricas"})]}),e.jsxs(x,{variant:"outline",className:"flex flex-col items-center p-6 h-auto",children:[e.jsx(Ne,{className:"h-8 w-8 mb-2 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Exportar CSV"}),e.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Datos en formato CSV para an√°lisis"})]}),e.jsxs(x,{variant:"outline",className:"flex flex-col items-center p-6 h-auto",children:[e.jsx(be,{className:"h-8 w-8 mb-2 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Configurar Alertas"}),e.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Notificaciones autom√°ticas"})]}),e.jsxs(x,{variant:"outline",className:"flex flex-col items-center p-6 h-auto",children:[e.jsx(ke,{className:"h-8 w-8 mb-2 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium",children:"An√°lisis Avanzado"}),e.jsx("span",{className:"text-xs text-gray-500 text-center",children:"M√©tricas personalizadas"})]})]})})]})]})};export{Je as A,We as B,Ke as C,Xe as Q,Ye as T};
