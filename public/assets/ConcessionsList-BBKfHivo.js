import{Y as c,u as L,j as e,Z as E,I as A,z as f,H as b,J as y,K as w,N as a,B as n,o as d,as as I,M as B,P as $,h as z,L as R}from"./index-BBGHPKhn.js";import{P as H}from"./PublicLayout-CCgfkENm.js";const J="/assets/barista-making-tasty-coffee-on-a-professional-mach-2025-01-07-23-28-05-utc_1752941279273-sVKst0Lv.jpg";function Z(){const[o,S]=c.useState(""),[g,C]=c.useState("all"),[p,k]=c.useState("all"),[u,T]=c.useState("all"),[l,x]=c.useState(1),m=12,{data:j,isLoading:M}=L({queryKey:["/api/active-concessions"]}),{data:v}=L({queryKey:["/api/parks"]}),V=(j==null?void 0:j.data)||[],F=(v==null?void 0:v.data)||[],r=V.filter(s=>{var P;const N=(s.name||"").toLowerCase().includes(o.toLowerCase())||(s.concessionTypeName||"").toLowerCase().includes(o.toLowerCase())||(s.specific_location||"").toLowerCase().includes(o.toLowerCase()),t=g==="all"||(s.concessionTypeName||"").includes(g),q=p==="all"||s.status===p,D=u==="all"||((P=s.park_id)==null?void 0:P.toString())===u;return N&&t&&q&&D}),i=Math.ceil(r.length/m),h=(l-1)*m,_=r.slice(h,h+m),K=()=>{S(""),C("all"),k("all"),T("all"),x(1)};return M?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(s=>e.jsx("div",{className:"h-64 bg-gray-300 rounded-lg"},s))})]})})}):e.jsx(H,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"relative text-white py-24",style:{backgroundImage:`url(${J})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/50"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Concesiones y Servicios"}),e.jsx("p",{className:"text-xl md:text-2xl text-green-100 max-w-3xl mx-auto",children:"Descubre todos los servicios comerciales disponibles en nuestros parques urbanos"})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(A,{placeholder:"Buscar concesiones...",value:o,onChange:s=>S(s.target.value),className:"pl-10"})]}),e.jsxs(f,{value:g,onValueChange:C,children:[e.jsx(b,{children:e.jsx(y,{placeholder:"Tipo de concesi칩n"})}),e.jsxs(w,{children:[e.jsx(a,{value:"all",children:"Todos los tipos"}),e.jsx(a,{value:"Venta de alimentos",children:"Venta de alimentos"}),e.jsx(a,{value:"Renta de bicicletas",children:"Renta de bicicletas"}),e.jsx(a,{value:"Kiosco de informaci칩n",children:"Kiosco de informaci칩n"}),e.jsx(a,{value:"Comercial",children:"Comercial"})]})]}),e.jsxs(f,{value:p,onValueChange:k,children:[e.jsx(b,{children:e.jsx(y,{placeholder:"Estado"})}),e.jsxs(w,{children:[e.jsx(a,{value:"all",children:"Todos los estados"}),e.jsx(a,{value:"active",children:"Activa"}),e.jsx(a,{value:"expiring",children:"Por vencer"}),e.jsx(a,{value:"expired",children:"Vencida"})]})]}),e.jsxs(f,{value:u,onValueChange:T,children:[e.jsx(b,{children:e.jsx(y,{placeholder:"Parque"})}),e.jsxs(w,{children:[e.jsx(a,{value:"all",children:"Todos los parques"}),F.map(s=>e.jsx(a,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsx(n,{variant:"outline",onClick:K,className:"border-[#00a587] text-[#00a587] hover:bg-[#00a587] hover:text-white",children:"Limpiar Filtros"})]})})}),e.jsx("div",{className:"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] mb-8",children:e.jsx(d,{spaceId:"35",position:"banner",pageType:"concessions"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[r.length," concesiones encontradas"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["P치gina ",l," de ",i," - Mostrando ",h+1,"-",Math.min(h+m,r.length)," de ",r.length]})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:_.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"aspect-video w-full bg-gradient-to-br from-[#00a587] via-[#067f5f] to-[#8498a5] relative overflow-hidden",children:[s.primaryImage?e.jsx("img",{src:s.primaryImage,alt:s.name,className:"w-full h-full object-contain bg-gradient-to-br from-[#00a587] via-[#067f5f] to-[#8498a5]"}):e.jsx("div",{className:"flex items-center justify-center h-full text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx(I,{className:"w-12 h-12 mx-auto mb-2 opacity-80"}),e.jsx("p",{className:"text-sm font-medium opacity-90",children:s.concessionTypeName})]})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="activa"||s.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-[#00a587] font-medium mb-3",children:s.concessionTypeName}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:s.specific_location})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:s.parkName})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:s.emergency_phone})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{children:[new Date(s.start_date).toLocaleDateString("es-ES")," - ",new Date(s.end_date).toLocaleDateString("es-ES")]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx(R,{href:`/concession/${s.id}`,children:e.jsx(n,{className:"w-full bg-[#00a587] text-white hover:bg-[#067f5f]",children:"Ver detalles"})})})]})]},s.id))})}),e.jsx("div",{className:"w-80 flex-shrink-0 hidden lg:block",children:e.jsxs("div",{className:"sticky top-4 space-y-6",children:[e.jsx(d,{spaceId:"9",position:"card",pageType:"concessions"}),e.jsx(d,{spaceId:"19",position:"card",pageType:"concessions"}),e.jsx(d,{spaceId:"23",position:"card",pageType:"concessions"}),e.jsx(d,{spaceId:"24",position:"card",pageType:"concessions"})]})})]}),i>1&&e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(n,{variant:"outline",onClick:()=>x(s=>Math.max(s-1,1)),disabled:l===1,children:"Anterior"}),[...Array(Math.min(5,i))].map((s,N)=>{const t=Math.max(1,Math.min(i-4,l-2))+N;return t>i?null:e.jsx(n,{variant:l===t?"default":"outline",onClick:()=>x(t),className:l===t?"bg-[#00a587] text-white":"",children:t},t)}),e.jsx(n,{variant:"outline",onClick:()=>x(s=>Math.min(s+1,i)),disabled:l===i,children:"Siguiente"})]})]})]})})}export{Z as default};
