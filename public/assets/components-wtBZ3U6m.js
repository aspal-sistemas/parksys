import{aD as le,Y as w,j as e,C as c,c as r,F as Q,bc as $,U as V,b6 as G,a as p,b as j,D as J,p as K,B as m,b2 as Y,r as W,t as X,v as Z,w as ee,y as d,I as y,z as k,H as S,J as R,K as A,N as x,O as z,f,ag as F,a3 as g,b7 as B,cr as se,i as M,a9 as L,n as ie,x as ae,aK as te,al as ne,h as ce,a4 as re,aL as de,S as oe,aJ as xe,aB as me}from"./index-Dzu3mJf5.js";import{R as he,a as U}from"./radio-group-CeDg7LrT.js";import{S as q}from"./send-DKRtUueH.js";import{P as T}from"./play-5efn8UH2.js";import{C as H}from"./circle-x-C53LJYQf.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=le("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),Ne=()=>{const[u,N]=w.useState(!1),[a,o]=w.useState({name:"",category:"",description:"",subject:"",htmlContent:"",textContent:"",variables:[],newVariable:"",usage:"manual",module:"",isActive:!0}),t=["Recursos Humanos","Finanzas","Eventos","Voluntarios","Concesiones","Infraestructura","Seguridad","Medio Ambiente"],l=["HR","Finanzas","Eventos","Voluntarios","Concesiones","Activos","Seguridad","Arbolado"],v=()=>{console.log("Creating template:",a),N(!1),o({name:"",category:"",description:"",subject:"",htmlContent:"",textContent:"",variables:[],newVariable:"",usage:"manual",module:"",isActive:!0})},C=()=>{a.newVariable.trim()&&!a.variables.includes(a.newVariable.trim())&&o({...a,variables:[...a.variables,`{{${a.newVariable.trim()}}}`],newVariable:""})},P=i=>{o({...a,variables:a.variables.filter((b,E)=>E!==i)})},D=[{id:1,name:"Bienvenida Empleado",category:"Recursos Humanos",description:"Plantilla para dar la bienvenida a nuevos empleados del sistema de parques",variables:["{{nombre_empleado}}","{{departamento}}","{{fecha_inicio}}","{{supervisor}}"],usage:"Automática al crear empleado",color:"bg-blue-500",icon:e.jsx(V,{className:"h-5 w-5"})},{id:2,name:"Recibo de Nómina",category:"Finanzas",description:"Notificación de recibo de nómina generado para empleados",variables:["{{empleado}}","{{periodo}}","{{monto_total}}","{{fecha_pago}}"],usage:"Automática al procesar nómina",color:"bg-green-500",icon:e.jsx(ne,{className:"h-5 w-5"})},{id:3,name:"Nueva Actividad en Parque",category:"Eventos",description:"Notificación sobre nuevas actividades programadas en parques",variables:["{{nombre_actividad}}","{{parque}}","{{fecha_hora}}","{{instructor}}"],usage:"Manual o automática",color:"bg-purple-500",icon:e.jsx(ce,{className:"h-5 w-5"})},{id:4,name:"Reconocimiento Voluntario",category:"Voluntarios",description:"Certificado de reconocimiento para voluntarios destacados",variables:["{{nombre_voluntario}}","{{horas_servicio}}","{{periodo}}","{{logros}}"],usage:"Manual",color:"bg-orange-500",icon:e.jsx(re,{className:"h-5 w-5"})},{id:5,name:"Vencimiento de Contrato",category:"Concesiones",description:"Alerta sobre contratos de concesión próximos a vencer",variables:["{{concesionario}}","{{fecha_vencimiento}}","{{tipo_contrato}}","{{monto}}"],usage:"Automática (30 días antes)",color:"bg-red-500",icon:e.jsx(ae,{className:"h-5 w-5"})},{id:6,name:"Mantenimiento de Activos",category:"Infraestructura",description:"Notificación de mantenimiento programado o requerido",variables:["{{activo}}","{{tipo_mantenimiento}}","{{fecha_programada}}","{{responsable}}"],usage:"Automática por calendario",color:"bg-yellow-500",icon:e.jsx(de,{className:"h-5 w-5"})},{id:7,name:"Evaluación de Instructor",category:"Recursos Humanos",description:"Recordatorio para completar evaluaciones de instructores",variables:["{{instructor}}","{{actividad}}","{{fecha_limite}}","{{evaluador}}"],usage:"Automática mensual",color:"bg-indigo-500",icon:e.jsx(oe,{className:"h-5 w-5"})},{id:8,name:"Reporte de Incidente",category:"Seguridad",description:"Notificación inmediata sobre incidentes en parques",variables:["{{tipo_incidente}}","{{parque}}","{{hora}}","{{estado}}","{{responsable}}"],usage:"Automática al reportar",color:"bg-red-600",icon:e.jsx(xe,{className:"h-5 w-5"})},{id:9,name:"Actualización de Presupuesto",category:"Finanzas",description:"Resumen mensual de ejecución presupuestaria",variables:["{{mes}}","{{ingresos}}","{{egresos}}","{{saldo}}","{{proyeccion}}"],usage:"Automática mensual",color:"bg-teal-500",icon:e.jsx(te,{className:"h-5 w-5"})},{id:10,name:"Cuidado del Arbolado",category:"Medio Ambiente",description:"Programa de cuidado y mantenimiento de árboles",variables:["{{especie}}","{{ubicacion}}","{{accion_requerida}}","{{fecha_programada}}"],usage:"Automática estacional",color:"bg-green-600",icon:e.jsx(me,{className:"h-5 w-5"})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:D.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Plantillas Totales"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:"7"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Automáticas"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:"3"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Manuales"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:"6"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Categorías"})]})]})})})]}),e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsxs(j,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Gestión de Plantillas"}),e.jsxs(J,{open:u,onOpenChange:N,children:[e.jsx(K,{asChild:!0,children:e.jsxs(m,{className:"bg-[#00a587] hover:bg-[#067f5f]",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Nueva Plantilla"]})}),e.jsxs(W,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(X,{children:[e.jsx(Z,{children:"Crear Nueva Plantilla de Email"}),e.jsx(ee,{children:"Diseñe una nueva plantilla de email para el sistema de comunicaciones"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"template-name",children:"Nombre de la Plantilla"}),e.jsx(y,{id:"template-name",value:a.name,onChange:i=>o({...a,name:i.target.value}),placeholder:"Ej: Bienvenida Nuevo Empleado"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"template-category",children:"Categoría"}),e.jsxs(k,{value:a.category,onValueChange:i=>o({...a,category:i}),children:[e.jsx(S,{children:e.jsx(R,{placeholder:"Seleccionar categoría"})}),e.jsx(A,{children:t.map(i=>e.jsx(x,{value:i,children:i},i))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"template-module",children:"Módulo del Sistema"}),e.jsxs(k,{value:a.module,onValueChange:i=>o({...a,module:i}),children:[e.jsx(S,{children:e.jsx(R,{placeholder:"Seleccionar módulo"})}),e.jsx(A,{children:l.map(i=>e.jsx(x,{value:i,children:i},i))})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"template-usage",children:"Tipo de Uso"}),e.jsxs(k,{value:a.usage,onValueChange:i=>o({...a,usage:i}),children:[e.jsx(S,{children:e.jsx(R,{})}),e.jsxs(A,{children:[e.jsx(x,{value:"manual",children:"Manual"}),e.jsx(x,{value:"automatic",children:"Automático"}),e.jsx(x,{value:"scheduled",children:"Programado"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"template-description",children:"Descripción"}),e.jsx(z,{id:"template-description",value:a.description,onChange:i=>o({...a,description:i.target.value}),placeholder:"Descripción del propósito de la plantilla...",rows:3})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"template-subject",children:"Asunto del Email"}),e.jsx(y,{id:"template-subject",value:a.subject,onChange:i=>o({...a,subject:i.target.value}),placeholder:"Ej: Bienvenido {{nombre_empleado}} - {{empresa}}"})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Variables Disponibles"}),e.jsxs("div",{className:"flex space-x-2 mt-2",children:[e.jsx(y,{value:a.newVariable,onChange:i=>o({...a,newVariable:i.target.value}),placeholder:"nombre_variable",onKeyPress:i=>i.key==="Enter"&&C()}),e.jsx(m,{type:"button",onClick:C,variant:"outline",children:"Agregar"})]}),a.variables.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:a.variables.map((i,b)=>e.jsxs(f,{variant:"secondary",className:"flex items-center gap-1",children:[i,e.jsx("button",{type:"button",onClick:()=>P(b),className:"ml-1 text-red-500 hover:text-red-700",children:"×"})]},b))})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"template-html",children:"Contenido HTML"}),e.jsx(z,{id:"template-html",value:a.htmlContent,onChange:i=>o({...a,htmlContent:i.target.value}),placeholder:"<h1>Bienvenido {{nombre_empleado}}</h1><p>Su usuario es: {{username}}</p>",rows:8,className:"font-mono text-sm"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"template-text",children:"Contenido de Texto Plano (fallback)"}),e.jsx(z,{id:"template-text",value:a.textContent,onChange:i=>o({...a,textContent:i.target.value}),placeholder:"Bienvenido {{nombre_empleado}}. Su usuario es: {{username}}",rows:6})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"template-active",checked:a.isActive,onCheckedChange:i=>o({...a,isActive:!!i})}),e.jsx(d,{htmlFor:"template-active",children:"Plantilla activa"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[e.jsx(m,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),e.jsx(m,{onClick:v,className:"bg-[#00a587] hover:bg-[#067f5f]",disabled:!a.name||!a.category||!a.htmlContent,children:"Crear Plantilla"})]})]})]})]}),e.jsx(g,{children:"Plantillas de email especializadas para el sistema de parques urbanos"})]}),e.jsx(r,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(i=>e.jsxs(c,{className:"border hover:shadow-md transition-shadow",children:[e.jsxs(p,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:`p-2 rounded-lg ${i.color} text-white`,children:i.icon}),e.jsx(f,{variant:"outline",className:"text-xs",children:i.category})]}),e.jsx(j,{className:"text-lg",children:i.name}),e.jsx(g,{className:"text-sm",children:i.description})]}),e.jsx(r,{className:"pt-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Variables disponibles:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.variables.slice(0,2).map((b,E)=>e.jsx(f,{variant:"secondary",className:"text-xs",children:b},E)),i.variables.length>2&&e.jsxs(f,{variant:"secondary",className:"text-xs",children:["+",i.variables.length-2," más"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-500",children:["Uso: ",i.usage]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(m,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx(m,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(se,{className:"h-4 w-4"})}),e.jsx(m,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(q,{className:"h-4 w-4"})})]})]})]})})]},i.id))})})]}),e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(j,{children:"Plantillas por Categoría"}),e.jsx(g,{children:"Distribución de plantillas según módulos del sistema"})]}),e.jsx(r,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{name:"Recursos Humanos",count:2,color:"bg-blue-100 text-blue-700"},{name:"Finanzas",count:2,color:"bg-green-100 text-green-700"},{name:"Eventos",count:1,color:"bg-purple-100 text-purple-700"},{name:"Voluntarios",count:1,color:"bg-orange-100 text-orange-700"},{name:"Concesiones",count:1,color:"bg-red-100 text-red-700"},{name:"Infraestructura",count:1,color:"bg-yellow-100 text-yellow-700"},{name:"Seguridad",count:1,color:"bg-pink-100 text-pink-700"},{name:"Medio Ambiente",count:1,color:"bg-teal-100 text-teal-700"}].map(i=>e.jsxs("div",{className:`p-4 rounded-lg ${i.color}`,children:[e.jsx("p",{className:"font-medium",children:i.name}),e.jsx("p",{className:"text-2xl font-bold",children:i.count}),e.jsx("p",{className:"text-sm opacity-75",children:"plantillas"})]},i.name))})})]})]})},be=()=>{const u=[{id:1,subject:"Bienvenida - María González",template:"Bienvenida Empleado",recipient:"maria.gonzalez@parques.gob.mx",scheduledFor:"2025-06-25 09:00:00",status:"pending",priority:"normal",retries:0,module:"HR"},{id:2,subject:"Recibo de Nómina - Diciembre 2024",template:"Recibo de Nómina",recipient:"carlos.martinez@parques.gob.mx",scheduledFor:"2025-06-25 08:30:00",status:"processing",priority:"high",retries:0,module:"Finanzas"},{id:3,subject:"Nueva Actividad - Yoga en el Parque",template:"Nueva Actividad en Parque",recipient:"voluntarios@parques.gob.mx",scheduledFor:"2025-06-25 10:15:00",status:"pending",priority:"normal",retries:0,module:"Eventos"},{id:4,subject:"Vencimiento Contrato - Cafetería Central",template:"Vencimiento de Contrato",recipient:"admin@cafeteriacentral.com",scheduledFor:"2025-06-25 07:45:00",status:"failed",priority:"high",retries:2,module:"Concesiones"},{id:5,subject:"Mantenimiento Programado - Juegos Infantiles",template:"Mantenimiento de Activos",recipient:"mantenimiento@parques.gob.mx",scheduledFor:"2025-06-25 11:00:00",status:"sent",priority:"normal",retries:0,module:"Activos"},{id:6,subject:"Incidente Reportado - Bosque Los Colomos",template:"Reporte de Incidente",recipient:"seguridad@parques.gob.mx",scheduledFor:"2025-06-25 06:30:00",status:"sent",priority:"urgent",retries:0,module:"Seguridad"}],N=l=>{switch(l){case"pending":return e.jsx(M,{className:"h-4 w-4 text-orange-500"});case"processing":return e.jsx(T,{className:"h-4 w-4 text-blue-500"});case"sent":return e.jsx(L,{className:"h-4 w-4 text-green-500"});case"failed":return e.jsx(H,{className:"h-4 w-4 text-red-500"});default:return e.jsx(M,{className:"h-4 w-4 text-gray-500"})}},a=l=>({pending:"bg-orange-100 text-orange-700",processing:"bg-blue-100 text-blue-700",sent:"bg-green-100 text-green-700",failed:"bg-red-100 text-red-700"})[l]||"bg-gray-100 text-gray-700",o=l=>({urgent:"bg-red-500 text-white",high:"bg-orange-500 text-white",normal:"bg-blue-500 text-white",low:"bg-gray-500 text-white"})[l]||"bg-gray-500 text-white",t={pending:u.filter(l=>l.status==="pending").length,processing:u.filter(l=>l.status==="processing").length,sent:u.filter(l=>l.status==="sent").length,failed:u.filter(l=>l.status==="failed").length};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:t.pending}),e.jsx("p",{className:"text-xs text-gray-500",children:"Pendientes"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:t.processing}),e.jsx("p",{className:"text-xs text-gray-500",children:"Procesando"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:t.sent}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enviados"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:t.failed}),e.jsx("p",{className:"text-xs text-gray-500",children:"Fallidos"})]})]})})})]}),e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsxs(j,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Cola de Emails en Tiempo Real"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(m,{variant:"outline",size:"sm",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Pausar Cola"]}),e.jsxs(m,{className:"bg-[#00a587] hover:bg-[#067f5f]",size:"sm",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Procesar Ahora"]})]})]}),e.jsx(g,{children:"Monitoreo en tiempo real del procesamiento de emails programados"})]}),e.jsx(r,{children:e.jsx("div",{className:"space-y-4",children:u.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[N(l.status),e.jsx(f,{className:`text-xs ${o(l.priority)}`,children:l.priority.toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-sm truncate",children:l.subject}),e.jsx(f,{variant:"outline",className:"text-xs",children:l.module})]}),e.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["Para: ",l.recipient]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Plantilla: ",l.template]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-1 min-w-0",children:[e.jsx(f,{className:`text-xs ${a(l.status)}`,children:l.status.charAt(0).toUpperCase()+l.status.slice(1)}),e.jsx("p",{className:"text-xs text-gray-500",children:l.scheduledFor}),l.retries>0&&e.jsxs("p",{className:"text-xs text-red-500",children:["Reintentos: ",l.retries]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-4",children:[e.jsx(m,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(B,{className:"h-4 w-4"})}),l.status==="failed"&&e.jsx(m,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-600",children:e.jsx(T,{className:"h-4 w-4"})}),l.status==="pending"&&e.jsx(m,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600",children:e.jsx(O,{className:"h-4 w-4"})})]})]},l.id))})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(j,{children:"Rendimiento de la Cola"}),e.jsx(g,{children:"Estadísticas de procesamiento de las últimas 24 horas"})]}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Emails procesados"}),e.jsx("span",{className:"font-bold",children:"342"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Tasa de éxito"}),e.jsx("span",{className:"font-bold text-green-600",children:"96.8%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Tiempo promedio"}),e.jsx("span",{className:"font-bold",children:"2.3s"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Emails en cola"}),e.jsx("span",{className:"font-bold text-orange-600",children:t.pending})]})]})})]}),e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(j,{children:"Módulos Más Activos"}),e.jsx(g,{children:"Distribución de emails por módulo del sistema"})]}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:[{module:"HR",count:12,color:"bg-blue-500"},{module:"Finanzas",count:8,color:"bg-green-500"},{module:"Eventos",count:6,color:"bg-purple-500"},{module:"Seguridad",count:4,color:"bg-red-500"},{module:"Activos",count:3,color:"bg-yellow-500"}].map(l=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${l.color}`}),e.jsx("span",{className:"text-sm",children:l.module})]}),e.jsx("span",{className:"font-bold text-sm",children:l.count})]},l.module))})})]})]})]})},fe=()=>{const[u,N]=w.useState(!1),[a,o]=w.useState({name:"",description:"",type:"manual",targetSegment:"",template:"",startDate:"",endDate:"",frequency:"once",customFrequency:"",priority:"normal",sendImmediately:!1,scheduledTime:"",targetUsers:[],includeInactive:!1}),t=[{id:1,name:"Bienvenida Nuevos Empleados Q1 2025",description:"Campaña automatizada para integración de personal nuevo",type:"automated",status:"active",targetSegment:"Empleados Nuevos",targetCount:15,template:"Bienvenida Empleado",sentCount:12,openRate:87.5,clickRate:23.4,startDate:"2025-01-01",endDate:"2025-03-31",createdBy:"Sistema HR",frequency:"Inmediato al registro"},{id:2,name:"Recibos de Nómina Diciembre",description:"Distribución masiva de recibos de nómina mensuales",type:"scheduled",status:"completed",targetSegment:"Todos los Empleados",targetCount:185,template:"Recibo de Nómina",sentCount:185,openRate:94.1,clickRate:78.9,startDate:"2024-12-31",endDate:"2024-12-31",createdBy:"Finanzas",frequency:"Una vez"},{id:3,name:"Actividades de Verano 2025",description:"Promoción de nuevas actividades recreativas",type:"manual",status:"draft",targetSegment:"Usuarios Activos",targetCount:1250,template:"Nueva Actividad en Parque",sentCount:0,openRate:0,clickRate:0,startDate:"2025-06-01",endDate:"2025-08-31",createdBy:"Eventos",frequency:"Semanal"},{id:4,name:"Reconocimientos Voluntarios 2024",description:"Certificados anuales para voluntarios destacados",type:"manual",status:"paused",targetSegment:"Voluntarios Activos",targetCount:45,template:"Reconocimiento Voluntario",sentCount:28,openRate:96.4,clickRate:42.1,startDate:"2024-12-15",endDate:"2024-12-31",createdBy:"Voluntarios",frequency:"Una vez"},{id:5,name:"Alertas Vencimiento Contratos",description:"Notificaciones automáticas 30 días antes del vencimiento",type:"automated",status:"active",targetSegment:"Concesionarios",targetCount:8,template:"Vencimiento de Contrato",sentCount:3,openRate:100,clickRate:66.7,startDate:"2025-01-01",endDate:"2025-12-31",createdBy:"Sistema Concesiones",frequency:"30 días antes"}],l=s=>({active:"bg-green-100 text-green-700",completed:"bg-blue-100 text-blue-700",draft:"bg-gray-100 text-gray-700",paused:"bg-orange-100 text-orange-700"})[s]||"bg-gray-100 text-gray-700",v=s=>({automated:"bg-purple-500 text-white",scheduled:"bg-blue-500 text-white",manual:"bg-orange-500 text-white"})[s]||"bg-gray-500 text-white",C=t.filter(s=>s.status==="active").length,P=t.reduce((s,h)=>s+h.sentCount,0),D=t.filter(s=>s.sentCount>0).reduce((s,h)=>s+h.openRate,0)/t.filter(s=>s.sentCount>0).length,i=t.reduce((s,h)=>s+h.targetCount,0),b=["Bienvenida Empleado","Recibo de Nómina","Nueva Actividad en Parque","Reconocimiento Voluntario","Vencimiento de Contrato","Mantenimiento de Activos","Evaluación de Instructor","Reporte de Incidente","Actualización de Presupuesto","Cuidado del Arbolado"],E=[{value:"todos_empleados",label:"Todos los Empleados",count:185},{value:"empleados_nuevos",label:"Empleados Nuevos",count:15},{value:"empleados_activos",label:"Empleados Activos",count:170},{value:"directivos",label:"Personal Directivo",count:12},{value:"instructores",label:"Instructores",count:28},{value:"usuarios_activos",label:"Usuarios Activos",count:1250},{value:"usuarios_premium",label:"Usuarios Premium",count:89},{value:"voluntarios_activos",label:"Voluntarios Activos",count:45},{value:"voluntarios_nuevos",label:"Voluntarios Nuevos",count:8},{value:"concesionarios",label:"Concesionarios",count:8},{value:"proveedores",label:"Proveedores",count:23}],I=()=>{console.log("Creating campaign:",a),N(!1),o({name:"",description:"",type:"manual",targetSegment:"",template:"",startDate:"",endDate:"",frequency:"once",customFrequency:"",priority:"normal",sendImmediately:!1,scheduledTime:"",targetUsers:[],includeInactive:!1})},n=s=>{const h=E.find(_=>_.value===s);return h?h.count:0};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:t.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Campañas Totales"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:C}),e.jsx("p",{className:"text-xs text-gray-500",children:"Activas"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:P.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Emails Enviados"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[D.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tasa Apertura"})]})]})})})]}),e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsxs(j,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Gestión de Campañas"}),e.jsxs(J,{open:u,onOpenChange:N,children:[e.jsx(K,{asChild:!0,children:e.jsxs(m,{className:"bg-[#00a587] hover:bg-[#067f5f]",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Nueva Campaña"]})}),e.jsxs(W,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(X,{children:[e.jsx(Z,{children:"Crear Nueva Campaña de Email"}),e.jsx(ee,{children:"Configure los detalles de su nueva campaña de comunicación"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"campaign-name",children:"Nombre de la Campaña"}),e.jsx(y,{id:"campaign-name",value:a.name,onChange:s=>o({...a,name:s.target.value}),placeholder:"Ej: Bienvenida Nuevos Empleados"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"campaign-template",children:"Plantilla"}),e.jsxs(k,{value:a.template,onValueChange:s=>o({...a,template:s}),children:[e.jsx(S,{children:e.jsx(R,{placeholder:"Seleccionar plantilla"})}),e.jsx(A,{children:b.map(s=>e.jsx(x,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"campaign-description",children:"Descripción"}),e.jsx(z,{id:"campaign-description",value:a.description,onChange:s=>o({...a,description:s.target.value}),placeholder:"Descripción de la campaña...",rows:3})]})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Tipo de Campaña"}),e.jsxs(he,{value:a.type,onValueChange:s=>o({...a,type:s}),className:"mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:"manual",id:"manual"}),e.jsx(d,{htmlFor:"manual",children:"Manual - Envío controlado manualmente"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:"scheduled",id:"scheduled"}),e.jsx(d,{htmlFor:"scheduled",children:"Programada - Envío en fechas específicas"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:"automated",id:"automated"}),e.jsx(d,{htmlFor:"automated",children:"Automatizada - Triggers del sistema"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"target-segment",children:"Segmento Objetivo"}),e.jsxs(k,{value:a.targetSegment,onValueChange:s=>o({...a,targetSegment:s}),children:[e.jsx(S,{children:e.jsx(R,{placeholder:"Seleccionar audiencia"})}),e.jsx(A,{children:E.map(s=>e.jsxs(x,{value:s.value,children:[s.label," (",s.count," usuarios)"]},s.value))})]}),a.targetSegment&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Destinatarios estimados: ",n(a.targetSegment)," usuarios"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"include-inactive",checked:a.includeInactive,onCheckedChange:s=>o({...a,includeInactive:!!s})}),e.jsx(d,{htmlFor:"include-inactive",children:"Incluir usuarios inactivos"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"start-date",children:"Fecha de Inicio"}),e.jsx(y,{id:"start-date",type:"date",value:a.startDate,onChange:s=>o({...a,startDate:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"end-date",children:"Fecha de Fin"}),e.jsx(y,{id:"end-date",type:"date",value:a.endDate,onChange:s=>o({...a,endDate:s.target.value})})]})]}),a.type!=="automated"&&e.jsxs("div",{children:[e.jsx(d,{htmlFor:"frequency",children:"Frecuencia"}),e.jsxs(k,{value:a.frequency,onValueChange:s=>o({...a,frequency:s}),children:[e.jsx(S,{children:e.jsx(R,{placeholder:"Seleccionar frecuencia"})}),e.jsxs(A,{children:[e.jsx(x,{value:"once",children:"Una sola vez"}),e.jsx(x,{value:"daily",children:"Diario"}),e.jsx(x,{value:"weekly",children:"Semanal"}),e.jsx(x,{value:"monthly",children:"Mensual"}),e.jsx(x,{value:"custom",children:"Personalizada"})]})]}),a.frequency==="custom"&&e.jsx(y,{className:"mt-2",placeholder:"Especificar frecuencia personalizada",value:a.customFrequency,onChange:s=>o({...a,customFrequency:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"priority",children:"Prioridad"}),e.jsxs(k,{value:a.priority,onValueChange:s=>o({...a,priority:s}),children:[e.jsx(S,{children:e.jsx(R,{})}),e.jsxs(A,{children:[e.jsx(x,{value:"low",children:"Baja"}),e.jsx(x,{value:"normal",children:"Normal"}),e.jsx(x,{value:"high",children:"Alta"}),e.jsx(x,{value:"urgent",children:"Urgente"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"send-immediately",checked:a.sendImmediately,onCheckedChange:s=>o({...a,sendImmediately:!!s})}),e.jsx(d,{htmlFor:"send-immediately",children:"Enviar inmediatamente después de crear"})]}),!a.sendImmediately&&e.jsxs("div",{children:[e.jsx(d,{htmlFor:"scheduled-time",children:"Hora Programada"}),e.jsx(y,{id:"scheduled-time",type:"datetime-local",value:a.scheduledTime,onChange:s=>o({...a,scheduledTime:s.target.value})})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[e.jsx(m,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),e.jsx(m,{onClick:I,className:"bg-[#00a587] hover:bg-[#067f5f]",disabled:!a.name||!a.template||!a.targetSegment,children:"Crear Campaña"})]})]})]})]}),e.jsx(g,{children:"Campañas de email segmentadas por tipos de usuario y módulos del sistema"})]}),e.jsx(r,{children:e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsx(f,{className:`text-xs ${v(s.type)}`,children:s.type.charAt(0).toUpperCase()+s.type.slice(1)}),e.jsx(f,{className:`text-xs ${l(s.status)}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[e.jsxs("span",{children:["Segmento: ",s.targetSegment]}),e.jsxs("span",{children:["Plantilla: ",s.template]}),e.jsxs("span",{children:["Frecuencia: ",s.frequency]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx(m,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(se,{className:"h-4 w-4"})}),s.status==="paused"&&e.jsx(m,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-green-600",children:e.jsx(T,{className:"h-4 w-4"})}),s.status==="active"&&e.jsx(m,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-orange-600",children:e.jsx(O,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 pt-3 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-blue-600",children:s.targetCount}),e.jsx("p",{className:"text-xs text-gray-500",children:"Destinatarios"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:s.sentCount}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enviados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[s.openRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Apertura"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-lg font-bold text-orange-600",children:[s.clickRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Clicks"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t text-xs text-gray-500",children:[e.jsxs("span",{children:["Periodo: ",s.startDate," - ",s.endDate]}),e.jsxs("span",{children:["Creado por: ",s.createdBy]})]})]},s.id))})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(j,{children:"Segmentos de Audiencia"}),e.jsx(g,{children:"Distribución de campañas por tipo de usuario"})]}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:[{segment:"Empleados",campaigns:2,users:185,color:"bg-blue-500"},{segment:"Usuarios Activos",campaigns:1,users:1250,color:"bg-green-500"},{segment:"Voluntarios",campaigns:1,users:45,color:"bg-purple-500"},{segment:"Concesionarios",campaigns:1,users:8,color:"bg-orange-500"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.color}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.segment}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.users.toLocaleString()," usuarios"]})]})]}),e.jsxs(f,{variant:"outline",className:"text-xs",children:[s.campaigns," campañas"]})]},s.segment))})})]}),e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(j,{children:"Rendimiento General"}),e.jsx(g,{children:"Métricas consolidadas de todas las campañas"})]}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total destinatarios"}),e.jsx("span",{className:"font-bold",children:i.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Emails enviados"}),e.jsx("span",{className:"font-bold text-green-600",children:P.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Tasa entrega"}),e.jsx("span",{className:"font-bold text-blue-600",children:"99.2%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Promedio apertura"}),e.jsxs("span",{className:"font-bold text-purple-600",children:[D.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Promedio clicks"}),e.jsxs("span",{className:"font-bold text-orange-600",children:[(t.filter(s=>s.sentCount>0).reduce((s,h)=>s+h.clickRate,0)/t.filter(s=>s.sentCount>0).length).toFixed(1),"%"]})]})]})})]})]})]})},ye=()=>{const[u,N]=w.useState([]),[a,o]=w.useState(""),[t,l]=w.useState({subject:"",scheduledTime:"",priority:"normal",batchSize:100,delayBetweenBatches:5,testMode:!1,trackOpens:!0,trackClicks:!0,unsubscribeLink:!0}),[v,C]=w.useState(!1),P=[{id:"todos_empleados",name:"Todos los Empleados",count:185,description:"Personal completo del sistema de parques"},{id:"empleados_activos",name:"Empleados Activos",count:170,description:"Empleados con estado activo"},{id:"directivos",name:"Personal Directivo",count:12,description:"Directores y coordinadores"},{id:"instructores",name:"Instructores",count:28,description:"Instructores de actividades"},{id:"usuarios_activos",name:"Usuarios Activos",count:1250,description:"Usuarios que han usado el sistema en 30 días"},{id:"usuarios_premium",name:"Usuarios Premium",count:89,description:"Usuarios con membresía premium"},{id:"voluntarios_activos",name:"Voluntarios Activos",count:45,description:"Voluntarios con participación reciente"},{id:"concesionarios",name:"Concesionarios",count:8,description:"Empresas con contratos de concesión"},{id:"proveedores",name:"Proveedores",count:23,description:"Proveedores de servicios"}],D=["Bienvenida Empleado","Recibo de Nómina","Nueva Actividad en Parque","Reconocimiento Voluntario","Vencimiento de Contrato","Mantenimiento de Activos","Evaluación de Instructor","Reporte de Incidente","Actualización de Presupuesto","Cuidado del Arbolado"],i=n=>{N(s=>s.includes(n)?s.filter(h=>h!==n):[...s,n])},b=()=>u.reduce((n,s)=>{const h=P.find(_=>_.id===s);return n+((h==null?void 0:h.count)||0)},0),E=()=>{const n=b();return Math.ceil(n/t.batchSize)*t.delayBetweenBatches},I=()=>{t.testMode&&console.log("Modo de prueba - No se enviarán emails reales"),console.log("Envío masivo configurado:",{segments:u,template:a,settings:t,totalRecipients:b()})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:u.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Segmentos Seleccionados"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:b().toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Destinatarios Totales"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:E()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Minutos Estimados"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:t.batchSize}),e.jsx("p",{className:"text-xs text-gray-500",children:"Emails por Lote"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(j,{children:"Selección de Audiencias"}),e.jsx(g,{children:"Elige los segmentos de usuarios que recibirán el envío masivo"})]}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:P.map(n=>e.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-colors ${u.includes(n.id)?"border-[#00a587] bg-green-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>i(n.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(F,{checked:u.includes(n.id),onChange:()=>{}}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n.name}),e.jsx("p",{className:"text-sm text-gray-600",children:n.description})]})]}),e.jsx(f,{variant:"outline",className:"ml-2",children:n.count.toLocaleString()})]})},n.id))})})]}),e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(j,{children:"Configuración del Envío"}),e.jsx(g,{children:"Personaliza los parámetros del envío masivo"})]}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"bulk-template",children:"Plantilla de Email"}),e.jsxs(k,{value:a,onValueChange:o,children:[e.jsx(S,{children:e.jsx(R,{placeholder:"Seleccionar plantilla"})}),e.jsx(A,{children:D.map(n=>e.jsx(x,{value:n,children:n},n))})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"bulk-subject",children:"Asunto Personalizado (opcional)"}),e.jsx(y,{id:"bulk-subject",value:t.subject,onChange:n=>l({...t,subject:n.target.value}),placeholder:"Dejar vacío para usar asunto de plantilla"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"bulk-priority",children:"Prioridad"}),e.jsxs(k,{value:t.priority,onValueChange:n=>l({...t,priority:n}),children:[e.jsx(S,{children:e.jsx(R,{})}),e.jsxs(A,{children:[e.jsx(x,{value:"low",children:"Baja"}),e.jsx(x,{value:"normal",children:"Normal"}),e.jsx(x,{value:"high",children:"Alta"}),e.jsx(x,{value:"urgent",children:"Urgente"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"scheduled-time",children:"Programar Envío (opcional)"}),e.jsx(y,{id:"scheduled-time",type:"datetime-local",value:t.scheduledTime,onChange:n=>l({...t,scheduledTime:n.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"batch-size",children:"Emails por Lote"}),e.jsx(y,{id:"batch-size",type:"number",min:"10",max:"1000",value:t.batchSize,onChange:n=>l({...t,batchSize:parseInt(n.target.value)})})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"batch-delay",children:"Delay entre Lotes (min)"}),e.jsx(y,{id:"batch-delay",type:"number",min:"1",max:"60",value:t.delayBetweenBatches,onChange:n=>l({...t,delayBetweenBatches:parseInt(n.target.value)})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"test-mode",checked:t.testMode,onCheckedChange:n=>l({...t,testMode:!!n})}),e.jsx(d,{htmlFor:"test-mode",children:"Modo de prueba (no envía emails reales)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"track-opens",checked:t.trackOpens,onCheckedChange:n=>l({...t,trackOpens:!!n})}),e.jsx(d,{htmlFor:"track-opens",children:"Rastrear aperturas"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"track-clicks",checked:t.trackClicks,onCheckedChange:n=>l({...t,trackClicks:!!n})}),e.jsx(d,{htmlFor:"track-clicks",children:"Rastrear clicks"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"unsubscribe-link",checked:t.unsubscribeLink,onCheckedChange:n=>l({...t,unsubscribeLink:!!n})}),e.jsx(d,{htmlFor:"unsubscribe-link",children:"Incluir enlace de cancelación"})]})]})]})]})]}),e.jsxs(c,{children:[e.jsx(p,{children:e.jsxs(j,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Resumen del Envío"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(m,{variant:"outline",onClick:()=>C(!v),children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),v?"Ocultar":"Vista Previa"]}),e.jsxs(m,{onClick:I,className:"bg-[#00a587] hover:bg-[#067f5f]",disabled:u.length===0||!a,children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),t.scheduledTime?"Programar Envío":"Enviar Ahora"]})]})]})}),e.jsxs(r,{children:[v&&e.jsx("div",{className:"space-y-4 mb-6 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Segmentos seleccionados:"}),e.jsx("ul",{className:"text-sm text-gray-600 mt-1",children:u.map(n=>{const s=P.find(h=>h.id===n);return s&&e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:s.name}),e.jsxs("span",{children:[s.count," usuarios"]})]},n)})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Configuración:"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1 space-y-1",children:[e.jsxs("p",{children:["Plantilla: ",a||"No seleccionada"]}),e.jsxs("p",{children:["Prioridad: ",t.priority]}),e.jsxs("p",{children:["Lotes de: ",t.batchSize," emails"]}),e.jsxs("p",{children:["Delay: ",t.delayBetweenBatches," minutos"]}),t.scheduledTime&&e.jsxs("p",{children:["Programado: ",new Date(t.scheduledTime).toLocaleString()]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-[#00a587]",children:b().toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-500",children:"Destinatarios"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Math.ceil(b()/t.batchSize)}),e.jsx("p",{className:"text-sm text-gray-500",children:"Lotes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:E()}),e.jsx("p",{className:"text-sm text-gray-500",children:"Minutos"})]})]}),t.testMode&&e.jsx(f,{variant:"outline",className:"bg-yellow-100 text-yellow-700",children:"MODO DE PRUEBA"})]})]})]})]})},Ce=()=>{const[u,N]=w.useState("30days");w.useState("delivery");const a={overview:{totalSent:2847,deliveryRate:98.7,openRate:42.3,clickRate:18.6,unsubscribeRate:.8,bounceRate:1.3},byModule:[{module:"HR",sent:812,opens:389,clicks:178,color:"bg-blue-500"},{module:"Finanzas",sent:694,opens:315,clicks:142,color:"bg-green-500"},{module:"Eventos",sent:523,opens:231,clicks:89,color:"bg-purple-500"},{module:"Voluntarios",sent:298,opens:167,clicks:72,color:"bg-orange-500"},{module:"Concesiones",sent:187,opens:94,clicks:41,color:"bg-red-500"},{module:"Activos",sent:165,opens:78,clicks:35,color:"bg-yellow-500"},{module:"Seguridad",sent:112,opens:58,clicks:23,color:"bg-pink-500"},{module:"Arbolado",sent:56,opens:29,clicks:12,color:"bg-teal-500"}],recentCampaigns:[{name:"Bienvenida Q1 2025",sent:15,opens:13,clicks:4,date:"2025-06-23",status:"completed"},{name:"Recibos Diciembre",sent:185,opens:174,clicks:146,date:"2025-06-22",status:"completed"},{name:"Actividades Verano",sent:0,opens:0,clicks:0,date:"2025-06-25",status:"draft"},{name:"Reconocimientos 2024",sent:28,opens:27,clicks:12,date:"2025-06-20",status:"paused"},{name:"Vencimientos Contratos",sent:3,opens:3,clicks:2,date:"2025-06-24",status:"active"}],topPerformers:[{template:"Recibo de Nómina",opens:94.1,clicks:78.9,sent:185},{template:"Vencimiento de Contrato",opens:100,clicks:66.7,sent:3},{template:"Reconocimiento Voluntario",opens:96.4,clicks:42.1,sent:28},{template:"Bienvenida Empleado",opens:87.5,clicks:23.4,sent:15}],weeklyTrend:[{week:"Sem 1",sent:342,opens:156,clicks:67},{week:"Sem 2",sent:428,opens:189,clicks:84},{week:"Sem 3",sent:385,opens:171,clicks:76},{week:"Sem 4",sent:467,opens:203,clicks:92}]},o=t=>({completed:"bg-green-100 text-green-700",active:"bg-blue-100 text-blue-700",draft:"bg-gray-100 text-gray-700",paused:"bg-orange-100 text-orange-700"})[t]||"bg-gray-100 text-gray-700";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Análisis de Comunicaciones"}),e.jsx("p",{className:"text-gray-600",children:"Métricas de rendimiento y reportes detallados"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(k,{value:u,onValueChange:N,children:[e.jsx(S,{className:"w-40",children:e.jsx(R,{})}),e.jsxs(A,{children:[e.jsx(x,{value:"7days",children:"Últimos 7 días"}),e.jsx(x,{value:"30days",children:"Últimos 30 días"}),e.jsx(x,{value:"90days",children:"Últimos 90 días"}),e.jsx(x,{value:"year",children:"Este año"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:a.overview.totalSent.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Emails Enviados"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[a.overview.deliveryRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tasa Entrega"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"h-6 w-6 text-purple-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[a.overview.openRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tasa Apertura"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"h-6 w-6 text-orange-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[a.overview.clickRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tasa Clicks"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-6 w-6 text-red-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[a.overview.bounceRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tasa Rebote"})]})]})})}),e.jsx(c,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"h-6 w-6 text-yellow-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[a.overview.unsubscribeRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Cancelaciones"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(j,{children:"Rendimiento por Módulo"}),e.jsx(g,{children:"Distribución de emails y engagement por módulo del sistema"})]}),e.jsx(r,{children:e.jsx("div",{className:"space-y-4",children:a.byModule.map((t,l)=>{const v=(t.opens/t.sent*100).toFixed(1),C=(t.clicks/t.sent*100).toFixed(1);return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${t.color}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.module}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.sent," emails enviados"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:[v,"% apertura"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[C,"% clicks"]})]})]},l)})})})]}),e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(j,{children:"Campañas Recientes"}),e.jsx(g,{children:"Estado y rendimiento de las últimas campañas"})]}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:a.recentCampaigns.map((t,l)=>{const v=t.sent>0?(t.opens/t.sent*100).toFixed(1):"0.0";return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("p",{className:"font-medium text-sm",children:t.name}),e.jsx(f,{className:`text-xs ${o(t.status)}`,children:t.status})]}),e.jsx("p",{className:"text-xs text-gray-600",children:t.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:[t.sent," enviados"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[v,"% apertura"]})]})]},l)})})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(j,{children:"Plantillas Más Efectivas"}),e.jsx(g,{children:"Ranking de plantillas por tasa de apertura y clicks"})]}),e.jsx(r,{children:e.jsx("div",{className:"space-y-4",children:a.topPerformers.map((t,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-[#00a587] text-white text-sm font-bold",children:l+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:t.template}),e.jsxs("p",{className:"text-xs text-gray-600",children:[t.sent," emails enviados"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-purple-600",children:[t.opens,"% apertura"]}),e.jsxs("p",{className:"text-sm text-orange-600",children:[t.clicks,"% clicks"]})]})]},l))})})]}),e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(j,{children:"Tendencia Semanal"}),e.jsx(g,{children:"Evolución del engagement en las últimas 4 semanas"})]}),e.jsx(r,{children:e.jsx("div",{className:"space-y-4",children:a.weeklyTrend.map((t,l)=>{const v=(t.opens/t.sent*100).toFixed(1),C=(t.clicks/t.sent*100).toFixed(1);return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.week}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.sent," emails"]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm font-medium text-purple-600",children:[v,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Apertura"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[C,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Clicks"})]})]})]},l)})})})]})]}),e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(j,{children:"Acciones y Reportes"}),e.jsx(g,{children:"Herramientas para análisis detallado y exportación de datos"})]}),e.jsx(r,{children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(m,{variant:"outline",className:"flex flex-col items-center p-6 h-auto",children:[e.jsx(Q,{className:"h-8 w-8 mb-2 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Reporte Completo"}),e.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Descargar PDF con todas las métricas"})]}),e.jsxs(m,{variant:"outline",className:"flex flex-col items-center p-6 h-auto",children:[e.jsx(G,{className:"h-8 w-8 mb-2 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Exportar CSV"}),e.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Datos en formato CSV para análisis"})]}),e.jsxs(m,{variant:"outline",className:"flex flex-col items-center p-6 h-auto",children:[e.jsx($,{className:"h-8 w-8 mb-2 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Configurar Alertas"}),e.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Notificaciones automáticas"})]}),e.jsxs(m,{variant:"outline",className:"flex flex-col items-center p-6 h-auto",children:[e.jsx(te,{className:"h-8 w-8 mb-2 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Análisis Avanzado"}),e.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Métricas personalizadas"})]})]})})]})]})};export{Ce as A,ye as B,fe as C,be as Q,Ne as T};
