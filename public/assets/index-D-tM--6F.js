import{l as _,a2 as I,u as $,af as C,ag as ee,j as e,aX as A,aB as v,b1 as se,b2 as ae,b3 as y,bN as M,cj as z,a3 as B,bY as D,b4 as R,f as F,g as E,h as w,ab as S,i as T,ai as k,aj as c,ak as a,al as n,aF as l,am as i,br as t,an as j,cc as q,B as p,O as P,N as Q,ad as r,ap as G,ca as ne}from"./index-D5qLf1ib.js";import{R as V,a as d}from"./radio-group-D6R_xETy.js";import{S as H}from"./separator-Bek7HtsH.js";const ie=r.object({emailNotifications:r.boolean().default(!0),participationReminders:r.boolean().default(!0),evaluationReminders:r.boolean().default(!0),recognitionNotifications:r.boolean().default(!0),reminderFrequency:r.enum(["diario","semanal","mensual"]).default("semanal")}),re=r.object({autoEvaluations:r.boolean().default(!1),evaluationPeriod:r.enum(["semanal","quincenal","mensual"]).default("mensual"),minParticipationsForEvaluation:r.number().min(1).max(10).default(3),evaluationCriteria:r.array(r.string()).default(["Puntualidad","Compromiso","Habilidades de comunicación","Trabajo en equipo","Resolución de problemas"])}),oe=r.object({autoRecognitions:r.boolean().default(!1),recognitionThreshold:r.number().min(1).max(20).default(5),recognitionTypes:r.array(r.string()).default(["Certificado de Mérito","Voluntario del Mes","Reconocimiento Especial"])}),ce=r.object({autoGenerateReports:r.boolean().default(!1),reportFrequency:r.enum(["semanal","quincenal","mensual"]).default("mensual"),includeStatistics:r.boolean().default(!0),includeCharts:r.boolean().default(!0),recipientEmails:r.string().optional()});function ue(){const{toast:N}=_(),[K,O]=I.useState("notificaciones"),[m,L]=I.useState(!1),{data:U,isLoading:X}=$({queryKey:["/api/volunteers/settings"],onError:()=>{console.log("Error al cargar configuraciones, usando valores por defecto")}}),o={...{emailNotifications:!0,participationReminders:!0,evaluationReminders:!0,recognitionNotifications:!0,reminderFrequency:"semanal",autoEvaluations:!1,evaluationPeriod:"mensual",minParticipationsForEvaluation:3,evaluationCriteria:["Puntualidad","Compromiso","Habilidades de comunicación","Trabajo en equipo","Resolución de problemas"],autoRecognitions:!1,recognitionThreshold:5,recognitionTypes:["Certificado de Mérito","Voluntario del Mes","Reconocimiento Especial"],autoGenerateReports:!1,reportFrequency:"mensual",includeStatistics:!0,includeCharts:!0,recipientEmails:""},...U||{}},u=C({resolver:G(ie),defaultValues:{emailNotifications:o.emailNotifications,participationReminders:o.participationReminders,evaluationReminders:o.evaluationReminders,recognitionNotifications:o.recognitionNotifications,reminderFrequency:o.reminderFrequency}}),h=C({resolver:G(re),defaultValues:{autoEvaluations:o.autoEvaluations,evaluationPeriod:o.evaluationPeriod,minParticipationsForEvaluation:o.minParticipationsForEvaluation,evaluationCriteria:o.evaluationCriteria}}),f=C({resolver:G(oe),defaultValues:{autoRecognitions:o.autoRecognitions,recognitionThreshold:o.recognitionThreshold,recognitionTypes:o.recognitionTypes}}),x=C({resolver:G(ce),defaultValues:{autoGenerateReports:o.autoGenerateReports,reportFrequency:o.reportFrequency,includeStatistics:o.includeStatistics,includeCharts:o.includeCharts,recipientEmails:o.recipientEmails}}),b=ee({mutationFn:async s=>{L(!0);try{return console.log("Guardando configuraciones:",s),new Promise(g=>{setTimeout(()=>{g({success:!0,message:"Configuraciones guardadas correctamente"})},1e3)})}finally{L(!1)}},onSuccess:()=>{N({title:"Configuraciones guardadas",description:"Las configuraciones han sido guardadas correctamente.",variant:"default"}),ne.invalidateQueries({queryKey:["/api/volunteers/settings"]})},onError:s=>{N({title:"Error",description:s.message||"Ocurrió un error al guardar las configuraciones.",variant:"destructive"})}}),Y=s=>{b.mutate(s)},J=s=>{b.mutate(s)},W=s=>{b.mutate(s)},Z=s=>{b.mutate(s)};return X?e.jsx(A,{title:"Configuración del Voluntariado",subtitle:"Cargando configuraciones...",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(v,{className:"h-8 w-8 animate-spin text-primary"})})}):e.jsx(A,{title:"Configuración del Voluntariado",subtitle:"Administra las preferencias del módulo de voluntariado",children:e.jsx("div",{className:"space-y-6",children:e.jsxs(se,{value:K,onValueChange:O,className:"w-full",children:[e.jsxs(ae,{className:"grid grid-cols-4 mb-8",children:[e.jsxs(y,{value:"notificaciones",className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx("span",{children:"Notificaciones"})]}),e.jsxs(y,{value:"evaluaciones",className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Evaluaciones"})]}),e.jsxs(y,{value:"reconocimientos",className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{children:"Reconocimientos"})]}),e.jsxs(y,{value:"reportes",className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:"Reportes"})]})]}),e.jsx(R,{value:"notificaciones",children:e.jsxs(F,{children:[e.jsxs(E,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Configuración de Notificaciones"]}),e.jsx(S,{children:"Configura las notificaciones automáticas para los voluntarios"})]}),e.jsx(T,{children:e.jsx(k,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(Y),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{control:u.control,name:"emailNotifications",render:({field:s})=>e.jsxs(a,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Notificaciones por Email"}),e.jsx(l,{children:"Enviar notificaciones por correo electrónico a los voluntarios"})]}),e.jsx(i,{children:e.jsx(t,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(c,{control:u.control,name:"participationReminders",render:({field:s})=>e.jsxs(a,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Recordatorios de Participación"}),e.jsx(l,{children:"Enviar recordatorios sobre actividades programadas"})]}),e.jsx(i,{children:e.jsx(t,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(c,{control:u.control,name:"evaluationReminders",render:({field:s})=>e.jsxs(a,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Recordatorios de Evaluación"}),e.jsx(l,{children:"Enviar recordatorios sobre evaluaciones pendientes"})]}),e.jsx(i,{children:e.jsx(t,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(c,{control:u.control,name:"recognitionNotifications",render:({field:s})=>e.jsxs(a,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Notificaciones de Reconocimientos"}),e.jsx(l,{children:"Enviar notificaciones sobre nuevos reconocimientos"})]}),e.jsx(i,{children:e.jsx(t,{checked:s.value,onCheckedChange:s.onChange})})]})})]}),e.jsx(H,{className:"my-6"}),e.jsx(c,{control:u.control,name:"reminderFrequency",render:({field:s})=>e.jsxs(a,{className:"space-y-3",children:[e.jsx(n,{children:"Frecuencia de Recordatorios"}),e.jsx(i,{children:e.jsxs(V,{onValueChange:s.onChange,defaultValue:s.value,className:"flex flex-col space-y-1",children:[e.jsxs(a,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"diario"})}),e.jsx(n,{className:"font-normal",children:"Diario"})]}),e.jsxs(a,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"semanal"})}),e.jsx(n,{className:"font-normal",children:"Semanal"})]}),e.jsxs(a,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"mensual"})}),e.jsx(n,{className:"font-normal",children:"Mensual"})]})]})}),e.jsx(j,{})]})}),e.jsx(q,{className:"flex justify-end px-0",children:e.jsx(p,{type:"submit",className:"ml-auto",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar Configuración"})})]})})})]})}),e.jsx(R,{value:"evaluaciones",children:e.jsxs(F,{children:[e.jsxs(E,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"}),"Configuración de Evaluaciones"]}),e.jsx(S,{children:"Configura cómo se realizan las evaluaciones a los voluntarios"})]}),e.jsx(T,{children:e.jsx(k,{...h,children:e.jsxs("form",{onSubmit:h.handleSubmit(J),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{control:h.control,name:"autoEvaluations",render:({field:s})=>e.jsxs(a,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Evaluaciones Automáticas"}),e.jsx(l,{children:"Programar evaluaciones automáticamente basadas en participaciones"})]}),e.jsx(i,{children:e.jsx(t,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(c,{control:h.control,name:"minParticipationsForEvaluation",render:({field:s})=>e.jsxs(a,{children:[e.jsx(n,{children:"Mínimo de Participaciones para Evaluación"}),e.jsx(i,{children:e.jsx(P,{type:"number",min:1,max:10,...s,onChange:g=>s.onChange(parseInt(g.target.value,10))})}),e.jsx(l,{children:"Número mínimo de participaciones requeridas para una evaluación"}),e.jsx(j,{})]})})]}),e.jsx(H,{className:"my-6"}),e.jsx(c,{control:h.control,name:"evaluationPeriod",render:({field:s})=>e.jsxs(a,{className:"space-y-3",children:[e.jsx(n,{children:"Periodicidad de Evaluaciones"}),e.jsx(i,{children:e.jsxs(V,{onValueChange:s.onChange,defaultValue:s.value,className:"flex flex-col space-y-1",children:[e.jsxs(a,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"semanal"})}),e.jsx(n,{className:"font-normal",children:"Semanal"})]}),e.jsxs(a,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"quincenal"})}),e.jsx(n,{className:"font-normal",children:"Quincenal"})]}),e.jsxs(a,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"mensual"})}),e.jsx(n,{className:"font-normal",children:"Mensual"})]})]})}),e.jsx(j,{})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsx(Q,{htmlFor:"evaluationCriteria",children:"Criterios de Evaluación"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1 mb-3",children:["Los criterios actuales son: ",h.watch("evaluationCriteria").join(", ")]}),e.jsx(p,{type:"button",variant:"outline",onClick:()=>{N({title:"Funcionalidad en desarrollo",description:"La edición de criterios estará disponible en una próxima actualización.",variant:"default"})},children:"Administrar Criterios"})]}),e.jsx(q,{className:"flex justify-end px-0",children:e.jsx(p,{type:"submit",className:"ml-auto",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar Configuración"})})]})})})]})}),e.jsx(R,{value:"reconocimientos",children:e.jsxs(F,{children:[e.jsxs(E,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"Configuración de Reconocimientos"]}),e.jsx(S,{children:"Configura cómo se otorgan los reconocimientos a los voluntarios"})]}),e.jsx(T,{children:e.jsx(k,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(W),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{control:f.control,name:"autoRecognitions",render:({field:s})=>e.jsxs(a,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Reconocimientos Automáticos"}),e.jsx(l,{children:"Generar reconocimientos automáticamente basados en participaciones"})]}),e.jsx(i,{children:e.jsx(t,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(c,{control:f.control,name:"recognitionThreshold",render:({field:s})=>e.jsxs(a,{children:[e.jsx(n,{children:"Umbral para Reconocimientos"}),e.jsx(i,{children:e.jsx(P,{type:"number",min:1,max:20,...s,onChange:g=>s.onChange(parseInt(g.target.value,10))})}),e.jsx(l,{children:"Número de participaciones necesarias para otorgar un reconocimiento"}),e.jsx(j,{})]})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(Q,{htmlFor:"recognitionTypes",children:"Tipos de Reconocimientos"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1 mb-3",children:["Los tipos actuales son: ",f.watch("recognitionTypes").join(", ")]}),e.jsx(p,{type:"button",variant:"outline",onClick:()=>{N({title:"Funcionalidad en desarrollo",description:"La edición de tipos de reconocimientos estará disponible en una próxima actualización.",variant:"default"})},children:"Administrar Tipos de Reconocimientos"})]}),e.jsx(q,{className:"flex justify-end px-0",children:e.jsx(p,{type:"submit",className:"ml-auto",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar Configuración"})})]})})})]})}),e.jsx(R,{value:"reportes",children:e.jsxs(F,{children:[e.jsxs(E,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Configuración de Reportes"]}),e.jsx(S,{children:"Configura la generación automática de reportes y estadísticas"})]}),e.jsx(T,{children:e.jsx(k,{...x,children:e.jsxs("form",{onSubmit:x.handleSubmit(Z),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{control:x.control,name:"autoGenerateReports",render:({field:s})=>e.jsxs(a,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Generar Reportes Automáticamente"}),e.jsx(l,{children:"Crear y enviar reportes de forma automática"})]}),e.jsx(i,{children:e.jsx(t,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(c,{control:x.control,name:"reportFrequency",render:({field:s})=>e.jsxs(a,{className:"space-y-3",children:[e.jsx(n,{children:"Frecuencia de Reportes"}),e.jsx(i,{children:e.jsxs(V,{onValueChange:s.onChange,defaultValue:s.value,className:"flex flex-col space-y-1",children:[e.jsxs(a,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"semanal"})}),e.jsx(n,{className:"font-normal",children:"Semanal"})]}),e.jsxs(a,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"quincenal"})}),e.jsx(n,{className:"font-normal",children:"Quincenal"})]}),e.jsxs(a,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"mensual"})}),e.jsx(n,{className:"font-normal",children:"Mensual"})]})]})}),e.jsx(j,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsx(c,{control:x.control,name:"includeStatistics",render:({field:s})=>e.jsxs(a,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Incluir Estadísticas"}),e.jsx(l,{children:"Incluir métricas y estadísticas detalladas en los reportes"})]}),e.jsx(i,{children:e.jsx(t,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(c,{control:x.control,name:"includeCharts",render:({field:s})=>e.jsxs(a,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Incluir Gráficos"}),e.jsx(l,{children:"Incluir visualizaciones gráficas en los reportes"})]}),e.jsx(i,{children:e.jsx(t,{checked:s.value,onCheckedChange:s.onChange})})]})})]}),e.jsx(c,{control:x.control,name:"recipientEmails",render:({field:s})=>e.jsxs(a,{children:[e.jsx(n,{children:"Correos Electrónicos de Destinatarios"}),e.jsx(i,{children:e.jsx(P,{placeholder:"ejemplo@correo.com, otro@correo.com",...s})}),e.jsx(l,{children:"Lista de correos separados por comas para recibir los reportes"}),e.jsx(j,{})]})}),e.jsx(q,{className:"flex justify-end px-0",children:e.jsx(p,{type:"submit",className:"ml-auto",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar Configuración"})})]})})})]})})]})})})}export{ue as default};
