import{c as ze,a2 as r,ae as Le,u as Te,af as ke,ag as V,j as e,aX as ce,d5 as re,B as t,a5 as Ee,a6 as Ae,w as de,x as De,bh as Fe,y as oe,z as xe,I as me,ai as Me,aj as d,ak as o,al as x,am as m,O as E,an as h,Q as p,V as g,W as N,Y as f,_ as i,f as P,g as he,h as je,a7 as Ve,i as I,a4 as Pe,o as j,b1 as Ie,b2 as qe,b3 as S,b4 as Oe,au as X,bq as ue,bn as ve,aM as Be,aN as Qe,ad as c,ap as Ke,aq as q,cb as b,a as Je,aA as Re,F as $e}from"./index-D5qLf1ib.js";import{W as pe}from"./wallet-CMNbjoaJ.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=ze("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]),We=c.object({code:c.string().min(1,"Código es requerido"),name:c.string().min(1,"Nombre es requerido"),level:c.enum(["1","2","3","4","5"]),parent_id:c.string().optional(),sat_code:c.string().optional(),description:c.string().optional(),is_active:c.boolean().default(!0),type:c.enum(["activo","pasivo","capital","ingreso","costo","gasto"]),nature:c.enum(["deudora","acreedora"]),account_type:c.enum(["mayor","movimiento"]),color:c.string().optional()});function Ue(){const[_,H]=r.useState(""),[y,O]=r.useState("1"),[z,B]=r.useState(null),[ge,L]=r.useState(!1),[Q,U]=r.useState("grid"),[C,A]=r.useState(1),[l,Ne]=r.useState(null),[fe,Y]=r.useState(!1),[T,Z]=r.useState("all"),K=10,D=Le(),{data:J,isLoading:be}=Te({queryKey:["/api/accounting/categories"],enabled:!0}),u=(J==null?void 0:J.categories)||[],n=ke({resolver:Ke(We),defaultValues:{code:"",name:"",level:"1",parent_id:"none",sat_code:"none",description:"",is_active:!0,type:"activo",nature:"deudora",account_type:"mayor",color:"#00a587"}}),R=V({mutationFn:()=>q("/api/accounting/sync-financial-categories",{method:"POST",body:JSON.stringify({})}),onSuccess:()=>{b({title:"Sincronización exitosa",description:"Las categorías financieras se han sincronizado con las categorías contables"}),D.invalidateQueries({queryKey:["/api/accounting/categories"]})},onError:s=>{b({title:"Error en sincronización",description:s.message||"No se pudo sincronizar con el módulo financiero",variant:"destructive"})}}),ee=V({mutationFn:s=>q("/api/accounting/categories",{method:"POST",body:JSON.stringify(s)}),onSuccess:()=>{b({title:"Categoría creada",description:"La categoría contable ha sido creada exitosamente."}),D.invalidateQueries({queryKey:["/api/accounting/categories"]}),L(!1),n.reset()},onError:s=>{b({title:"Error",description:"Error al crear la categoría contable.",variant:"destructive"})}}),se=V({mutationFn:({id:s,data:a})=>q(`/api/accounting/categories/${s}`,{method:"PUT",body:JSON.stringify(a)}),onSuccess:()=>{b({title:"Categoría actualizada",description:"La categoría contable ha sido actualizada exitosamente."}),D.invalidateQueries({queryKey:["/api/accounting/categories"]}),L(!1),B(null),n.reset()},onError:s=>{b({title:"Error",description:"Error al actualizar la categoría contable.",variant:"destructive"})}}),Ce=V({mutationFn:s=>q(`/api/accounting/categories/${s}`,{method:"DELETE"}),onSuccess:()=>{b({title:"Categoría eliminada",description:"La categoría contable ha sido eliminada exitosamente."}),D.invalidateQueries({queryKey:["/api/accounting/categories"]})},onError:s=>{b({title:"Error",description:"Error al eliminar la categoría contable.",variant:"destructive"})}}),ye=s=>{const a={...s,parent_id:s.parent_id==="none"?null:s.parent_id,sat_code:s.sat_code==="none"?null:s.sat_code};z?se.mutate({id:z.id,data:a}):ee.mutate(a)},ae=s=>{B(s),n.reset({code:s.code,name:s.name,level:s.level,parent_id:s.parent_id?s.parent_id.toString():"none",sat_code:s.sat_code||"none",description:s.description||"",is_active:s.is_active,type:s.type||"activo",nature:s.nature||"deudora",account_type:s.account_type||"mayor",color:s.color||"#00a587"}),L(!0)},ie=s=>{confirm("¿Está seguro de que desea eliminar esta categoría?")&&Ce.mutate(s)},le=s=>{Ne(s),Y(!0)};r.useEffect(()=>{A(1)},[_,y,T]);const w=(u==null?void 0:u.filter(s=>{const a=s.name.toLowerCase().includes(_.toLowerCase())||s.code.toLowerCase().includes(_.toLowerCase())||s.sat_code&&s.sat_code.toLowerCase().includes(_.toLowerCase()),v=y==="all"||s.level===parseInt(y),k=T==="all"||T==="active"&&s.is_active||T==="inactive"&&!s.is_active;return a&&v&&k}))||[],$=Math.ceil(w.length/K),G=(C-1)*K,ne=G+K,te=w.slice(G,ne),W=s=>({1:"bg-red-100 text-red-800",2:"bg-orange-100 text-orange-800",3:"bg-yellow-100 text-yellow-800",4:"bg-green-100 text-green-800",5:"bg-blue-100 text-blue-800"})[s]||"bg-gray-100 text-gray-800",F=s=>({1:"Nivel A",2:"Nivel B",3:"Nivel C",4:"Nivel D",5:"Nivel E"})[s]||`Nivel ${s}`,M=s=>({1:e.jsx(Je,{className:"h-5 w-5"}),2:e.jsx(Re,{className:"h-5 w-5"}),3:e.jsx(Ge,{className:"h-5 w-5"}),4:e.jsx(pe,{className:"h-5 w-5"}),5:e.jsx($e,{className:"h-5 w-5"})})[s]||e.jsx(re,{className:"h-5 w-5"}),we=s=>{if(!u)return[];const v={2:[1],3:[1,2],4:[1,2,3],5:[1,2,3,4]}[s]||[];return u.filter(k=>v.includes(k.level))},Se=u.reduce((s,a)=>{const v=a.level;return s[v]=(s[v]||0)+1,s},{}),_e=u.filter(s=>s.sat_code&&s.sat_code.trim()!=="").map(s=>({code:s.sat_code,name:s.name})).filter((s,a,v)=>a===v.findIndex(k=>k.code===s.code)).sort((s,a)=>s.code.localeCompare(a.code));return be?e.jsx(ce,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 w-96 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(s=>e.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},s))})]})}):e.jsx(ce,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-8 h-8 text-gray-900"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Categorías Contables"})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Gestión del catálogo de cuentas contables jerárquico"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(t,{variant:Q==="grid"?"default":"outline",size:"sm",onClick:()=>U("grid"),children:[e.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Tarjetas"]}),e.jsxs(t,{variant:Q==="list"?"default":"outline",size:"sm",onClick:()=>U("list"),children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Lista"]}),e.jsxs(t,{onClick:()=>R.mutate(),disabled:R.isPending,variant:"outline",size:"sm",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),R.isPending?"Sincronizando...":"Sincronizar Finanzas"]}),e.jsxs(de,{open:ge,onOpenChange:L,children:[e.jsx(De,{asChild:!0,children:e.jsxs(t,{onClick:()=>B(null),children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Nueva Categoría"]})}),e.jsxs(oe,{className:"max-w-2xl","aria-describedby":"category-form-description",children:[e.jsxs(xe,{children:[e.jsx(me,{children:z?"Editar Categoría":"Nueva Categoría"}),e.jsx("p",{id:"category-form-description",className:"text-sm text-muted-foreground",children:z?"Modifica los datos de la categoría contable":"Crea una nueva categoría contable con código SAT oficial"})]}),e.jsx(Me,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(ye),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{control:n.control,name:"code",render:({field:s})=>e.jsxs(o,{children:[e.jsx(x,{children:"Código"}),e.jsx(m,{children:e.jsx(E,{placeholder:"Ej: 1.1.01",...s})}),e.jsx(h,{})]})}),e.jsx(d,{control:n.control,name:"level",render:({field:s})=>e.jsxs(o,{children:[e.jsx(x,{children:"Nivel"}),e.jsxs(p,{value:s.value,onValueChange:s.onChange,children:[e.jsx(m,{children:e.jsx(g,{children:e.jsx(N,{placeholder:"Seleccione nivel"})})}),e.jsxs(f,{children:[e.jsx(i,{value:"1",children:"Nivel A"}),e.jsx(i,{value:"2",children:"Nivel B"}),e.jsx(i,{value:"3",children:"Nivel C"}),e.jsx(i,{value:"4",children:"Nivel D"}),e.jsx(i,{value:"5",children:"Nivel E"})]})]}),e.jsx(h,{})]})})]}),e.jsx(d,{control:n.control,name:"name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(x,{children:"Nombre"}),e.jsx(m,{children:e.jsx(E,{placeholder:"Nombre de la categoría",...s})}),e.jsx(h,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{control:n.control,name:"type",render:({field:s})=>e.jsxs(o,{children:[e.jsx(x,{children:"Tipo"}),e.jsxs(p,{value:s.value,onValueChange:s.onChange,children:[e.jsx(m,{children:e.jsx(g,{children:e.jsx(N,{placeholder:"Seleccione tipo"})})}),e.jsxs(f,{children:[e.jsx(i,{value:"activo",children:"Activo"}),e.jsx(i,{value:"pasivo",children:"Pasivo"}),e.jsx(i,{value:"capital",children:"Capital"}),e.jsx(i,{value:"ingreso",children:"Ingreso"}),e.jsx(i,{value:"costo",children:"Costo"}),e.jsx(i,{value:"gasto",children:"Gasto"})]})]}),e.jsx(h,{})]})}),e.jsx(d,{control:n.control,name:"color",render:({field:s})=>e.jsxs(o,{children:[e.jsx(x,{children:"Color"}),e.jsx(m,{children:e.jsx(E,{type:"color",...s})}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{control:n.control,name:"nature",render:({field:s})=>e.jsxs(o,{children:[e.jsx(x,{children:"Naturaleza"}),e.jsxs(p,{value:s.value,onValueChange:s.onChange,children:[e.jsx(m,{children:e.jsx(g,{children:e.jsx(N,{placeholder:"Seleccione naturaleza"})})}),e.jsxs(f,{children:[e.jsx(i,{value:"deudora",children:"Deudora"}),e.jsx(i,{value:"acreedora",children:"Acreedora"})]})]}),e.jsx(h,{})]})}),e.jsx(d,{control:n.control,name:"account_type",render:({field:s})=>e.jsxs(o,{children:[e.jsx(x,{children:"Tipo de Cuenta"}),e.jsxs(p,{value:s.value,onValueChange:s.onChange,children:[e.jsx(m,{children:e.jsx(g,{children:e.jsx(N,{placeholder:"Seleccione tipo de cuenta"})})}),e.jsxs(f,{children:[e.jsx(i,{value:"mayor",children:"Mayor"}),e.jsx(i,{value:"movimiento",children:"de Movimiento"})]})]}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{control:n.control,name:"sat_code",render:({field:s})=>e.jsxs(o,{children:[e.jsx(x,{children:"Código SAT"}),e.jsxs(p,{value:s.value,onValueChange:s.onChange,children:[e.jsx(m,{children:e.jsx(g,{children:e.jsx(N,{placeholder:"Seleccione código SAT"})})}),e.jsxs(f,{children:[e.jsx(i,{value:"none",children:"Sin código SAT"}),_e.map(a=>e.jsx(i,{value:a.code,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-blue-600",children:a.code}),e.jsxs("span",{children:["- ",a.name]})]})},a.code))]})]}),e.jsx(h,{})]})}),e.jsx(d,{control:n.control,name:"parent_id",render:({field:s})=>e.jsxs(o,{children:[e.jsx(x,{children:"Categoría Padre"}),e.jsxs(p,{value:s.value,onValueChange:s.onChange,children:[e.jsx(m,{children:e.jsx(g,{children:e.jsx(N,{placeholder:"Seleccione categoría padre"})})}),e.jsxs(f,{children:[e.jsx(i,{value:"none",children:"Sin categoría padre"}),we(n.watch("level")).map(a=>e.jsxs(i,{value:a.id.toString(),children:[a.code," - ",a.name]},a.id))]})]}),e.jsx(h,{})]})})]}),e.jsx(d,{control:n.control,name:"description",render:({field:s})=>e.jsxs(o,{children:[e.jsx(x,{children:"Descripción"}),e.jsx(m,{children:e.jsx(E,{placeholder:"Descripción de la categoría",...s})}),e.jsx(h,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>L(!1),children:"Cancelar"}),e.jsx(t,{type:"submit",disabled:ee.isPending||se.isPending,children:z?"Actualizar":"Crear"})]})]})})]})]})]})]}),e.jsxs(P,{children:[e.jsx(he,{children:e.jsxs(je,{className:"flex items-center",children:[e.jsx(Ve,{className:"h-5 w-5 mr-2"}),"Filtros"]})}),e.jsx(I,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(E,{placeholder:"Buscar por código, nombre o SAT...",value:_,onChange:s=>H(s.target.value),className:"pl-9"})]}),e.jsxs(p,{value:y,onValueChange:O,children:[e.jsx(g,{children:e.jsx(N,{placeholder:"Filtrar por nivel"})}),e.jsxs(f,{children:[e.jsx(i,{value:"all",children:"Todos los niveles"}),e.jsx(i,{value:"1",children:"Nivel A"}),e.jsx(i,{value:"2",children:"Nivel B"}),e.jsx(i,{value:"3",children:"Nivel C"}),e.jsx(i,{value:"4",children:"Nivel D"}),e.jsx(i,{value:"5",children:"Nivel E"})]})]}),e.jsxs(p,{value:T,onValueChange:Z,children:[e.jsx(g,{children:e.jsx(N,{placeholder:"Filtrar por estado"})}),e.jsxs(f,{children:[e.jsx(i,{value:"all",children:"Todos los estados"}),e.jsx(i,{value:"active",children:"Activos"}),e.jsx(i,{value:"inactive",children:"Inactivos"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(j,{variant:"outline",children:[w.length," categorías"]}),w.length!==u.length&&e.jsx(t,{variant:"outline",size:"sm",onClick:()=>{H(""),O("all"),Z("all")},children:"Limpiar"})]})]})})]}),e.jsxs(Ie,{value:y,onValueChange:O,children:[e.jsxs(qe,{className:"grid w-full grid-cols-6",children:[e.jsx(S,{value:"all",children:"Todos"}),e.jsx(S,{value:"1",children:"Nivel A"}),e.jsx(S,{value:"2",children:"Nivel B"}),e.jsx(S,{value:"3",children:"Nivel C"}),e.jsx(S,{value:"4",children:"Nivel D"}),e.jsx(S,{value:"5",children:"Nivel E"})]}),e.jsxs(Oe,{value:y,className:"mt-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[1,2,3,4,5].map(s=>e.jsx(P,{children:e.jsx(I,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:M(s)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:Se[s]||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:F(s)})]})]})})},s))}),Q==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:te.map(s=>e.jsxs(P,{className:"hover:shadow-md transition-shadow",children:[e.jsxs(he,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[M(s.level),e.jsx(j,{className:W(s.level),children:F(s.level)})]}),e.jsx(j,{variant:s.is_active?"default":"secondary",children:s.is_active?"Activo":"Inactivo"})]}),e.jsx(je,{className:"text-lg",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{children:["Código: ",e.jsx("span",{className:"font-mono font-semibold",children:s.code})]}),s.sat_code&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{children:["SAT: ",e.jsx("span",{className:"font-mono font-semibold text-blue-600",children:s.sat_code})]}),e.jsx(j,{variant:"outline",className:"text-xs bg-blue-50 border-blue-200 text-blue-700",children:"Oficial"})]})]})]}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-2",children:[s.description&&e.jsx("p",{className:"text-sm text-gray-600",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Naturaleza: ",s.account_nature==="debit"?"Deudora":"Acreedora"]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(t,{variant:"outline",size:"sm",onClick:()=>le(s),children:e.jsx(X,{className:"h-4 w-4"})}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>ae(s),children:e.jsx(ue,{className:"h-4 w-4"})}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>ie(s.id),children:e.jsx(ve,{className:"h-4 w-4"})})]})]})]})})]},s.id))}):e.jsx(P,{children:e.jsx(I,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nivel"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Código"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SAT"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[M(s.level),e.jsx(j,{className:`ml-2 ${W(s.level)}`,children:F(s.level)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"font-mono text-sm",children:s.code})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),s.description&&e.jsx("div",{className:"text-sm text-gray-500",children:s.description})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.sat_code?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-sm font-semibold text-blue-600",children:s.sat_code}),e.jsx(j,{variant:"outline",className:"text-xs bg-blue-50 border-blue-200 text-blue-700",children:"Oficial"})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(j,{variant:s.is_active?"default":"secondary",children:s.is_active?"Activo":"Inactivo"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-1",children:[e.jsx(t,{variant:"outline",size:"sm",onClick:()=>le(s),children:e.jsx(X,{className:"h-4 w-4"})}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>ae(s),children:e.jsx(ue,{className:"h-4 w-4"})}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>ie(s.id),children:e.jsx(ve,{className:"h-4 w-4"})})]})})]},s.id))})]})})})}),$>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-sm text-gray-700",children:["Mostrando ",G+1," a ",Math.min(ne,w.length)," de ",w.length," categorías"]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>A(C-1),disabled:C===1,children:[e.jsx(Be,{className:"h-4 w-4"}),"Anterior"]}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:$},(s,a)=>a+1).map(s=>e.jsx(t,{variant:C===s?"default":"outline",size:"sm",onClick:()=>A(s),className:C===s?"bg-[#00a587] hover:bg-[#067f5f]":"",children:s},s))}),e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>A(C+1),disabled:C===$,children:["Siguiente",e.jsx(Qe,{className:"h-4 w-4"})]})]})]})]})]}),e.jsx(de,{open:fe,onOpenChange:Y,children:e.jsxs(oe,{className:"max-w-2xl",children:[e.jsx(xe,{children:e.jsxs(me,{className:"flex items-center",children:[e.jsx(X,{className:"h-5 w-5 mr-2"}),"Detalles de la Categoría"]})}),l&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Código"}),e.jsx("p",{className:"mt-1 text-sm font-mono",children:l.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nivel"}),e.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[M(l.level),e.jsx(j,{className:W(l.level),children:F(l.level)})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nombre"}),e.jsx("p",{className:"mt-1 text-sm",children:l.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Código SAT"}),e.jsx("p",{className:"mt-1 text-sm font-mono",children:l.sat_code||"No asignado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Estado"}),e.jsx("div",{className:"mt-1",children:e.jsx(j,{variant:l.is_active?"default":"secondary",children:l.is_active?"Activo":"Inactivo"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Naturaleza de la Cuenta"}),e.jsx("p",{className:"mt-1 text-sm",children:l.account_nature==="debit"?"Deudora":"Acreedora"})]}),l.description&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Descripción"}),e.jsx("p",{className:"mt-1 text-sm",children:l.description})]}),l.full_path&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Ruta Jerárquica"}),e.jsx("p",{className:"mt-1 text-sm font-mono",children:l.full_path})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Fecha de Creación"}),e.jsx("p",{className:"mt-1 text-sm",children:l.created_at?new Date(l.created_at).toLocaleDateString("es-MX"):"No disponible"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Última Actualización"}),e.jsx("p",{className:"mt-1 text-sm",children:l.updated_at?new Date(l.updated_at).toLocaleDateString("es-MX"):"No disponible"})]})]})]})]})})]})})}export{Ue as default};
