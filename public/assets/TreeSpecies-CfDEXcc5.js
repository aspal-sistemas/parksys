import{a2 as d,u as S,R as Y,j as e,f as M,i as P,aS as X,aT as O,G as T,a3 as ee,a7 as se,a4 as ae,O as te,Q as q,V as A,W as E,Y as L,_ as l,B as c,a5 as re,a6 as le,T as F,ac as ie,P as ne,p as V,M as ce,L as G,o,aU as de}from"./index-D5qLf1ib.js";import{S as j}from"./skeleton-XQWc31Aw.js";import{S as R}from"./separator-Bek7HtsH.js";import{P as U}from"./PublicLayout-Dp1nF1UQ.js";import{S as Z}from"./sun-EUex_3oP.js";const oe="/images/park-lake-bridge.jpg",xe={Lento:"bg-red-100 text-red-800 border-red-200",Medio:"bg-yellow-100 text-yellow-800 border-yellow-200",Rápido:"bg-green-100 text-green-800 border-green-200"},me={Nativo:"bg-blue-100 text-blue-800 border-blue-200",Introducido:"bg-purple-100 text-purple-800 border-purple-200",Naturalizado:"bg-teal-100 text-teal-800 border-teal-200"};function he({species:s,viewMode:y}){const n=xe[s.growthRate]||"bg-gray-100 text-gray-800 border-gray-200",u=me[s.origin]||"bg-gray-100 text-gray-800 border-gray-200";return y==="list"?e.jsx(G,{href:`/tree-species/${s.id}`,children:e.jsx(M,{className:"hover:shadow-lg transition-shadow duration-200 cursor-pointer",children:e.jsx(P,{className:"p-6",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"w-32 h-32 flex-shrink-0",children:s.photoUrl?e.jsx("img",{src:s.photoUrl,alt:s.commonName,className:"w-full h-full object-cover rounded-lg"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"h-16 w-16 text-white opacity-80"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:s.commonName}),e.jsx("p",{className:"text-sm text-gray-500 italic",children:s.scientificName})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{className:n,children:s.growthRate}),e.jsx(o,{className:u,children:s.origin}),s.isEndangered&&e.jsx(o,{variant:"destructive",children:"En peligro"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Familia:"}),e.jsx("span",{className:"font-medium",children:s.family})]}),s.climateZone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Zona:"}),e.jsx("span",{className:"font-medium",children:s.climateZone})]}),s.heightMature&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Altura:"}),e.jsx("span",{className:"font-medium",children:s.heightMature})]}),s.waterRequirements&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Agua:"}),e.jsx("span",{className:"font-medium",children:s.waterRequirements})]})]}),s.description&&e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:s.description}),s.ecologicalBenefits&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-green-700 mb-1",children:"Beneficios Ecológicos:"}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.ecologicalBenefits})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx(c,{className:"bg-[#00a587] hover:bg-[#067f5f] text-white px-6 py-2",size:"sm",children:"Ver más información"})})]})]})})})}):e.jsx(G,{href:`/tree-species/${s.id}`,children:e.jsx(M,{className:"hover:shadow-lg transition-shadow duration-200 cursor-pointer",children:e.jsxs(P,{className:"p-0",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.photoUrl?e.jsx("img",{src:s.photoUrl,alt:s.commonName,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center",children:e.jsx(F,{className:"h-16 w-16 text-white opacity-80"})}),e.jsxs("div",{className:"absolute top-2 left-2 flex gap-1",children:[e.jsx(o,{className:u,children:s.origin}),s.isEndangered&&e.jsx(o,{variant:"destructive",children:"En peligro"})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:s.commonName}),e.jsx("p",{className:"text-sm text-gray-500 italic",children:s.scientificName})]}),e.jsx(o,{className:n,children:s.growthRate})]}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Familia:"}),e.jsx("span",{className:"font-medium",children:s.family})]}),s.climateZone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Zona:"}),e.jsx("span",{className:"font-medium",children:s.climateZone})]})]}),s.description&&e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:s.description}),s.ecologicalBenefits&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-green-700 mb-1",children:"Beneficios:"}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.ecologicalBenefits})]}),e.jsx("div",{className:"text-center",children:e.jsx(c,{className:"bg-[#00a587] hover:bg-[#067f5f] text-white px-6 py-2",size:"sm",children:"Ver más información"})})]})]})})})}function pe(){const[s,y]=d.useState(""),[n,u]=d.useState("all"),[x,K]=d.useState("all"),[m,_]=d.useState("all"),[N,I]=d.useState("grid"),[r,f]=d.useState(1),p=9,{data:w,isLoading:D}=S({queryKey:["/api/tree-species"],queryFn:async()=>{const a=await fetch("/api/tree-species?limit=1000");if(!a.ok)throw new Error("Error cargando especies arbóreas");return a.json()}}),{data:Q}=S({queryKey:["/api/parks"],queryFn:async()=>{const a=await fetch("/api/parks?limit=100");if(!a.ok)throw new Error("Error cargando parques");return a.json()}}),{data:C}=S({queryKey:["/api/park-tree-species"],queryFn:async()=>{const a=await fetch("/api/park-tree-species");if(!a.ok)throw new Error("Error cargando especies por parque");return a.json()}}),i=(w==null?void 0:w.data)||[],$=Q||[],z=(C==null?void 0:C.data)||[],b=d.useMemo(()=>Array.isArray(i)?i.filter(a=>{const g=s===""||a.commonName.toLowerCase().includes(s.toLowerCase())||a.scientificName.toLowerCase().includes(s.toLowerCase())||a.family.toLowerCase().includes(s.toLowerCase()),t=n==="all"||a.origin===n,J=x==="all"||a.growthRate===x,W=m==="all"||z.some(B=>B.speciesId===a.id&&B.parkId===parseInt(m));return g&&t&&J&&W}):[],[i,s,n,x,m,z]),k=b.length,h=Math.ceil(k/p),v=(r-1)*p,H=b.slice(v,v+p);return Y.useEffect(()=>{f(1)},[s,n,x,m]),D?e.jsx(U,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-96 mx-auto mb-4 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-64 mx-auto animate-pulse"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,g)=>e.jsx(M,{children:e.jsxs(P,{className:"p-0",children:[e.jsx(j,{className:"h-48 w-full"}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx(j,{className:"h-4 w-3/4"}),e.jsx(j,{className:"h-3 w-1/2"}),e.jsx(j,{className:"h-3 w-full"}),e.jsx(j,{className:"h-3 w-full"})]})]})},g))})]})})}):e.jsx(U,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:[e.jsxs("div",{className:"relative h-96 overflow-hidden",children:[e.jsx("img",{src:oe,alt:"Parque urbano con árboles",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[e.jsx(X,{className:"h-8 w-8 md:h-10 md:w-10 text-white"}),e.jsx("h1",{className:"font-guttery text-3xl md:text-4xl font-thin",children:"Descubre"})]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold",children:"Especies Arbóreas"})]}),e.jsx("p",{className:"text-lg md:text-xl text-green-100 mb-8 max-w-2xl mx-auto px-4",children:"La diversidad de árboles en nuestros parques urbanos de Guadalajara"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-green-100 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5"}),e.jsxs("span",{children:[Array.isArray(i)?i.length:0," especies"]})]}),e.jsx(R,{orientation:"vertical",className:"h-6 bg-green-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5"}),e.jsxs("span",{children:[Array.isArray(i)?i.filter(a=>a.origin==="Nativo").length:0," nativas"]})]}),e.jsx(R,{orientation:"vertical",className:"h-6 bg-green-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),e.jsxs("span",{children:[Array.isArray(i)?i.filter(a=>a.isEndangered).length:0," en peligro"]})]}),e.jsx(R,{orientation:"vertical",className:"h-6 bg-green-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),e.jsxs("span",{children:[b.length," filtradas"]})]})]})]})})]}),e.jsx("section",{className:"sticky top-0 z-10 border-b border-gray-200 shadow-sm mb-6",style:{backgroundColor:"#19633c"},children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:e.jsx("div",{className:"rounded-lg shadow-sm p-6",style:{backgroundColor:"#19633c"},children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(te,{placeholder:"Buscar especies...",value:s,onChange:a=>y(a.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(q,{value:m,onValueChange:_,children:[e.jsx(A,{className:"w-48",children:e.jsx(E,{placeholder:"Parque"})}),e.jsxs(L,{children:[e.jsx(l,{value:"all",children:"Todos los parques"}),$.map(a=>e.jsx(l,{value:a.id.toString(),children:a.name},a.id))]})]}),e.jsxs(q,{value:n,onValueChange:u,children:[e.jsx(A,{className:"w-40",children:e.jsx(E,{placeholder:"Origen"})}),e.jsxs(L,{children:[e.jsx(l,{value:"all",children:"Todos los orígenes"}),e.jsx(l,{value:"Nativo",children:"Nativo"}),e.jsx(l,{value:"Introducido",children:"Introducido"}),e.jsx(l,{value:"Naturalizado",children:"Naturalizado"})]})]}),e.jsxs(q,{value:x,onValueChange:K,children:[e.jsx(A,{className:"w-40",children:e.jsx(E,{placeholder:"Crecimiento"})}),e.jsxs(L,{children:[e.jsx(l,{value:"all",children:"Todos los ritmos"}),e.jsx(l,{value:"Lento",children:"Lento"}),e.jsx(l,{value:"Medio",children:"Medio"}),e.jsx(l,{value:"Rápido",children:"Rápido"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{variant:N==="grid"?"default":"outline",size:"sm",onClick:()=>I("grid"),className:"bg-[#00a587] hover:bg-[#067f5f] text-white",children:e.jsx(re,{className:"h-4 w-4"})}),e.jsx(c,{variant:N==="list"?"default":"outline",size:"sm",onClick:()=>I("list"),className:"bg-[#00a587] hover:bg-[#067f5f] text-white",children:e.jsx(le,{className:"h-4 w-4"})})]})]})]})})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 pt-8",children:[b.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:N==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6",children:H.map(a=>e.jsx(he,{species:a,viewMode:N},a.id))}),e.jsxs("div",{className:"flex items-center justify-between mt-8 mb-12",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",v+1," a ",Math.min(v+p,k)," de ",k," especies"]}),h>1&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>f(Math.max(1,r-1)),disabled:r===1,children:"Anterior"}),e.jsx("div",{className:"flex space-x-1",children:[...Array(h)].map((a,g)=>{const t=g+1;return t===1||t===h||t>=r-1&&t<=r+1?e.jsx(c,{variant:r===t?"default":"outline",size:"sm",onClick:()=>f(t),className:r===t?"bg-[#00a587] hover:bg-[#067f5f]":"",children:t},t):t===r-2||t===r+2?e.jsx("span",{className:"px-2 text-gray-500",children:"..."},t):null})}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>f(Math.min(h,r+1)),disabled:r===h,children:"Siguiente"})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(F,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron especies"}),e.jsx("p",{className:"text-gray-500",children:"Intenta ajustar los filtros o el término de búsqueda"})]}),e.jsx("div",{className:"mt-12 mb-8",children:e.jsx(ie,{spaceId:"36",position:"banner",pageType:"tree-species"})})]}),e.jsx("section",{className:"bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"¿Necesitas más información?"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Nuestro equipo está aquí para ayudarte"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#51a19f"},children:e.jsx(ne,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Teléfono"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"(33) 1234-5678"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Lun-Vie 8:00-16:00"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#51a19f"},children:e.jsx(V,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Correo"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"arbolado@parques.gdl.gob.mx"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Respuesta en 24 horas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#51a19f"},children:e.jsx(ce,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ubicación"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Av. Hidalgo 400, Centro"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Guadalajara, Jalisco"})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(c,{size:"lg",className:"bg-green-600 hover:bg-green-700 px-8 py-3",children:[e.jsx(V,{className:"h-5 w-5 mr-2"}),"Enviar mensaje"]})})]})})]})})}export{pe as default};
