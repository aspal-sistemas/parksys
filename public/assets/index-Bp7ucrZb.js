import{a2 as o,j as e,aB as S,f as a,i as n,e as x,B as E,g as r,h as l,ah as A,o as i,U as j,aq as f,ab as c,au as D,L as t,bp as P,ck as d,dX as U,aQ as k,aA as q,a0 as B,b0 as L}from"./index-D5qLf1ib.js";import{D as M}from"./DynamicAdminLayout-FWhFap-u.js";import"./RoleBadge-D5voYAx-.js";import"./gem-dXiyKzl3.js";function z(){const[h,v]=o.useState([]),[m,w]=o.useState([]),[y,g]=o.useState(!0),[u,p]=o.useState(null),N=async()=>{try{g(!0),p(null);const C=await(await f("/api/roles")).json();v(C);const R=await(await f("/api/users-with-roles")).json();w(R.slice(0,10))}catch(s){console.error("Error al obtener datos:",s),p("Error al cargar los datos del sistema de roles")}finally{g(!1)}};o.useEffect(()=>{N()},[]);const b=s=>s||"#6366f1";return y?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx(S,{className:"h-8 w-8 animate-spin mr-3"}),e.jsx("span",{children:"Cargando sistema de roles..."})]}):u?e.jsx(a,{className:"border-red-200 bg-red-50",children:e.jsxs(n,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center text-red-700",children:[e.jsx(x,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:u})]}),e.jsx(E,{onClick:N,variant:"outline",size:"sm",className:"mt-3",children:"Reintentar"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{className:"border-green-200 bg-green-50",children:[e.jsx(r,{children:e.jsxs(l,{className:"flex items-center text-green-800",children:[e.jsx(A,{className:"h-6 w-6 mr-2"}),"Sistema de Roles - Prueba de Integración"]})}),e.jsx(n,{children:e.jsxs("p",{className:"text-green-700",children:["El sistema de roles está funcionando correctamente. Se han encontrado ",h.length," roles y ",m.length," usuarios en la base de datos."]})})]}),e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(l,{className:"flex items-center",children:[e.jsx(x,{className:"h-5 w-5 mr-2"}),"Roles del Sistema (",h.length,")"]})}),e.jsx(n,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(s=>e.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:b(s.color)}}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsxs(i,{variant:"outline",children:["Nivel ",s.level]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Slug: ",e.jsx("span",{className:"font-mono",children:s.slug})]})]},s.id))})})]}),e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(l,{className:"flex items-center",children:[e.jsx(j,{className:"h-5 w-5 mr-2"}),"Usuarios con Roles Asignados (",m.length,")"]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:m.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[s.userRole&&e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:b(s.userRole.color)}}),e.jsx("span",{className:"font-medium",children:s.fullName})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["@",s.username]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.userRole?e.jsx(i,{variant:"secondary",className:"text-xs",children:s.userRole.name}):e.jsx(i,{variant:"destructive",className:"text-xs",children:"Sin rol asignado"}),s.isActive&&e.jsx(i,{variant:"default",className:"text-xs bg-green-100 text-green-800",children:"Activo"})]})]},s.id))})})]})]})}function F(){return e.jsx(M,{title:"Sistema de Roles - Entorno de Pruebas",subtitle:"Explore y pruebe el sistema de roles dinámico con diferentes niveles de acceso",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs(a,{className:"border-blue-200 bg-blue-50",children:[e.jsxs(r,{children:[e.jsxs(l,{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(x,{className:"h-5 w-5"}),"Bienvenido al Sistema de Roles Dinámico"]}),e.jsx(c,{className:"text-blue-700",children:"Este entorno le permite probar el sistema de permisos basado en roles con 7 niveles jerárquicos. Utilice el selector de roles en la esquina superior derecha para cambiar entre diferentes vistas de usuario."})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(i,{variant:"outline",className:"text-blue-700 border-blue-300",children:[e.jsx(D,{className:"h-3 w-3 mr-1"}),"Modo Vista Previa"]}),e.jsx(i,{variant:"outline",className:"text-green-700 border-green-300",children:"7 Roles Disponibles"}),e.jsx(i,{variant:"outline",className:"text-purple-700 border-purple-300",children:"Sidebar Dinámico"})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Dashboards por Módulo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(t,{href:"/admin-roles/dashboard/configuracion",children:e.jsxs(a,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsxs(r,{className:"pb-3",children:[e.jsxs(l,{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(P,{className:"h-5 w-5"}),"Configuración"]}),e.jsx(c,{children:"Panel de control del sistema y configuraciones generales"})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"bg-gray-100 text-gray-700 hover:bg-gray-200",children:"Sistema"}),e.jsx(d,{className:"h-4 w-4 text-gray-400"})]})})]})}),e.jsx(t,{href:"/admin-roles/dashboard/gestion",children:e.jsxs(a,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsxs(r,{className:"pb-3",children:[e.jsxs(l,{className:"flex items-center gap-2 text-blue-600",children:[e.jsx(U,{className:"h-5 w-5"}),"Gestión"]}),e.jsx(c,{children:"Parques, actividades, voluntarios y gestión operativa"})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:"Operaciones"}),e.jsx(d,{className:"h-4 w-4 text-gray-400"})]})})]})}),e.jsx(t,{href:"/admin-roles/dashboard/operaciones",children:e.jsxs(a,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsxs(r,{className:"pb-3",children:[e.jsxs(l,{className:"flex items-center gap-2 text-green-600",children:[e.jsx(k,{className:"h-5 w-5"}),"Operaciones"]}),e.jsx(c,{children:"Eventos, concesiones y operaciones de parques"})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"bg-green-100 text-green-700 hover:bg-green-200",children:"Eventos"}),e.jsx(d,{className:"h-4 w-4 text-gray-400"})]})})]})}),e.jsx(t,{href:"/admin-roles/dashboard/finanzas",children:e.jsxs(a,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsxs(r,{className:"pb-3",children:[e.jsxs(l,{className:"flex items-center gap-2 text-purple-600",children:[e.jsx(q,{className:"h-5 w-5"}),"Finanzas"]}),e.jsx(c,{children:"Presupuestos, gastos, ingresos y patrocinios"})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"bg-purple-100 text-purple-700 hover:bg-purple-200",children:"Económico"}),e.jsx(d,{className:"h-4 w-4 text-gray-400"})]})})]})}),e.jsx(t,{href:"/admin-roles/dashboard/marketing",children:e.jsxs(a,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsxs(r,{className:"pb-3",children:[e.jsxs(l,{className:"flex items-center gap-2 text-orange-600",children:[e.jsx(B,{className:"h-5 w-5"}),"Marketing"]}),e.jsx(c,{children:"Comunicaciones, campañas y espacios publicitarios"})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"bg-orange-100 text-orange-700 hover:bg-orange-200",children:"Promoción"}),e.jsx(d,{className:"h-4 w-4 text-gray-400"})]})})]})}),e.jsx(t,{href:"/admin-roles/dashboard/recursos-humanos",children:e.jsxs(a,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsxs(r,{className:"pb-3",children:[e.jsxs(l,{className:"flex items-center gap-2 text-teal-600",children:[e.jsx(j,{className:"h-5 w-5"}),"Recursos Humanos"]}),e.jsx(c,{children:"Empleados, nómina, vacaciones y control de asistencia"})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"bg-teal-100 text-teal-700 hover:bg-teal-200",children:"Personal"}),e.jsx(d,{className:"h-4 w-4 text-gray-400"})]})})]})}),e.jsx(t,{href:"/admin-roles/dashboard/seguridad",children:e.jsxs(a,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsxs(r,{className:"pb-3",children:[e.jsxs(l,{className:"flex items-center gap-2 text-red-600",children:[e.jsx(x,{className:"h-5 w-5"}),"Seguridad"]}),e.jsx(c,{children:"Roles, permisos, usuarios y auditoría del sistema"})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"bg-red-100 text-red-700 hover:bg-red-200",children:"Control Acceso"}),e.jsx(d,{className:"h-4 w-4 text-gray-400"})]})})]})})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Herramientas de Gestión"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(t,{href:"/admin-roles/users",children:e.jsx(a,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:e.jsxs(r,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-5 w-5 text-blue-600"}),"Usuarios del Sistema"]}),e.jsx(c,{children:"Gestione usuarios y asigne roles específicos"})]})})}),e.jsx(t,{href:"/admin-roles/roles",children:e.jsx(a,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:e.jsxs(r,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5 text-green-600"}),"Gestión de Roles"]}),e.jsx(c,{children:"Crear, editar y administrar roles del sistema"})]})})}),e.jsx(t,{href:"/admin-roles/permissions/matrix",children:e.jsx(a,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:e.jsxs(r,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5 text-purple-600"}),"Matriz de Permisos"]}),e.jsx(c,{children:"Configure permisos granulares por módulo"})]})})})]})]}),e.jsxs(a,{className:"border-green-200 bg-green-50",children:[e.jsx(r,{children:e.jsx(l,{className:"text-green-800",children:"🚀 Instrucciones de Uso"})}),e.jsx(n,{className:"text-green-700",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[e.jsxs("li",{children:["Use el ",e.jsx("strong",{children:"selector de roles"})," en la esquina superior derecha para cambiar entre diferentes niveles de usuario"]}),e.jsxs("li",{children:["Observe cómo el ",e.jsx("strong",{children:"sidebar cambia dinámicamente"})," según los permisos del rol seleccionado"]}),e.jsxs("li",{children:["Explore los ",e.jsx("strong",{children:"dashboards específicos"})," de cada módulo haciendo clic en los elementos del sidebar"]}),e.jsxs("li",{children:["Pruebe las ",e.jsx("strong",{children:"herramientas de gestión"})," para administrar usuarios, roles y permisos"]}),e.jsxs("li",{children:["Cada rol tiene diferentes ",e.jsx("strong",{children:"niveles de acceso"})," desde Super Admin hasta Consultor Auditor"]})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsx(z,{})})]})})}export{F as default};
