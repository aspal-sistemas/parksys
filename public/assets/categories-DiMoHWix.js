import{a2 as v,u,j as e,aX as N,f as y,av as c,B as x,bh as f,a4 as w,O as C,bH as A,bI as T,bJ as o,bK as d,bL as L,bM as r,o as m,bq as E,bn as B}from"./index-D5qLf1ib.js";const z=()=>{const[l,h]=v.useState(""),{data:j=[],isLoading:g}=u({queryKey:["/api/activity-categories"],retry:1}),{data:p=[]}=u({queryKey:["/api/activities"],retry:1}),t=p.reduce((s,a)=>{const i=a.category||"Sin categoría";return s[i]=(s[i]||0)+1,s},{});j.filter(s=>{var a,i;return((a=s.name)==null?void 0:a.toLowerCase().includes(l.toLowerCase()))||((i=s.description)==null?void 0:i.toLowerCase().includes(l.toLowerCase()))});const n=[{name:"Arte y Cultura",description:"Actividades culturales y artísticas",count:t["Arte y Cultura"]||0},{name:"Deportivo",description:"Actividades físicas y deportivas",count:t.Deportivo||0},{name:"Recreación y Bienestar",description:"Actividades de recreación y salud",count:t["Recreación y Bienestar"]||0},{name:"Naturaleza y Ciencia",description:"Actividades de educación ambiental",count:t["Naturaleza y Ciencia"]||0},{name:"Comunidad",description:"Actividades comunitarias y sociales",count:t.Comunidad||0},{name:"Eventos de Temporada",description:"Eventos especiales y estacionales",count:t["Eventos de Temporada"]||0},{name:"Fitness y Ejercicio",description:"Actividades de acondicionamiento físico",count:t["Fitness y Ejercicio"]||0}].filter(s=>s.name.toLowerCase().includes(l.toLowerCase())||s.description.toLowerCase().includes(l.toLowerCase()));return e.jsx(N,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(y,{className:"p-4 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-8 h-8 text-gray-900"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Categorías"})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Gestión de categorías para actividades en parques"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(f,{size:16}),"Nueva Categoría"]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Total Categorías"}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:n.length})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(c,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Categorías Activas"}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:n.filter(s=>s.count>0).length})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(c,{className:"h-6 w-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Total Actividades"}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:Object.values(t).reduce((s,a)=>s+Number(a),0)})]}),e.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:e.jsx(c,{className:"h-6 w-6 text-purple-600"})})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[e.jsx("div",{className:"flex items-center gap-4 mb-6",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(C,{placeholder:"Buscar categorías...",value:l,onChange:s=>h(s.target.value),className:"pl-10"})]})}),e.jsxs(A,{children:[e.jsx(T,{children:e.jsxs(o,{children:[e.jsx(d,{children:"Nombre"}),e.jsx(d,{children:"Descripción"}),e.jsx(d,{children:"Actividades"}),e.jsx(d,{children:"Estado"}),e.jsx(d,{children:"Acciones"})]})}),e.jsx(L,{children:g?e.jsx(o,{children:e.jsx(r,{colSpan:5,className:"text-center py-8 text-gray-500",children:"Cargando categorías..."})}):n.length===0?e.jsx(o,{children:e.jsx(r,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No se encontraron categorías"})}):n.map((s,a)=>e.jsxs(o,{children:[e.jsx(r,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4 text-gray-500"}),s.name]})}),e.jsx(r,{className:"text-gray-600",children:s.description}),e.jsx(r,{children:e.jsxs(m,{variant:"outline",className:"bg-blue-50 text-blue-700",children:[s.count," actividades"]})}),e.jsx(r,{children:e.jsx(m,{variant:s.count>0?"default":"secondary",className:s.count>0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600",children:s.count>0?"Activa":"Inactiva"})}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(x,{variant:"outline",size:"sm",children:e.jsx(B,{className:"h-4 w-4"})})]})})]},s.name))})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Distribución por Categoría"}),e.jsx("div",{className:"space-y-3",children:n.filter(s=>s.count>0).sort((s,a)=>a.count-s.count).map(s=>{const a=Math.max(...n.map(b=>b.count)),i=a>0?s.count/a*100:0;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{className:`${s.name==="Arte y Cultura"?"bg-green-100 text-green-800":s.name==="Deportivo"?"bg-red-100 text-red-800":s.name==="Recreación y Bienestar"?"bg-blue-100 text-blue-800":s.name==="Naturaleza y Ciencia"?"bg-teal-100 text-teal-800":s.name==="Comunidad"?"bg-purple-100 text-purple-800":s.name==="Eventos de Temporada"?"bg-orange-100 text-orange-800":"bg-indigo-100 text-indigo-800"}`,children:s.name}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"w-48 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${i}%`}})})})]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.count," actividades"]})]},s.name)})})]})]})})};export{z as default};
