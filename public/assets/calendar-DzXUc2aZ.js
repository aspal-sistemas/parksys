import{a2 as r,u as ne,aJ as V,aK as E,aL as I,j as e,m as f,T as de,av as L,Q as y,V as v,W as b,Y as w,_ as l,B as n,X as oe,aM as xe,r as C,aN as me,aO as z,P as he,p as B,M as G,w as ge,y as pe,z as je,ar as ue,I as Ne,o as U,n as fe,U as ye,t as ve,aP as be,a1 as J}from"./index-D5qLf1ib.js";import{S as H}from"./separator-Bek7HtsH.js";import{P as we}from"./PublicLayout-Dp1nF1UQ.js";import{g as K}from"./getDay-Xf8RN73_.js";import{e as Ce}from"./eachDayOfInterval-D6txWSwO.js";import{p as x}from"./parseISO-DQfTOoXY.js";import{s as De}from"./subMonths-DsAfY9et.js";const ke="/jardin-japones.jpg",$e=()=>{var F,$;const[i,D]=r.useState(new Date);r.useState(null);const[a,Q]=r.useState(null),[_,m]=r.useState(!1),[h,k]=r.useState("all"),[g,M]=r.useState("all"),[p,S]=r.useState("all"),{data:c=[],isLoading:W}=ne({queryKey:["/api/activities"]}),T=Array.from(new Set(c.map(s=>s.category||"Sin categoría"))),X=Array.from(new Set(c.map(s=>s.parkName||"Sin parque"))),j=s=>{const t={Deportes:"bg-blue-500",Cultura:"bg-purple-500",Ecología:"bg-green-500",Recreación:"bg-orange-500",Educación:"bg-indigo-500",Bienestar:"bg-pink-500",Arte:"bg-red-500",Música:"bg-yellow-500",Tecnología:"bg-gray-500",default:"bg-teal-500"};return t[s]||t.default},P=c.filter(s=>!(h!=="all"&&s.category!==h||g!=="all"&&s.parkName!==g||p==="free"&&!s.isFree||p==="paid"&&s.isFree)),Y=s=>P.filter(t=>{if(!t.startDate||!I(x(t.startDate)))return!1;const d=x(t.startDate);return z(s,d)}),Z=()=>{D(s=>De(s,1))},ee=()=>{D(s=>be(s,1))},se=s=>{Q(s),m(!0)},q=V(i),A=E(i),u=new Date(q);u.setDate(u.getDate()-K(q));const N=new Date(A);N.setDate(N.getDate()+(6-K(A)));const ae=Ce({start:u,end:N}),te=()=>{k("all"),M("all"),S("all")},re=c.length,le=new Set(c.map(s=>s.parkName)).size,ie=c.filter(s=>{if(!s.startDate||!I(x(s.startDate)))return!1;const t=x(s.startDate);return t>=V(i)&&t<=E(i)}).length;return W?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando calendario..."})]})})}):e.jsx(we,{children:e.jsxs("div",{className:"bg-gray-50",children:[e.jsxs("section",{className:"relative text-white",style:{backgroundImage:`url(${ke})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/50"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(f,{className:"h-12 w-12 md:h-16 md:w-16 text-white"}),e.jsx("span",{className:"font-light text-white",style:{fontFamily:"Guttery, sans-serif"},children:"Nuestro"})]}),e.jsx("span",{className:"font-bold text-white",children:"Calendario de Actividades"})]}),e.jsx("p",{className:"text-xl md:text-2xl text-blue-100 max-w-3xl mx-auto",children:"Descubre eventos y actividades programadas en todos nuestros parques durante el mes"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-blue-100 mt-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),e.jsxs("span",{children:[ie," actividades este mes"]})]}),e.jsx(H,{orientation:"vertical",className:"h-6 bg-blue-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5"}),e.jsxs("span",{children:[le," parques activos"]})]}),e.jsx(H,{orientation:"vertical",className:"h-6 bg-blue-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),e.jsxs("span",{children:[T.length," categorías"]})]})]})]})]}),e.jsx("section",{className:"py-6",style:{backgroundColor:"#19633c"},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"rounded-2xl shadow-sm p-6",style:{backgroundColor:"#19633c"},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(y,{value:h,onValueChange:k,children:[e.jsx(v,{className:"border-gray-200 focus:border-primary focus:ring-primary",children:e.jsx(b,{placeholder:"Categoría"})}),e.jsxs(w,{children:[e.jsx(l,{value:"all",children:"Todas las categorías"}),T.map(s=>e.jsx(l,{value:s,children:s},s))]})]}),e.jsxs(y,{value:g,onValueChange:M,children:[e.jsx(v,{className:"border-gray-200 focus:border-primary focus:ring-primary",children:e.jsx(b,{placeholder:"Parque"})}),e.jsxs(w,{children:[e.jsx(l,{value:"all",children:"Todos los parques"}),X.map(s=>e.jsx(l,{value:s,children:s},s))]})]}),e.jsxs(y,{value:p,onValueChange:S,children:[e.jsx(v,{className:"border-gray-200 focus:border-primary focus:ring-primary",children:e.jsx(b,{placeholder:"Precio"})}),e.jsxs(w,{children:[e.jsx(l,{value:"all",children:"Todos los precios"}),e.jsx(l,{value:"free",children:"Gratuitas"}),e.jsx(l,{value:"paid",children:"De pago"})]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-white",children:["Mostrando ",P.length," de ",re," actividades"]}),e.jsxs(n,{variant:"outline",size:"sm",onClick:te,className:"bg-white text-gray-900 border-white hover:bg-gray-100",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Limpiar filtros"]})]})]})})}),e.jsx("section",{className:"bg-white border-t",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(n,{variant:"outline",onClick:Z,className:"flex items-center gap-2 border-[#51a19f] text-[#51a19f] hover:bg-[#51a19f] hover:text-white",children:[e.jsx(xe,{className:"w-4 h-4"}),"Anterior"]}),e.jsx("h2",{className:"text-3xl font-bold capitalize",style:{color:"#51a19f"},children:C(i,"MMMM yyyy",{locale:J})}),e.jsxs(n,{variant:"outline",onClick:ee,className:"flex items-center gap-2 border-[#51a19f] text-[#51a19f] hover:bg-[#51a19f] hover:text-white",children:["Siguiente",e.jsx(me,{className:"w-4 h-4"})]})]})}),e.jsxs("div",{className:"pb-12",children:[e.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"].map(s=>e.jsx("div",{className:"text-center font-semibold text-gray-700 py-2",children:s},s))}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:ae.map((s,t)=>{const d=Y(s),O=s.getMonth()===i.getMonth(),R=z(s,new Date);return e.jsxs("div",{className:`min-h-32 p-2 border rounded-lg ${O?"bg-white border-gray-200":"bg-gray-50 border-gray-100"} ${R?"ring-2 ring-primary":""}`,children:[e.jsx("div",{className:`text-sm font-medium mb-2 ${O?"text-gray-900":"text-gray-400"} ${R?"text-primary font-bold":""}`,children:C(s,"d")}),e.jsxs("div",{className:"space-y-1",children:[d.slice(0,3).map((o,ce)=>e.jsxs("div",{onClick:()=>se(o),className:`text-xs p-1 rounded cursor-pointer hover:opacity-80 transition-opacity ${j(o.category)} text-white`,children:[e.jsx("div",{className:"font-medium truncate",children:o.title}),o.startTime&&e.jsx("div",{className:"text-xs opacity-90",children:o.startTime})]},ce)),d.length>3&&e.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["+",d.length-3," más..."]})]})]},t)})})]})]})}),e.jsx("section",{className:"bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"¿Necesitas más información?"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Nuestro equipo está aquí para ayudarte"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#51a19f"},children:e.jsx(he,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Teléfono"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"(33) 1234-5678"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Lun-Vie 8:00-16:00"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#51a19f"},children:e.jsx(B,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Correo"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"actividades@parques.gdl.gob.mx"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Respuesta en 24 horas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"#51a19f"},children:e.jsx(G,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ubicación"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Av. Hidalgo 400, Centro"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Guadalajara, Jalisco"})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(n,{size:"lg",className:"bg-green-600 hover:bg-green-700 px-8 py-3",children:[e.jsx(B,{className:"h-5 w-5 mr-2"}),"Enviar mensaje"]})})]})}),e.jsx(ge,{open:_,onOpenChange:m,children:e.jsx(pe,{className:"max-w-2xl",children:a&&e.jsxs(e.Fragment,{children:[e.jsx(je,{children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg ${j(a.category)} flex items-center justify-center flex-shrink-0`,children:e.jsx(ue,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Ne,{className:"text-xl font-bold text-gray-900 leading-tight",children:a.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(U,{variant:"secondary",className:`${j(a.category)} text-white`,children:a.category}),a.isFree&&e.jsx(U,{variant:"outline",className:"text-green-600 border-green-600",children:"Gratuita"})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(G,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-medium",children:a.parkName})]}),a.startDate&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(f,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-medium",children:C(x(a.startDate),"PPP",{locale:J})})]}),a.startTime&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(fe,{className:"w-4 h-4 text-primary"}),e.jsxs("span",{className:"font-medium",children:[a.startTime,a.endTime&&` - ${a.endTime}`]})]}),a.capacity&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ye,{className:"w-4 h-4 text-primary"}),e.jsxs("span",{className:"font-medium",children:[a.capacity," personas max."]})]}),a.instructorName&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ve,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-medium",children:a.instructorName})]}),!a.isFree&&a.price&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(L,{className:"w-4 h-4 text-primary"}),e.jsxs("span",{className:"font-medium",children:["$",a.price]})]})]}),(a.materials||a.requirements||((F=a.targetMarket)==null?void 0:F.length)||(($=a.specialNeeds)==null?void 0:$.length))&&e.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[a.materials&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Materiales"}),e.jsx("p",{className:"text-sm text-gray-600",children:a.materials})]}),a.requirements&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Requisitos"}),e.jsx("p",{className:"text-sm text-gray-600",children:a.requirements})]}),a.targetMarket&&a.targetMarket.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Público Objetivo"}),e.jsx("p",{className:"text-sm text-gray-600",children:a.targetMarket.join(", ")})]}),a.specialNeeds&&a.specialNeeds.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Requerimientos Especiales"}),e.jsx("div",{className:"space-y-1",children:a.specialNeeds.map((s,t)=>e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),s]},t))})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(n,{className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",onClick:()=>{window.open(`/activity/${a.id}`,"_blank")},children:"Más Información"}),e.jsx(n,{variant:"outline",onClick:()=>m(!1),className:"text-primary border-primary hover:bg-primary hover:text-white",children:"Cerrar"})]})]})})})]})})};export{$e as default};
