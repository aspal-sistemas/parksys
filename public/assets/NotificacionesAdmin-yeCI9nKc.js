import{c as U,l as V,a2 as p,j as e,aX as G,f as l,g as n,h as c,bN as m,ab as d,b1 as I,b2 as D,b3 as o,bp as g,e as S,U as N,n as T,b4 as x,i as h,br as _,o as r,B as t,N as u,O as v,Q as H,V as q,W as $,Y as W,_ as f,au as b,a7 as O,a4 as Q,bG as X,ar as Y,p as J}from"./index-D5qLf1ib.js";import{S as K}from"./send-Bxi1PaXf.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=U("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);function ae(){const{toast:j}=V(),[z,E]=p.useState("channels"),[y,R]=p.useState([{id:"email_critical",name:"Email - Crítico",type:"email",enabled:!0,priority:"critical"},{id:"email_standard",name:"Email - Estándar",type:"email",enabled:!0,priority:"medium"},{id:"sms_urgent",name:"SMS - Urgente",type:"sms",enabled:!1,priority:"high"},{id:"system_notifications",name:"Notificaciones del Sistema",type:"system",enabled:!0,priority:"low"}]),[k,M]=p.useState([{id:"security_breach",name:"Brecha de Seguridad",description:"Intentos de acceso no autorizado detectados",event:"security.breach",channels:["email_critical","sms_urgent"],enabled:!0,recipients:["admin","security-team"]},{id:"system_maintenance",name:"Mantenimiento del Sistema",description:"Notificaciones sobre mantenimiento programado",event:"system.maintenance",channels:["email_standard","system_notifications"],enabled:!0,recipients:["all-users"]},{id:"user_registration",name:"Nuevo Usuario Registrado",description:"Cuando un nuevo usuario se registra en el sistema",event:"user.registration",channels:["email_standard"],enabled:!0,recipients:["hr-team"]},{id:"backup_failure",name:"Falla en Respaldo",description:"Cuando falla un proceso de respaldo automático",event:"backup.failure",channels:["email_critical"],enabled:!0,recipients:["admin","tech-team"]}]),P=s=>{R(i=>i.map(a=>a.id===s?{...a,enabled:!a.enabled}:a)),j({title:"Canal actualizado",description:"La configuración del canal ha sido modificada"})},A=s=>{M(i=>i.map(a=>a.id===s?{...a,enabled:!a.enabled}:a)),j({title:"Regla actualizada",description:"La regla de notificación ha sido modificada"})},B=s=>{j({title:"Notificación de prueba enviada",description:`Se ha enviado una notificación de prueba al canal ${s}`})},F=s=>{switch(s){case"email":return e.jsx(J,{className:"h-4 w-4"});case"sms":return e.jsx(Z,{className:"h-4 w-4"});case"push":return e.jsx(m,{className:"h-4 w-4"});case"system":return e.jsx(Y,{className:"h-4 w-4"});default:return e.jsx(m,{className:"h-4 w-4"})}},w=s=>{switch(s){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=s=>({critical:"Crítica",high:"Alta",medium:"Media",low:"Baja"})[s]||s;return e.jsx(G,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(l,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:e.jsxs(n,{children:[e.jsxs(c,{className:"flex items-center gap-2 text-blue-900",children:[e.jsx(m,{className:"h-6 w-6"}),"Configuración de Notificaciones Administrativas"]}),e.jsx(d,{className:"text-blue-700",children:"Configure canales de notificación, reglas de envío y destinatarios para eventos del sistema."})]})}),e.jsxs(I,{value:z,onValueChange:E,className:"space-y-6",children:[e.jsxs(D,{className:"grid w-full grid-cols-4",children:[e.jsxs(o,{value:"channels",className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4"}),"Canales"]}),e.jsxs(o,{value:"rules",className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),"Reglas"]}),e.jsxs(o,{value:"recipients",className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4"}),"Destinatarios"]}),e.jsxs(o,{value:"history",className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),"Historial"]})]}),e.jsx(x,{value:"channels",className:"space-y-6",children:e.jsxs(l,{children:[e.jsxs(n,{children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5 text-blue-600"}),"Canales de Notificación"]}),e.jsx(d,{children:"Configure los diferentes canales para enviar notificaciones administrativas"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"space-y-4",children:y.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(_,{checked:s.enabled,onCheckedChange:()=>P(s.id)}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.enabled?"bg-blue-100":"bg-gray-100"}`,children:F(s.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(r,{className:w(s.priority),children:C(s.priority)}),e.jsx(r,{variant:"outline",className:"text-xs",children:s.type.toUpperCase()})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>B(s.id),disabled:!s.enabled,children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Probar"]}),e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(g,{className:"h-4 w-4"})})]})]},s.id))}),e.jsxs("div",{className:"mt-6 pt-6 border-t space-y-4",children:[e.jsx("h3",{className:"font-medium",children:"Configuración Global"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email-server",children:"Servidor SMTP"}),e.jsx(v,{id:"email-server",defaultValue:"smtp.gmail.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email-port",children:"Puerto SMTP"}),e.jsx(v,{id:"email-port",type:"number",defaultValue:"587"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"sms-provider",children:"Proveedor SMS"}),e.jsxs(H,{defaultValue:"twilio",children:[e.jsx(q,{children:e.jsx($,{})}),e.jsxs(W,{children:[e.jsx(f,{value:"twilio",children:"Twilio"}),e.jsx(f,{value:"nexmo",children:"Nexmo"}),e.jsx(f,{value:"aws",children:"AWS SNS"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"retry-attempts",children:"Intentos de reenvío"}),e.jsx(v,{id:"retry-attempts",type:"number",defaultValue:"3"})]})]})]})]})]})}),e.jsx(x,{value:"rules",className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5 text-purple-600"}),"Reglas de Notificación"]}),e.jsx(d,{children:"Configure cuándo y cómo enviar notificaciones basadas en eventos del sistema"})]}),e.jsxs(t,{className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Nueva Regla"]})]})}),e.jsx(h,{children:e.jsx("div",{className:"space-y-4",children:k.map(s=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{checked:s.enabled,onCheckedChange:()=>A(s.id)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{variant:"outline",className:"text-xs",children:s.event}),e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(b,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-1",children:"Canales:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.channels.map(i=>{const a=y.find(L=>L.id===i);return a?e.jsx(r,{variant:"secondary",className:"text-xs",children:a.name},i):null})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-1",children:"Destinatarios:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.recipients.map(i=>e.jsx(r,{variant:"outline",className:"text-xs",children:i},i))})]})]})]},s.id))})})]})}),e.jsx(x,{value:"recipients",className:"space-y-6",children:e.jsxs(l,{children:[e.jsxs(n,{children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5 text-green-600"}),"Gestión de Destinatarios"]}),e.jsx(d,{children:"Configure grupos y listas de destinatarios para las notificaciones"})]}),e.jsx(h,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-4",children:"Grupos Predefinidos"}),e.jsx("div",{className:"space-y-3",children:[{id:"admin",name:"Administradores",count:3},{id:"hr-team",name:"Equipo de RH",count:5},{id:"tech-team",name:"Equipo Técnico",count:4},{id:"security-team",name:"Equipo de Seguridad",count:2},{id:"all-users",name:"Todos los Usuarios",count:45}].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.count," miembros"]})]}),e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(b,{className:"h-4 w-4"})})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-4",children:"Listas Personalizadas"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg text-center",children:[e.jsx(N,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No hay listas personalizadas"}),e.jsx(t,{variant:"outline",size:"sm",className:"mt-2",children:"Crear Lista"})]})})]})]})})]})}),e.jsx(x,{value:"history",className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-indigo-600"}),"Historial de Notificaciones"]}),e.jsx(d,{children:"Registro de todas las notificaciones enviadas en los últimos 30 días"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Filtrar"]}),e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Buscar"]})]})]})}),e.jsx(h,{children:e.jsx("div",{className:"space-y-4",children:[{id:1,timestamp:"2025-01-07 14:30:00",event:"Brecha de Seguridad",channel:"Email",recipients:3,status:"delivered",priority:"critical"},{id:2,timestamp:"2025-01-07 12:15:00",event:"Mantenimiento del Sistema",channel:"Email + Sistema",recipients:45,status:"delivered",priority:"medium"},{id:3,timestamp:"2025-01-07 09:00:00",event:"Nuevo Usuario Registrado",channel:"Email",recipients:5,status:"failed",priority:"low"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.status==="delivered"?"bg-green-500":s.status==="failed"?"bg-red-500":"bg-yellow-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.event}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.timestamp," • ",s.channel," • ",s.recipients," destinatarios"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{className:w(s.priority),children:C(s.priority)}),e.jsx(r,{variant:s.status==="delivered"?"default":"destructive",children:s.status==="delivered"?"Entregado":"Falló"}),e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(b,{className:"h-4 w-4"})})]})]},s.id))})})]})})]}),e.jsx("div",{className:"flex justify-end gap-4",children:e.jsxs(t,{variant:"outline",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Guardar Configuración"]})})]})})}export{ae as default};
