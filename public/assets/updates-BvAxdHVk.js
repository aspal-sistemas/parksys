import{c as E,l as Z,a2 as h,j as e,aX as H,f as a,g as i,h as r,ab as y,a$ as l,i as t,ax as L,n as R,ah as v,B as n,bQ as F,D as w,b1 as G,b2 as O,b3 as C,b4 as T,o as u,bS as z,E as Q,aW as $,K as q,bp as J,Z as K,e as W,a1 as S}from"./index-D5qLf1ib.js";import{P as X}from"./progress-CD1SWYCP.js";import{H as A}from"./history-CrIQ0TqL.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=E("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);function ae(){const{toast:d}=Z(),[D,k]=h.useState("available"),[o,j]=h.useState(!1),[c,g]=h.useState(0),x=[{id:"1",name:"ParkSys Core - Módulo de Seguridad",version:"2.3.1",newVersion:"2.3.2",description:"Parche crítico de seguridad para el sistema de autenticación y roles. Incluye corrección de vulnerabilidad CVE-2025-0134",type:"security",size:"48.7 MB",releaseDate:"2025-08-08T09:30:00Z",priority:"critical",status:"available"},{id:"2",name:"Módulo de Gestión de Árboles",version:"1.5.3",newVersion:"1.6.0",description:"Nueva funcionalidad para gestión de especies endémicas de Jalisco, integración con CONAFOR y reportes ecológicos mejorados",type:"feature",size:"23.4 MB",releaseDate:"2025-08-07T16:15:00Z",priority:"medium",status:"available"},{id:"3",name:"Sistema de Reservas de Espacios",version:"2.1.8",newVersion:"2.1.9",description:"Corrección de bug en cálculo de costos para eventos de gran escala y mejora en la sincronización de calendarios",type:"bugfix",size:"15.2 MB",releaseDate:"2025-08-06T11:45:00Z",priority:"high",status:"available"}],I=[{id:"1",name:"Módulo de Actividades - Inscripciones",version:"2.2.5",installedDate:"2025-08-05T14:30:00Z",type:"feature",status:"success"},{id:"2",name:"Sistema de Finanzas - Categorías SAT",version:"3.1.2",installedDate:"2025-08-03T09:15:00Z",type:"maintenance",status:"success"},{id:"3",name:"Parches de Seguridad Q3-2025",version:"1.4.7",installedDate:"2025-08-01T18:45:00Z",type:"security",status:"success"},{id:"4",name:"Módulo de Voluntarios - Evaluaciones",version:"1.8.4",installedDate:"2025-07-28T16:20:00Z",type:"bugfix",status:"success"}],p=s=>{switch(s){case"security":return"bg-red-100 text-red-800";case"feature":return"bg-blue-100 text-blue-800";case"bugfix":return"bg-yellow-100 text-yellow-800";case"maintenance":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},P=s=>{switch(s){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=s=>{switch(s){case"security":return e.jsx(W,{className:"h-4 w-4"});case"feature":return e.jsx(K,{className:"h-4 w-4"});case"bugfix":return e.jsx(J,{className:"h-4 w-4"});case"maintenance":return e.jsx(l,{className:"h-4 w-4"});default:return e.jsx(l,{className:"h-4 w-4"})}},N=s=>({security:"Seguridad",feature:"Funcionalidad",bugfix:"Corrección",maintenance:"Mantenimiento"})[s]||s,U=s=>({critical:"Crítica",high:"Alta",medium:"Media",low:"Baja"})[s]||s,V=async()=>{j(!0),setTimeout(()=>{j(!1),d({title:"Búsqueda completada",description:"Se encontraron 3 actualizaciones disponibles"})},2e3)},B=async s=>{g(0);const m=setInterval(()=>{g(b=>b>=100?(clearInterval(m),d({title:"Actualización completada",description:"La actualización se ha instalado correctamente"}),100):b+10)},300)},M=async()=>{d({title:"Instalando actualizaciones",description:"Se están instalando todas las actualizaciones disponibles"})};return e.jsx(H,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(a,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:e.jsxs(i,{children:[e.jsxs(r,{className:"flex items-center gap-2 text-green-900",children:[e.jsx(Y,{className:"h-6 w-6"}),"Centro de Actualizaciones del Sistema"]}),e.jsx(y,{className:"text-green-700",children:"Gestión de actualizaciones, parches de seguridad y nuevas funcionalidades."})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{className:"text-sm font-medium",children:"Actualizaciones Disponibles"}),e.jsx(l,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(t,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"3"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 crítica, 2 recomendadas"})]})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{className:"text-sm font-medium",children:"Versión Actual"}),e.jsx(L,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(t,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"2.1.4"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"ParkSys Core"})]})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{className:"text-sm font-medium",children:"Última Verificación"}),e.jsx(R,{className:"h-4 w-4 text-orange-600"})]}),e.jsxs(t,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"2h"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"hace 2 horas"})]})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(r,{className:"text-sm font-medium",children:"Estado del Sistema"}),e.jsx(v,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(t,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Estable"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Listo para actualizaciones"})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(n,{onClick:V,disabled:o,className:"flex items-center gap-2",children:[e.jsx(F,{className:`h-4 w-4 ${o?"animate-spin":""}`}),o?"Verificando...":"Buscar Actualizaciones"]}),e.jsxs(n,{variant:"outline",onClick:M,className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"Instalar Todas"]})]}),e.jsxs(G,{value:D,onValueChange:k,className:"space-y-6",children:[e.jsxs(O,{className:"grid w-full grid-cols-2",children:[e.jsxs(C,{value:"available",className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4"}),"Disponibles (",x.length,")"]}),e.jsxs(C,{value:"history",className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),"Historial"]})]}),e.jsxs(T,{value:"available",className:"space-y-6",children:[x.map(s=>e.jsx(a,{children:e.jsxs(t,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:f(s.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx(u,{className:p(s.type),children:N(s.type)}),e.jsx(u,{className:P(s.priority),children:U(s.priority)})]}),e.jsx("p",{className:"text-muted-foreground mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[s.version," → ",s.newVersion]}),e.jsx("span",{children:s.size}),e.jsx("span",{children:z(new Date(s.releaseDate),{locale:S,addSuffix:!0})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs(n,{size:"sm",onClick:()=>B(s.id),children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Instalar"]}),e.jsx(n,{variant:"ghost",size:"sm",children:e.jsx(Q,{className:"h-4 w-4"})})]})]}),c>0&&c<100&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Instalando..."}),e.jsxs("span",{children:[c,"%"]})]}),e.jsx(X,{value:c})]})]})},s.id)),x.filter(s=>s.priority==="critical").length>0&&e.jsx(a,{className:"bg-red-50 border-red-200",children:e.jsx(t,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-900",children:"Actualizaciones Críticas Disponibles"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Se recomienda instalar las actualizaciones críticas de seguridad lo antes posible."})]})]})})})]}),e.jsx(T,{value:"history",className:"space-y-6",children:e.jsxs(a,{children:[e.jsxs(i,{children:[e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-purple-600"}),"Historial de Actualizaciones"]}),e.jsx(y,{children:"Registro de todas las actualizaciones instaladas"})]}),e.jsx(t,{children:e.jsx("div",{className:"space-y-4",children:I.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:f(s.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["v",s.version]}),e.jsx("span",{children:z(new Date(s.installedDate),{locale:S,addSuffix:!0})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:p(s.type),children:N(s.type)}),s.status==="success"?e.jsx(v,{className:"h-4 w-4 text-green-600"}):e.jsx(q,{className:"h-4 w-4 text-red-600"})]})]},s.id))})})]})})]})]})})}export{ae as default};
