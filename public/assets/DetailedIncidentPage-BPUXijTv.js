import{c as R,aC as Ee,az as ke,l as Me,ae as Pe,a2 as c,u as h,ag as H,j as e,aX as Q,bo as He,B as l,A as te,o as p,f as o,g as v,h as y,F as Le,i as x,N as i,M as Te,b1 as $e,b2 as qe,b3 as N,a0 as Fe,U as V,bp as ue,b4 as C,$ as L,a8 as Ke,aa as ze,r as u,ab as Ue,Q as f,V as b,W as w,Y as S,_ as t,O as re,w as ce,x as le,y as de,z as oe,I as xe,J as me,bC as he,t as Qe,m as Ve,cj as je,K as Re,ah as _e,n as Be,aq as T,a1 as j}from"./index-D5qLf1ib.js";import{H as Je}from"./history-CrIQ0TqL.js";import{S as Oe}from"./send-Bxi1PaXf.js";import{C as Ge}from"./circle-check-BnS-MIcE.js";import{U as Xe}from"./user-plus-De6O1CpJ.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=R("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=R("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=R("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),es=r=>({pending:"bg-yellow-100 text-yellow-800",assigned:"bg-blue-100 text-blue-800",in_progress:"bg-purple-100 text-purple-800",review:"bg-orange-100 text-orange-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800",rejected:"bg-red-100 text-red-800"})[r]||"bg-gray-100 text-gray-800",ss=r=>({pending:"Pendiente",assigned:"Asignada",in_progress:"En Proceso",review:"En Revisión",resolved:"Resuelta",closed:"Cerrada",rejected:"Rechazada"})[r]||r,as=r=>{switch(r){case"pending":return Be;case"assigned":return Xe;case"in_progress":return ue;case"review":return je;case"resolved":return Ge;case"closed":return _e;case"rejected":return We;default:return Re}},ls=()=>{const[,r]=Ee("/admin/incidents/:id"),[_,ge]=ke(),n=r!=null&&r.id?parseInt(r.id):0,{toast:m}=Me(),d=Pe(),[A,B]=c.useState(""),[J,pe]=c.useState(!1),[ve,$]=c.useState(!1),[D,O]=c.useState(""),[G,X]=c.useState(""),[ye,I]=c.useState(!1),[g,E]=c.useState(""),[q,k]=c.useState(""),[F,M]=c.useState(""),[K,z]=c.useState(""),{data:a,isLoading:Ne,isError:Ce}=h({queryKey:[`/api/incidents/${n}`],enabled:!!n}),{data:W=[],isLoading:fe}=h({queryKey:[`/api/incidents/${n}/comments`],enabled:!!n}),{data:Y=[],isLoading:be}=h({queryKey:[`/api/incidents/${n}/history`],enabled:!!n});h({queryKey:[`/api/incidents/${n}/attachments`],enabled:!!n});const{data:Z=[],isLoading:we}=h({queryKey:[`/api/incidents/${n}/assignments`],enabled:!!n});h({queryKey:["/api/parks"]});const{data:P=[]}=h({queryKey:["/api/users"]}),ee=H({mutationFn:async s=>await T(`/api/incidents/${n}/comments`,{method:"POST",body:JSON.stringify(s)}),onSuccess:()=>{d.invalidateQueries({queryKey:[`/api/incidents/${n}/comments`]}),d.invalidateQueries({queryKey:[`/api/incidents/${n}/history`]}),B(""),m({title:"Comentario agregado",description:"El comentario se ha guardado exitosamente."})},onError:()=>{m({title:"Error",description:"No se pudo agregar el comentario.",variant:"destructive"})}}),se=H({mutationFn:async s=>await T(`/api/incidents/${n}/status`,{method:"PUT",data:s}),onSuccess:()=>{d.invalidateQueries({queryKey:[`/api/incidents/${n}`]}),d.invalidateQueries({queryKey:[`/api/incidents/${n}/history`]}),$(!1),O(""),X(""),m({title:"Estado actualizado",description:"El estado de la incidencia se ha actualizado."})},onError:()=>{m({title:"Error",description:"No se pudo actualizar el estado.",variant:"destructive"})}}),Se=H({mutationFn:async s=>await T(`/api/incidents/${n}/assign`,{method:"PUT",data:s}),onSuccess:()=>{d.invalidateQueries({queryKey:[`/api/incidents/${n}`]}),d.invalidateQueries({queryKey:[`/api/incidents/${n}/history`]}),I(!1),E(""),k(""),M(""),m({title:"Incidencia asignada",description:"La incidencia se ha asignado exitosamente."})},onError:()=>{m({title:"Error",description:"No se pudo asignar la incidencia.",variant:"destructive"})}}),U=H({mutationFn:async s=>await T(`/api/incidents/${n}/assignments`,{method:"POST",data:s}),onSuccess:()=>{d.invalidateQueries({queryKey:[`/api/incidents/${n}/assignments`]}),d.invalidateQueries({queryKey:[`/api/incidents/${n}`]}),d.invalidateQueries({queryKey:[`/api/incidents/${n}/history`]}),I(!1),E(""),k(""),M(""),z(""),m({title:"Asignación creada",description:"La nueva asignación se ha creado correctamente."})},onError:()=>{m({title:"Error",description:"No se pudo crear la asignación.",variant:"destructive"})}}),Ae=()=>{A.trim()&&ee.mutate({commentText:A.trim(),isInternal:J})},De=()=>{D&&se.mutate({status:D,notes:G||void 0})},ae=()=>{g&&U.mutate({assignedToUserId:parseInt(g),department:K||"General",notes:q||void 0,dueDate:F||void 0})},ie=()=>{ge("/admin/incidents")};if(Ne)return e.jsx(Q,{children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})})});if(Ce||!a)return e.jsx(Q,{children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error al cargar incidencia"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No se pudo cargar la información de la incidencia."}),e.jsxs(l,{onClick:ie,variant:"outline",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Volver a incidencias"]})]})})});const Ie=as(a.status);return e.jsx(Q,{children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(l,{onClick:ie,variant:"outline",size:"sm",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Volver"]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Incidencia #",a.id]}),e.jsx("p",{className:"text-gray-500",children:a.title})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(p,{className:es(a.status),children:[e.jsx(Ie,{className:"w-3 h-3 mr-1"}),ss(a.status)]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(o,{children:[e.jsx(v,{children:e.jsxs(y,{className:"flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Detalles de la Incidencia"]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-gray-500",children:"Descripción"}),e.jsx("p",{className:"text-gray-900 mt-1",children:a.description})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-gray-500",children:"Ubicación"}),e.jsxs("p",{className:"text-gray-900 mt-1 flex items-center",children:[e.jsx(Te,{className:"w-4 h-4 mr-1"}),a.location]})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-gray-500",children:"Parque"}),e.jsx("p",{className:"text-gray-900 mt-1",children:a.parkName})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-gray-500",children:"Categoría"}),e.jsx("p",{className:"text-gray-900 mt-1",children:a.category})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-gray-500",children:"Severidad"}),e.jsx(p,{variant:"outline",children:a.severity})]}),a.priority&&e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium text-gray-500",children:"Prioridad"}),e.jsx(p,{variant:"outline",children:a.priority})]})]})})]}),e.jsxs($e,{defaultValue:"comments",className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsxs(N,{value:"comments",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Comentarios"]}),e.jsxs(N,{value:"assignments",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Asignaciones"]}),e.jsxs(N,{value:"history",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Historial"]}),e.jsxs(N,{value:"attachments",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Archivos"]}),e.jsxs(N,{value:"workflow",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Flujo"]})]}),e.jsxs(C,{value:"comments",className:"space-y-4",children:[e.jsxs(o,{children:[e.jsx(v,{children:e.jsx(y,{children:"Agregar Comentario"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(L,{placeholder:"Escribe tu comentario aquí...",value:A,onChange:s=>B(s.target.value),rows:3}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"internal",checked:J,onChange:s=>pe(s.target.checked),className:"rounded"}),e.jsx(i,{htmlFor:"internal",children:"Comentario interno"})]}),e.jsxs(l,{onClick:Ae,disabled:!A.trim()||ee.isPending,children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Enviar"]})]})]})})]}),e.jsx("div",{className:"space-y-3",children:fe?e.jsx("div",{className:"text-center py-4",children:"Cargando comentarios..."}):W.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay comentarios aún"}):W.map(s=>{var ne;return e.jsx(o,{children:e.jsx(x,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ke,{children:e.jsx(ze,{children:((ne=s.authorName)==null?void 0:ne.charAt(0))||"U"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:s.authorName}),e.jsx("span",{className:"text-sm text-gray-500",children:u(new Date(s.createdAt),"dd/MM/yyyy HH:mm",{locale:j})}),s.isInternal&&e.jsx(p,{variant:"secondary",className:"text-xs",children:"Interno"})]}),e.jsx("p",{className:"text-gray-700 mt-1",children:s.commentText})]})]})})},s.id)})})]}),e.jsxs(C,{value:"assignments",className:"space-y-4",children:[e.jsxs(o,{children:[e.jsxs(v,{children:[e.jsx(y,{children:"Nueva Asignación"}),e.jsx(Ue,{children:"Crea una nueva asignación para esta incidencia"})]}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Usuario"}),e.jsxs(f,{value:g,onValueChange:E,children:[e.jsx(b,{children:e.jsx(w,{placeholder:"Seleccionar usuario"})}),e.jsx(S,{children:Array.isArray(P)&&P.map(s=>e.jsxs(t,{value:s.id.toString(),children:[s.fullName," (",s.username,")"]},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Departamento"}),e.jsxs(f,{value:K,onValueChange:z,children:[e.jsx(b,{children:e.jsx(w,{placeholder:"Seleccionar departamento"})}),e.jsxs(S,{children:[e.jsx(t,{value:"General",children:"General"}),e.jsx(t,{value:"Mantenimiento",children:"Mantenimiento"}),e.jsx(t,{value:"Seguridad",children:"Seguridad"}),e.jsx(t,{value:"Jardinería",children:"Jardinería"}),e.jsx(t,{value:"Limpieza",children:"Limpieza"}),e.jsx(t,{value:"Infraestructura",children:"Infraestructura"}),e.jsx(t,{value:"Atención al Público",children:"Atención al Público"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Fecha límite (opcional)"}),e.jsx(re,{type:"datetime-local",value:F,onChange:s=>M(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Notas (opcional)"}),e.jsx(L,{value:q,onChange:s=>k(s.target.value),placeholder:"Instrucciones o notas para el usuario asignado..."})]}),e.jsx(l,{onClick:ae,disabled:!g||U.isPending,className:"w-full",children:U.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creando asignación..."]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Crear Asignación"]})})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Asignaciones Existentes"}),we?e.jsx("div",{className:"text-center py-4",children:"Cargando asignaciones..."}):Z.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay asignaciones registradas"}):Z.map(s=>e.jsx(o,{children:e.jsx(x,{className:"pt-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"font-medium",children:s.assignedToName}),e.jsx(p,{variant:"outline",children:s.department}),e.jsx(p,{variant:s.status==="pending"?"secondary":s.status==="in_progress"?"default":s.status==="completed"?"success":"destructive",children:s.status==="pending"?"Pendiente":s.status==="in_progress"?"En Progreso":s.status==="completed"?"Completado":"Cancelado"})]}),s.dueDate&&e.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["Fecha límite: ",u(new Date(s.dueDate),"dd/MM/yyyy HH:mm",{locale:j})]}),s.notes&&e.jsx("p",{className:"text-sm text-gray-700",children:s.notes}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Creado: ",u(new Date(s.createdAt),"dd/MM/yyyy HH:mm",{locale:j})]})]})})})},s.id))]})]}),e.jsx(C,{value:"history",children:e.jsx("div",{className:"space-y-3",children:be?e.jsx("div",{className:"text-center py-4",children:"Cargando historial..."}):Y.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay historial disponible"}):Y.map(s=>e.jsx(o,{children:e.jsx(x,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:s.authorName}),e.jsx("span",{className:"text-sm text-gray-500",children:u(new Date(s.createdAt),"dd/MM/yyyy HH:mm",{locale:j})})]}),e.jsxs("p",{className:"text-gray-700 mt-1",children:[s.actionType==="status_change"&&`Cambió el estado de "${s.oldValue}" a "${s.newValue}"`,s.actionType==="assignment"&&"Asignó la incidencia",s.actionType==="comment_added"&&"Agregó un comentario",s.notes&&` - ${s.notes}`]})]})]})})},s.id))})}),e.jsx(C,{value:"attachments",children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Funcionalidad de archivos adjuntos próximamente"})}),e.jsx(C,{value:"workflow",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(ce,{open:ve,onOpenChange:$,children:[e.jsx(le,{asChild:!0,children:e.jsx(l,{variant:"outline",className:"h-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ze,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("div",{children:"Cambiar Estado"})]})})}),e.jsxs(de,{children:[e.jsxs(oe,{children:[e.jsx(xe,{children:"Cambiar Estado de Incidencia"}),e.jsx(me,{children:"Selecciona el nuevo estado para esta incidencia"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Nuevo Estado"}),e.jsxs(f,{value:D,onValueChange:O,children:[e.jsx(b,{children:e.jsx(w,{placeholder:"Seleccionar estado"})}),e.jsxs(S,{children:[e.jsx(t,{value:"pending",children:"Pendiente"}),e.jsx(t,{value:"assigned",children:"Asignada"}),e.jsx(t,{value:"in_progress",children:"En Proceso"}),e.jsx(t,{value:"review",children:"En Revisión"}),e.jsx(t,{value:"resolved",children:"Resuelta"}),e.jsx(t,{value:"closed",children:"Cerrada"}),e.jsx(t,{value:"rejected",children:"Rechazada"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Notas (opcional)"}),e.jsx(L,{value:G,onChange:s=>X(s.target.value),placeholder:"Agregar notas sobre el cambio de estado..."})]})]}),e.jsxs(he,{children:[e.jsx(l,{variant:"outline",onClick:()=>$(!1),children:"Cancelar"}),e.jsx(l,{onClick:De,disabled:!D||se.isPending,children:"Cambiar Estado"})]})]})]}),e.jsxs(ce,{open:ye,onOpenChange:I,children:[e.jsx(le,{asChild:!0,children:e.jsx(l,{variant:"outline",className:"h-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx(V,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("div",{children:"Asignar Usuario"})]})})}),e.jsxs(de,{children:[e.jsxs(oe,{children:[e.jsx(xe,{children:"Asignar Incidencia"}),e.jsx(me,{children:"Asigna esta incidencia a un usuario específico"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Usuario"}),e.jsxs(f,{value:g,onValueChange:E,children:[e.jsx(b,{children:e.jsx(w,{placeholder:"Seleccionar usuario"})}),e.jsx(S,{children:Array.isArray(P)&&P.map(s=>e.jsxs(t,{value:s.id.toString(),children:[s.fullName," (",s.username,")"]},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Departamento"}),e.jsxs(f,{value:K,onValueChange:z,children:[e.jsx(b,{children:e.jsx(w,{placeholder:"Seleccionar departamento"})}),e.jsxs(S,{children:[e.jsx(t,{value:"General",children:"General"}),e.jsx(t,{value:"Mantenimiento",children:"Mantenimiento"}),e.jsx(t,{value:"Seguridad",children:"Seguridad"}),e.jsx(t,{value:"Jardinería",children:"Jardinería"}),e.jsx(t,{value:"Limpieza",children:"Limpieza"}),e.jsx(t,{value:"Infraestructura",children:"Infraestructura"}),e.jsx(t,{value:"Atención al Público",children:"Atención al Público"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Fecha límite (opcional)"}),e.jsx(re,{type:"datetime-local",value:F,onChange:s=>M(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Notas (opcional)"}),e.jsx(L,{value:q,onChange:s=>k(s.target.value),placeholder:"Instrucciones o notas para el usuario asignado..."})]})]}),e.jsxs(he,{children:[e.jsx(l,{variant:"outline",onClick:()=>I(!1),children:"Cancelar"}),e.jsx(l,{onClick:ae,disabled:!g||Se.isPending,children:"Asignar"})]})]})]})]})})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{children:[e.jsx(v,{children:e.jsxs(y,{className:"flex items-center",children:[e.jsx(Qe,{className:"w-5 h-5 mr-2"}),"Reportante"]})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx(i,{className:"text-sm text-gray-500",children:"Nombre"}),e.jsx("p",{className:"font-medium",children:a.reporterName})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:a.reporterEmail})]})]})})]}),e.jsxs(o,{children:[e.jsx(v,{children:e.jsxs(y,{className:"flex items-center",children:[e.jsx(Ve,{className:"w-5 h-5 mr-2"}),"Fechas"]})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(i,{className:"text-sm text-gray-500",children:"Creada"}),e.jsx("p",{className:"text-sm",children:u(new Date(a.createdAt),"dd/MM/yyyy HH:mm",{locale:j})})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-sm text-gray-500",children:"Actualizada"}),e.jsx("p",{className:"text-sm",children:u(new Date(a.updatedAt),"dd/MM/yyyy HH:mm",{locale:j})})]}),a.dueDate&&e.jsxs("div",{children:[e.jsx(i,{className:"text-sm text-gray-500",children:"Fecha límite"}),e.jsx("p",{className:"text-sm",children:u(new Date(a.dueDate),"dd/MM/yyyy HH:mm",{locale:j})})]})]})})]}),(a.estimatedHours||a.costEstimate)&&e.jsxs(o,{children:[e.jsx(v,{children:e.jsxs(y,{className:"flex items-center",children:[e.jsx(je,{className:"w-5 h-5 mr-2"}),"Métricas"]})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-3",children:[a.estimatedHours&&e.jsxs("div",{children:[e.jsx(i,{className:"text-sm text-gray-500",children:"Horas estimadas"}),e.jsxs("p",{className:"text-sm",children:[a.estimatedHours,"h"]})]}),a.actualHours&&e.jsxs("div",{children:[e.jsx(i,{className:"text-sm text-gray-500",children:"Horas reales"}),e.jsxs("p",{className:"text-sm",children:[a.actualHours,"h"]})]}),a.costEstimate&&e.jsxs("div",{children:[e.jsx(i,{className:"text-sm text-gray-500",children:"Costo estimado"}),e.jsxs("p",{className:"text-sm",children:["$",a.costEstimate.toLocaleString()]})]}),a.actualCost&&e.jsxs("div",{children:[e.jsx(i,{className:"text-sm text-gray-500",children:"Costo real"}),e.jsxs("p",{className:"text-sm",children:["$",a.actualCost.toLocaleString()]})]})]})})]})]})]})]})})};export{ls as default};
