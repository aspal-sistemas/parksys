import{Y as d,u as $,j as e,ai as S,T as J,h as v,Z as X,I as Z,z,H as F,aj as O,J as q,K as V,N as b,B as t,_ as W,$ as ee,o as h,L as se,A as ae,C as B,c as _,f,M as E,l as o,X as x,U as G,ak as U,m as K,i as H,V as Q,a as re,b as te,E as le}from"./index-BBGHPKhn.js";import{S as R}from"./separator-avss73FP.js";import{P as ne}from"./PublicLayout-CCgfkENm.js";import{T as A}from"./trophy-DZ5IYXvb.js";const ie="/assets/a-teenage-girl-choosing-books-near-a-street-bookst-2025-01-07-12-36-32-utc_1752940964207-BYK2y5LL.jpg",ce={"Arte y Cultura":"bg-green-100 text-green-800 border-green-200","Recreación y Bienestar":"bg-blue-100 text-blue-800 border-blue-200","Eventos de Temporada":"bg-orange-100 text-orange-800 border-orange-200",Deportivo:"bg-red-100 text-red-800 border-red-200",Comunidad:"bg-purple-100 text-purple-800 border-purple-200","Naturaleza y Ciencia":"bg-teal-100 text-teal-800 border-teal-200","Fitness y Ejercicio":"bg-indigo-100 text-indigo-800 border-indigo-200","Actividades Familiares":"bg-pink-100 text-pink-800 border-pink-200"};function de({activity:s,viewMode:j}){const i=ce[s.category]||"bg-gray-100 text-gray-800 border-gray-200",l=new Date(s.startDate),n=new Date(s.endDate),m=l.toDateString()!==n.toDateString();return j==="list"?e.jsx(B,{className:"hover:shadow-md transition-all duration-200 border-l-4 border-l-green-500",children:e.jsx(_,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:s.title}),e.jsx(f,{className:`${i} border`,children:s.category})]}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(E,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:s.parkName})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(v,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{children:m?`${o(l,"dd MMM",{locale:x})} - ${o(n,"dd MMM yyyy",{locale:x})}`:o(l,"dd MMM yyyy",{locale:x})})]}),s.capacity>0&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(G,{className:"h-4 w-4 text-purple-600"}),e.jsxs("span",{children:[s.capacity," personas"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(U,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{children:s.price>0?`$${s.price}`:"Gratis"})]})]}),s.instructorName&&e.jsxs("div",{className:"flex items-center gap-2 mt-3 text-sm text-gray-600",children:[e.jsx(K,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{children:["Instructor: ",s.instructorName]})]}),e.jsxs("div",{className:"mt-3 space-y-2",children:[s.targetMarket&&s.targetMarket.length>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(A,{className:"h-4 w-4 text-orange-600"}),e.jsxs("span",{children:["Dirigido a: ",s.targetMarket.map(r=>({preescolar:"Preescolar",ninos:"Niños",adolescentes:"Adolescentes",adultos:"Adultos",adultos_mayores:"Adultos mayores",familias:"Familias"})[r]||r).join(", ")]})]}),s.duration&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(H,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{children:[s.duration," minutos"]})]}),s.isRecurring&&s.recurringDays&&s.recurringDays.length>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(v,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{children:["Días: ",s.recurringDays.join(", ")]})]})]})]}),e.jsxs("div",{className:"ml-4 flex flex-col gap-2",children:[e.jsx(t,{size:"sm",variant:"outline",className:"text-green-600 border-green-200 hover:bg-green-50",onClick:()=>window.open(`/activity/${s.id}`,"_blank"),children:"Ver detalle"}),s.price===0&&e.jsxs(f,{variant:"secondary",className:"bg-green-100 text-green-700 text-xs",children:[e.jsx(Q,{className:"h-3 w-3 mr-1"}),"Gratis"]})]})]})})}):e.jsxs(B,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1 overflow-hidden border-0 shadow-sm",children:[e.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[s.imageUrl?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:s.imageUrl,alt:s.imageCaption||s.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black/20"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-gradient-to-br from-green-100 to-blue-100 w-full h-full"}),e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(S,{className:"h-16 w-16 text-white/70"})})]}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx(f,{className:`${i} border shadow-sm`,children:s.category})}),s.price===0&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs(f,{className:"bg-green-500 text-white border-0 shadow-sm",children:[e.jsx(Q,{className:"h-3 w-3 mr-1"}),"Gratis"]})})]}),e.jsx(re,{className:"pb-3",children:e.jsx(te,{className:"text-lg group-hover:text-green-600 transition-colors",children:s.title})}),e.jsxs(_,{className:"pt-0",children:[e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(E,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.parkName})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(v,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),e.jsx("span",{className:"text-xs",children:m?`${o(l,"dd MMM",{locale:x})} - ${o(n,"dd MMM",{locale:x})}`:o(l,"dd MMM yyyy",{locale:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(G,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-xs",children:s.capacity>0?`${s.capacity} personas`:"Sin límite"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(U,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-xs font-medium",children:s.price>0?`$${s.price}`:"Gratis"})]})]}),s.instructorName&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 pt-2 border-t border-gray-100",children:[e.jsx(K,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-xs",children:s.instructorName})]}),e.jsxs("div",{className:"space-y-1 pt-2",children:[s.targetMarket&&s.targetMarket.length>0&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(A,{className:"h-3 w-3 text-orange-600 flex-shrink-0"}),e.jsx("span",{className:"text-xs truncate",children:s.targetMarket.map(r=>({preescolar:"Preescolar",ninos:"Niños",adolescentes:"Adolescentes",adultos:"Adultos",adultos_mayores:"Adultos mayores",familias:"Familias"})[r]||r).join(", ")})]}),s.duration&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(H,{className:"h-3 w-3 text-blue-600 flex-shrink-0"}),e.jsxs("span",{className:"text-xs",children:[s.duration," min"]})]})]})]}),e.jsxs(t,{className:"w-full mt-4 bg-green-600 hover:bg-green-700 text-white",size:"sm",onClick:()=>window.open(`/activity/${s.id}`,"_blank"),children:["Ver detalle",e.jsx(le,{className:"h-3 w-3 ml-2"})]})]})]})}function he(){const[s,j]=d.useState(""),[i,l]=d.useState("all"),[n,m]=d.useState("all"),[r,p]=d.useState("grid"),[c,w]=d.useState(1),y=9,{data:u=[],isLoading:Y}=$({queryKey:["/api/actividades-fotos"]}),{data:k}=$({queryKey:["/api/parks"]}),D=(k==null?void 0:k.data)||[],L=d.useMemo(()=>Array.isArray(u)?u.filter(a=>!(s&&!a.title.toLowerCase().includes(s.toLowerCase())&&!a.description.toLowerCase().includes(s.toLowerCase())||i!=="all"&&a.parkId.toString()!==i||n!=="all"&&a.category!==n)):[],[u,s,i,n]),N=L.length,C=Math.ceil(N/y),M=(c-1)*y,T=M+y,I=L.slice(M,T),P=Array.from(new Set(u.map(a=>a.category).filter(Boolean)));return Y?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Cargando actividades..."})]})}):e.jsx(ne,{children:e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50",children:[e.jsxs("section",{className:"relative py-24 px-4 text-center text-white",style:{backgroundImage:`url(${ie})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[e.jsx(S,{className:"h-12 w-12"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Actividades en Parques"})]}),e.jsx("p",{className:"text-xl text-green-100 mb-8 max-w-2xl mx-auto",children:"Descubre todas las actividades disponibles en los parques de Guadalajara. Desde deportes hasta arte y cultura, hay algo para todos."}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-green-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),e.jsxs("span",{children:[D.length," parques"]})]}),e.jsx(R,{orientation:"vertical",className:"h-6 bg-green-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-5 w-5"}),e.jsxs("span",{children:[N," actividades"]})]}),e.jsx(R,{orientation:"vertical",className:"h-6 bg-green-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),e.jsxs("span",{children:[P.length," categorías"]})]})]})]})]}),e.jsx("section",{className:"sticky top-0 z-10 bg-white/90 backdrop-blur-sm border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Z,{placeholder:"Buscar actividades...",value:s,onChange:a=>j(a.target.value),className:"pl-10 border-gray-200 focus:border-green-400 focus:ring-green-400"})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(z,{value:i,onValueChange:l,children:[e.jsxs(F,{className:"w-48 border-gray-200",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),e.jsx(q,{placeholder:"Todos los parques"})]}),e.jsxs(V,{children:[e.jsx(b,{value:"all",children:"Todos los parques"}),D.map(a=>e.jsx(b,{value:a.id.toString(),children:a.name},a.id))]})]}),e.jsxs(z,{value:n,onValueChange:m,children:[e.jsx(F,{className:"w-48 border-gray-200",children:e.jsx(q,{placeholder:"Todas las categorías"})}),e.jsxs(V,{children:[e.jsx(b,{value:"all",children:"Todas las categorías"}),P.map(a=>e.jsx(b,{value:a,children:a},a))]})]}),e.jsxs("div",{className:"flex items-center border border-gray-200 rounded-md",children:[e.jsx(t,{variant:r==="grid"?"default":"ghost",size:"sm",onClick:()=>p("grid"),className:r==="grid"?"bg-green-600 hover:bg-green-700":"",children:e.jsx(W,{className:"h-4 w-4"})}),e.jsx(t,{variant:r==="list"?"default":"ghost",size:"sm",onClick:()=>p("list"),className:r==="list"?"bg-green-600 hover:bg-green-700":"",children:e.jsx(ee,{className:"h-4 w-4"})})]})]})]})})}),e.jsx("div",{className:"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] py-8",children:e.jsx(h,{spaceId:"34",position:"banner",pageType:"activities",className:"w-full"})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 py-2",children:e.jsxs("div",{className:"flex gap-8 items-start",children:[e.jsx("div",{className:"flex-1",children:I.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(S,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No se encontraron actividades"}),e.jsx("p",{className:"text-gray-500",children:"Intenta ajustar los filtros para ver más resultados."}),e.jsx(t,{onClick:()=>{j(""),l("all"),m("all")},className:"mt-4 bg-green-600 hover:bg-green-700",children:"Limpiar filtros"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"text-gray-600",children:["Mostrando ",M+1,"-",Math.min(T,N)," de ",N," actividades"]}),e.jsx(se,{href:"/parks",children:e.jsxs(t,{variant:"outline",size:"sm",className:"text-green-600 border-green-200 hover:bg-green-50",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Ver parques"]})})]}),e.jsx("div",{className:r==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:I.map(a=>e.jsx(de,{activity:a,viewMode:r},a.id))}),C>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-12",children:[e.jsx(t,{variant:"outline",size:"sm",onClick:()=>w(c-1),disabled:c===1,className:"border-green-200 text-green-700 hover:bg-green-50",children:"Anterior"}),[...Array(C)].map((a,g)=>e.jsx(t,{variant:c===g+1?"default":"outline",size:"sm",onClick:()=>w(g+1),className:c===g+1?"bg-green-600 hover:bg-green-700":"border-green-200 text-green-700 hover:bg-green-50",children:g+1},g+1)),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>w(c+1),disabled:c===C,className:"border-green-200 text-green-700 hover:bg-green-50",children:"Siguiente"})]})]})}),e.jsx("div",{className:"w-80 space-y-6 sticky top-4 self-start",children:e.jsxs("div",{className:"space-y-6 mt-14",children:[e.jsx(h,{spaceId:"7",position:"card",pageType:"activities"}),e.jsx(h,{spaceId:"15",position:"card",pageType:"activities"}),e.jsx(h,{spaceId:"16",position:"card",pageType:"activities"}),e.jsx(h,{spaceId:"17",position:"card",pageType:"activities"})]})})]})})]})})}export{he as default};
