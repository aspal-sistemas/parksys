import{e as X,Y as I,u as Z,a7 as C,a8 as ee,j as e,aI as L,cA as v,aO as ae,aP as se,aQ as y,cm as M,b_ as z,a4 as Q,b$ as D,aR as R,C as F,a as E,b as w,a3 as S,c as T,aa as k,ab as c,ac as s,ad as n,aA as l,ae as i,bd as t,af as j,bH as q,B as p,I as P,y as H,a5 as r,ah as G,bA as ne}from"./index-Dzu3mJf5.js";import{R as V,a as d}from"./radio-group-CeDg7LrT.js";import{S as B}from"./separator-DuAPTCUu.js";const ie=r.object({emailNotifications:r.boolean().default(!0),participationReminders:r.boolean().default(!0),evaluationReminders:r.boolean().default(!0),recognitionNotifications:r.boolean().default(!0),reminderFrequency:r.enum(["diario","semanal","mensual"]).default("semanal")}),re=r.object({autoEvaluations:r.boolean().default(!1),evaluationPeriod:r.enum(["semanal","quincenal","mensual"]).default("mensual"),minParticipationsForEvaluation:r.number().min(1).max(10).default(3),evaluationCriteria:r.array(r.string()).default(["Puntualidad","Compromiso","Habilidades de comunicación","Trabajo en equipo","Resolución de problemas"])}),oe=r.object({autoRecognitions:r.boolean().default(!1),recognitionThreshold:r.number().min(1).max(20).default(5),recognitionTypes:r.array(r.string()).default(["Certificado de Mérito","Voluntario del Mes","Reconocimiento Especial"])}),ce=r.object({autoGenerateReports:r.boolean().default(!1),reportFrequency:r.enum(["semanal","quincenal","mensual"]).default("mensual"),includeStatistics:r.boolean().default(!0),includeCharts:r.boolean().default(!0),recipientEmails:r.string().optional()});function ue(){const{toast:N}=X(),[K,O]=I.useState("notificaciones"),[m,A]=I.useState(!1),{data:U,isLoading:Y}=Z({queryKey:["/api/volunteers/settings"],onError:()=>{console.log("Error al cargar configuraciones, usando valores por defecto")}}),o={...{emailNotifications:!0,participationReminders:!0,evaluationReminders:!0,recognitionNotifications:!0,reminderFrequency:"semanal",autoEvaluations:!1,evaluationPeriod:"mensual",minParticipationsForEvaluation:3,evaluationCriteria:["Puntualidad","Compromiso","Habilidades de comunicación","Trabajo en equipo","Resolución de problemas"],autoRecognitions:!1,recognitionThreshold:5,recognitionTypes:["Certificado de Mérito","Voluntario del Mes","Reconocimiento Especial"],autoGenerateReports:!1,reportFrequency:"mensual",includeStatistics:!0,includeCharts:!0,recipientEmails:""},...U||{}},u=C({resolver:G(ie),defaultValues:{emailNotifications:o.emailNotifications,participationReminders:o.participationReminders,evaluationReminders:o.evaluationReminders,recognitionNotifications:o.recognitionNotifications,reminderFrequency:o.reminderFrequency}}),h=C({resolver:G(re),defaultValues:{autoEvaluations:o.autoEvaluations,evaluationPeriod:o.evaluationPeriod,minParticipationsForEvaluation:o.minParticipationsForEvaluation,evaluationCriteria:o.evaluationCriteria}}),f=C({resolver:G(oe),defaultValues:{autoRecognitions:o.autoRecognitions,recognitionThreshold:o.recognitionThreshold,recognitionTypes:o.recognitionTypes}}),x=C({resolver:G(ce),defaultValues:{autoGenerateReports:o.autoGenerateReports,reportFrequency:o.reportFrequency,includeStatistics:o.includeStatistics,includeCharts:o.includeCharts,recipientEmails:o.recipientEmails}}),b=ee({mutationFn:async a=>{A(!0);try{return console.log("Guardando configuraciones:",a),new Promise(g=>{setTimeout(()=>{g({success:!0,message:"Configuraciones guardadas correctamente"})},1e3)})}finally{A(!1)}},onSuccess:()=>{N({title:"Configuraciones guardadas",description:"Las configuraciones han sido guardadas correctamente.",variant:"default"}),ne.invalidateQueries({queryKey:["/api/volunteers/settings"]})},onError:a=>{N({title:"Error",description:a.message||"Ocurrió un error al guardar las configuraciones.",variant:"destructive"})}}),_=a=>{b.mutate(a)},$=a=>{b.mutate(a)},J=a=>{b.mutate(a)},W=a=>{b.mutate(a)};return Y?e.jsx(L,{title:"Configuración del Voluntariado",subtitle:"Cargando configuraciones...",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(v,{className:"h-8 w-8 animate-spin text-primary"})})}):e.jsx(L,{title:"Configuración del Voluntariado",subtitle:"Administra las preferencias del módulo de voluntariado",children:e.jsx("div",{className:"space-y-6",children:e.jsxs(ae,{value:K,onValueChange:O,className:"w-full",children:[e.jsxs(se,{className:"grid grid-cols-4 mb-8",children:[e.jsxs(y,{value:"notificaciones",className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx("span",{children:"Notificaciones"})]}),e.jsxs(y,{value:"evaluaciones",className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Evaluaciones"})]}),e.jsxs(y,{value:"reconocimientos",className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{children:"Reconocimientos"})]}),e.jsxs(y,{value:"reportes",className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:"Reportes"})]})]}),e.jsx(R,{value:"notificaciones",children:e.jsxs(F,{children:[e.jsxs(E,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Configuración de Notificaciones"]}),e.jsx(S,{children:"Configura las notificaciones automáticas para los voluntarios"})]}),e.jsx(T,{children:e.jsx(k,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(_),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{control:u.control,name:"emailNotifications",render:({field:a})=>e.jsxs(s,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Notificaciones por Email"}),e.jsx(l,{children:"Enviar notificaciones por correo electrónico a los voluntarios"})]}),e.jsx(i,{children:e.jsx(t,{checked:a.value,onCheckedChange:a.onChange})})]})}),e.jsx(c,{control:u.control,name:"participationReminders",render:({field:a})=>e.jsxs(s,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Recordatorios de Participación"}),e.jsx(l,{children:"Enviar recordatorios sobre actividades programadas"})]}),e.jsx(i,{children:e.jsx(t,{checked:a.value,onCheckedChange:a.onChange})})]})}),e.jsx(c,{control:u.control,name:"evaluationReminders",render:({field:a})=>e.jsxs(s,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Recordatorios de Evaluación"}),e.jsx(l,{children:"Enviar recordatorios sobre evaluaciones pendientes"})]}),e.jsx(i,{children:e.jsx(t,{checked:a.value,onCheckedChange:a.onChange})})]})}),e.jsx(c,{control:u.control,name:"recognitionNotifications",render:({field:a})=>e.jsxs(s,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Notificaciones de Reconocimientos"}),e.jsx(l,{children:"Enviar notificaciones sobre nuevos reconocimientos"})]}),e.jsx(i,{children:e.jsx(t,{checked:a.value,onCheckedChange:a.onChange})})]})})]}),e.jsx(B,{className:"my-6"}),e.jsx(c,{control:u.control,name:"reminderFrequency",render:({field:a})=>e.jsxs(s,{className:"space-y-3",children:[e.jsx(n,{children:"Frecuencia de Recordatorios"}),e.jsx(i,{children:e.jsxs(V,{onValueChange:a.onChange,defaultValue:a.value,className:"flex flex-col space-y-1",children:[e.jsxs(s,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"diario"})}),e.jsx(n,{className:"font-normal",children:"Diario"})]}),e.jsxs(s,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"semanal"})}),e.jsx(n,{className:"font-normal",children:"Semanal"})]}),e.jsxs(s,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"mensual"})}),e.jsx(n,{className:"font-normal",children:"Mensual"})]})]})}),e.jsx(j,{})]})}),e.jsx(q,{className:"flex justify-end px-0",children:e.jsx(p,{type:"submit",className:"ml-auto",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar Configuración"})})]})})})]})}),e.jsx(R,{value:"evaluaciones",children:e.jsxs(F,{children:[e.jsxs(E,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"}),"Configuración de Evaluaciones"]}),e.jsx(S,{children:"Configura cómo se realizan las evaluaciones a los voluntarios"})]}),e.jsx(T,{children:e.jsx(k,{...h,children:e.jsxs("form",{onSubmit:h.handleSubmit($),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{control:h.control,name:"autoEvaluations",render:({field:a})=>e.jsxs(s,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Evaluaciones Automáticas"}),e.jsx(l,{children:"Programar evaluaciones automáticamente basadas en participaciones"})]}),e.jsx(i,{children:e.jsx(t,{checked:a.value,onCheckedChange:a.onChange})})]})}),e.jsx(c,{control:h.control,name:"minParticipationsForEvaluation",render:({field:a})=>e.jsxs(s,{children:[e.jsx(n,{children:"Mínimo de Participaciones para Evaluación"}),e.jsx(i,{children:e.jsx(P,{type:"number",min:1,max:10,...a,onChange:g=>a.onChange(parseInt(g.target.value,10))})}),e.jsx(l,{children:"Número mínimo de participaciones requeridas para una evaluación"}),e.jsx(j,{})]})})]}),e.jsx(B,{className:"my-6"}),e.jsx(c,{control:h.control,name:"evaluationPeriod",render:({field:a})=>e.jsxs(s,{className:"space-y-3",children:[e.jsx(n,{children:"Periodicidad de Evaluaciones"}),e.jsx(i,{children:e.jsxs(V,{onValueChange:a.onChange,defaultValue:a.value,className:"flex flex-col space-y-1",children:[e.jsxs(s,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"semanal"})}),e.jsx(n,{className:"font-normal",children:"Semanal"})]}),e.jsxs(s,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"quincenal"})}),e.jsx(n,{className:"font-normal",children:"Quincenal"})]}),e.jsxs(s,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"mensual"})}),e.jsx(n,{className:"font-normal",children:"Mensual"})]})]})}),e.jsx(j,{})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsx(H,{htmlFor:"evaluationCriteria",children:"Criterios de Evaluación"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1 mb-3",children:["Los criterios actuales son: ",h.watch("evaluationCriteria").join(", ")]}),e.jsx(p,{type:"button",variant:"outline",onClick:()=>{N({title:"Funcionalidad en desarrollo",description:"La edición de criterios estará disponible en una próxima actualización.",variant:"default"})},children:"Administrar Criterios"})]}),e.jsx(q,{className:"flex justify-end px-0",children:e.jsx(p,{type:"submit",className:"ml-auto",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar Configuración"})})]})})})]})}),e.jsx(R,{value:"reconocimientos",children:e.jsxs(F,{children:[e.jsxs(E,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),"Configuración de Reconocimientos"]}),e.jsx(S,{children:"Configura cómo se otorgan los reconocimientos a los voluntarios"})]}),e.jsx(T,{children:e.jsx(k,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(J),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{control:f.control,name:"autoRecognitions",render:({field:a})=>e.jsxs(s,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Reconocimientos Automáticos"}),e.jsx(l,{children:"Generar reconocimientos automáticamente basados en participaciones"})]}),e.jsx(i,{children:e.jsx(t,{checked:a.value,onCheckedChange:a.onChange})})]})}),e.jsx(c,{control:f.control,name:"recognitionThreshold",render:({field:a})=>e.jsxs(s,{children:[e.jsx(n,{children:"Umbral para Reconocimientos"}),e.jsx(i,{children:e.jsx(P,{type:"number",min:1,max:20,...a,onChange:g=>a.onChange(parseInt(g.target.value,10))})}),e.jsx(l,{children:"Número de participaciones necesarias para otorgar un reconocimiento"}),e.jsx(j,{})]})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(H,{htmlFor:"recognitionTypes",children:"Tipos de Reconocimientos"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1 mb-3",children:["Los tipos actuales son: ",f.watch("recognitionTypes").join(", ")]}),e.jsx(p,{type:"button",variant:"outline",onClick:()=>{N({title:"Funcionalidad en desarrollo",description:"La edición de tipos de reconocimientos estará disponible en una próxima actualización.",variant:"default"})},children:"Administrar Tipos de Reconocimientos"})]}),e.jsx(q,{className:"flex justify-end px-0",children:e.jsx(p,{type:"submit",className:"ml-auto",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar Configuración"})})]})})})]})}),e.jsx(R,{value:"reportes",children:e.jsxs(F,{children:[e.jsxs(E,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Configuración de Reportes"]}),e.jsx(S,{children:"Configura la generación automática de reportes y estadísticas"})]}),e.jsx(T,{children:e.jsx(k,{...x,children:e.jsxs("form",{onSubmit:x.handleSubmit(W),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{control:x.control,name:"autoGenerateReports",render:({field:a})=>e.jsxs(s,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Generar Reportes Automáticamente"}),e.jsx(l,{children:"Crear y enviar reportes de forma automática"})]}),e.jsx(i,{children:e.jsx(t,{checked:a.value,onCheckedChange:a.onChange})})]})}),e.jsx(c,{control:x.control,name:"reportFrequency",render:({field:a})=>e.jsxs(s,{className:"space-y-3",children:[e.jsx(n,{children:"Frecuencia de Reportes"}),e.jsx(i,{children:e.jsxs(V,{onValueChange:a.onChange,defaultValue:a.value,className:"flex flex-col space-y-1",children:[e.jsxs(s,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"semanal"})}),e.jsx(n,{className:"font-normal",children:"Semanal"})]}),e.jsxs(s,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"quincenal"})}),e.jsx(n,{className:"font-normal",children:"Quincenal"})]}),e.jsxs(s,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(d,{value:"mensual"})}),e.jsx(n,{className:"font-normal",children:"Mensual"})]})]})}),e.jsx(j,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsx(c,{control:x.control,name:"includeStatistics",render:({field:a})=>e.jsxs(s,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Incluir Estadísticas"}),e.jsx(l,{children:"Incluir métricas y estadísticas detalladas en los reportes"})]}),e.jsx(i,{children:e.jsx(t,{checked:a.value,onCheckedChange:a.onChange})})]})}),e.jsx(c,{control:x.control,name:"includeCharts",render:({field:a})=>e.jsxs(s,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Incluir Gráficos"}),e.jsx(l,{children:"Incluir visualizaciones gráficas en los reportes"})]}),e.jsx(i,{children:e.jsx(t,{checked:a.value,onCheckedChange:a.onChange})})]})})]}),e.jsx(c,{control:x.control,name:"recipientEmails",render:({field:a})=>e.jsxs(s,{children:[e.jsx(n,{children:"Correos Electrónicos de Destinatarios"}),e.jsx(i,{children:e.jsx(P,{placeholder:"ejemplo@correo.com, otro@correo.com",...a})}),e.jsx(l,{children:"Lista de correos separados por comas para recibir los reportes"}),e.jsx(j,{})]})}),e.jsx(q,{className:"flex justify-end px-0",children:e.jsx(p,{type:"submit",className:"ml-auto",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar Configuración"})})]})})})]})})]})})})}export{ue as default};
