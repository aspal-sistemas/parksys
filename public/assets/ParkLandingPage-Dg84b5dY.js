import{u as Ue,j as e,C as m,a as x,b as h,c as u,B as i,S as Fe,U as G,s as Je,d as We,e as Ke,R as g,F as J,L as b,A as Te,g as Xe,M as W,T as k,f as j,G as Ee,h as y,i as de,k as z,l as qe,m as me,P as Ze,n as es,E as ss,o as xe,D as O,p as V,q as as,r as L,t as R,v as _,w as B,x as ts,y as d,I as w,z as K,H as X,J as Z,K as ee,N as c,O as he,Q as De,V as se,W as rs,X as Pe}from"./index-Dzu3mJf5.js";import{T as ls}from"./tree-species-icon-BaIrmv9a.js";import{P as is}from"./PublicInstructorEvaluationForm-BMUNwGFx.js";import{P as ns}from"./PublicLayout-BIy-G5o-.js";import{C as cs}from"./camera-D-5G6Skd.js";import"./flower-D9d3RxXa.js";import"./send-DKRtUueH.js";const os=({rating:C})=>e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(p=>e.jsx(Fe,{className:`h-4 w-4 ${p<=C?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},p))});function ds({parkId:C,parkSlug:p}){var N;const{data:S}=Ue({queryKey:["/api/parks",C,"evaluation-stats"],queryFn:()=>Je(`/api/parks/${C}/evaluation-stats`)}),D=S&&S.average_rating&&Number(S.total_evaluations)>0;return e.jsxs(m,{children:[e.jsx(x,{children:e.jsx(h,{className:"text-xl font-bold text-gray-900",children:"Evaluaciones Ciudadanas"})}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-6",children:[D&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:((N=S.average_rating)==null?void 0:N.toFixed(1))||"0.0"}),e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(os,{rating:Math.round(S.average_rating||0)})}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Basado en ",Number(S.total_evaluations)||0," evaluaciones"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-green-600 mb-1",children:[S.recommendation_rate,"% Recomendado"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"De los visitantes que lo evaluaron"})]})]}),!D&&e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"text-gray-600 mb-4",children:"Sé el primero en evaluar este parque y ayuda a otros visitantes con tu experiencia."})}),e.jsxs("div",{className:"flex flex-col gap-3 justify-center items-center",children:[e.jsxs(i,{size:"lg",className:"bg-green-600 hover:bg-green-700 w-full max-w-md",onClick:()=>window.open(`/parque/${p}/evaluar`,"_blank"),children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Evalúa este parque"]}),D&&e.jsxs(i,{variant:"outline",size:"lg",className:"w-full max-w-md",onClick:()=>window.open(`/parque/${p}/evaluaciones`,"_blank"),children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Ver evaluaciones (",Number(S.total_evaluations)||0,")"]})]})]})})]})}function vs(){var ye,we,Ce,Se,Ie,ke;const{slug:C}=We(),{toast:p}=Ke(),[S,D]=g.useState(null),[N,H]=g.useState(null),[Q,ue]=g.useState(!1),[l,ge]=g.useState(null),[r,Ae]=g.useState(null),[Me,ae]=g.useState(!1),[$e,pe]=g.useState(!1),[ze,te]=g.useState(!1),[Oe,re]=g.useState(!1),[Ve,le]=g.useState(!1),[o,T]=g.useState({name:"",email:"",phone:"",issueType:"",description:"",urgency:"media"}),[v,P]=g.useState({name:"",email:"",suggestion:"",category:""}),[n,I]=g.useState({name:"",email:"",phone:"",eventName:"",eventType:"",expectedAttendees:"",eventDate:"",description:""}),U=C==null?void 0:C.split("-").pop(),{data:a,isLoading:Le,error:Re}=Ue({queryKey:[`/api/parks/${U}/extended`],enabled:!!U}),je=s=>{H(s),ue(!0)},ie=()=>{H(null),ue(!1),ge(null)},ve=()=>{var M,$;if(!N||!a)return;const s=((M=a==null?void 0:a.images)==null?void 0:M.some(f=>f.isPrimary))||!1,t=a.primaryImage||(a.images&&a.images.length>0?a.images[0].imageUrl:"")||(a.images&&a.images.length>0?a.images[0].url:""),F=(($=a==null?void 0:a.images)==null?void 0:$.filter((f,oe)=>s?!f.isPrimary:oe!==0))||[],q=[...t?[{imageUrl:t,caption:`Vista principal de ${a.name}`}]:[],...F],A=q.findIndex(f=>f.imageUrl===N),ce=A>0?A-1:q.length-1;H(q[ce].imageUrl)},Ne=()=>{var M,$;if(!N||!a)return;const s=((M=a==null?void 0:a.images)==null?void 0:M.some(f=>f.isPrimary))||!1,t=a.primaryImage||(a.images&&a.images.length>0?a.images[0].imageUrl:"")||(a.images&&a.images.length>0?a.images[0].url:""),F=(($=a==null?void 0:a.images)==null?void 0:$.filter((f,oe)=>s?!f.isPrimary:oe!==0))||[],q=[...t?[{imageUrl:t,caption:`Vista principal de ${a.name}`}]:[],...F],A=q.findIndex(f=>f.imageUrl===N),ce=A<q.length-1?A+1:0;H(q[ce].imageUrl)};g.useEffect(()=>{const s=t=>{if(Q)switch(t.key){case"Escape":ie();break;case"ArrowLeft":ve();break;case"ArrowRight":Ne();break}};if(Q)return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[Q,N]);const _e=async()=>{const s=window.location.href;if(navigator.share)try{await navigator.share({title:`${a==null?void 0:a.name} - ParkSys`,text:`¡Descubre ${a==null?void 0:a.name}! Un hermoso parque en ${a==null?void 0:a.location}`,url:s})}catch{return}else navigator.clipboard.writeText(s),p({title:"Enlace copiado",description:"El enlace del parque se ha copiado al portapapeles"});pe(!1)},Be=async s=>{s.preventDefault();try{if(!(await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({parkId:parseInt(U),formType:"report_problem",fullName:o.name,email:o.email,phone:o.phone||void 0,subject:`Reporte de problema: ${o.issueType}`,message:o.description,category:o.issueType,priority:o.urgency})})).ok)throw new Error("Error al enviar el reporte");p({title:"Reporte enviado",description:"Tu reporte ha sido enviado exitosamente. Nos pondremos en contacto contigo pronto."}),T({name:"",email:"",phone:"",issueType:"",description:"",urgency:"media"}),te(!1)}catch(t){console.error("Error al enviar reporte:",t),p({title:"Error",description:"Hubo un problema al enviar tu reporte. Por favor, inténtalo de nuevo.",variant:"destructive"})}},Ge=async s=>{s.preventDefault();try{if(!(await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({parkId:parseInt(U),formType:"suggest_improvement",fullName:v.name,email:v.email,subject:`Sugerencia de mejora para ${a==null?void 0:a.name}`,message:v.suggestion,category:v.category})})).ok)throw new Error("Error al enviar la sugerencia");p({title:"Sugerencia enviada",description:"Tu sugerencia ha sido enviada exitosamente. ¡Gracias por ayudarnos a mejorar!"}),P({name:"",email:"",suggestion:"",category:""}),re(!1)}catch(t){console.error("Error al enviar sugerencia:",t),p({title:"Error",description:"Hubo un problema al enviar tu sugerencia. Por favor, inténtalo de nuevo.",variant:"destructive"})}},He=async s=>{s.preventDefault();try{if(!(await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({parkId:parseInt(U),formType:"propose_event",fullName:n.name,email:n.email,phone:n.phone||void 0,subject:`Propuesta de evento: ${n.eventName}`,message:n.description,eventType:n.eventType,suggestedDate:n.eventDate,expectedAttendance:n.expectedAttendees?parseInt(n.expectedAttendees):void 0})})).ok)throw new Error("Error al enviar la propuesta");p({title:"Propuesta enviada",description:"Tu propuesta de evento ha sido enviada exitosamente. Te contactaremos para coordinar los detalles."}),I({name:"",email:"",phone:"",eventName:"",eventType:"",expectedAttendees:"",eventDate:"",description:""}),le(!1)}catch(t){console.error("Error al enviar propuesta de evento:",t),p({title:"Error",description:"Hubo un problema al enviar tu propuesta. Por favor, inténtalo de nuevo.",variant:"destructive"})}};if(Le)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Cargando información del parque..."})]})});if(Re||!a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-600 mb-4",children:e.jsx(J,{className:"h-16 w-16 mx-auto"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Parque no encontrado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"No pudimos encontrar la información de este parque."}),e.jsx(b,{href:"/parks",children:e.jsxs(i,{children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Volver a parques"]})})]})});const Qe=((ye=a==null?void 0:a.images)==null?void 0:ye.some(s=>s.isPrimary))||!1,Y=a?a.primaryImage||(a.images&&a.images.length>0?a.images[0].imageUrl:"")||(a.images&&a.images.length>0?a.images[0].url:""):"",ne=((we=a==null?void 0:a.images)==null?void 0:we.filter((s,t)=>Qe?!s.isPrimary:t!==0))||[],E=[...Y?[{imageUrl:Y,caption:`Vista principal de ${(a==null?void 0:a.name)||"Parque"}`}]:[],...ne],fe=s=>s?qe(new Date(s),"EEEE, d 'de' MMMM 'de' yyyy • h:mm a",{locale:Pe}):"Fecha por confirmar",be=s=>({metropolitano:"Metropolitano",barrial:"Barrial",vecinal:"Vecinal",lineal:"Lineal",ecologico:"Ecológico",botanico:"Botánico",deportivo:"Deportivo",urbano:"Urbano",natural:"Natural",temático:"Temático"})[s]||s,Ye=s=>s===5||s===2||s===4||s===18;return e.jsx(ns,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[e.jsx(b,{href:"/parks",children:e.jsxs(i,{variant:"ghost",className:"mb-2",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Volver a parques"]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Parque Certificado con el"})]}),Ye(a.id)&&e.jsx("img",{src:Xe,alt:"Green Flag Award",className:"h-20 w-30 object-contain bg-white rounded-md p-2 shadow-lg border-2 border-green-500",title:"Green Flag Award - Parque Certificado"})]}),e.jsxs("p",{className:"text-gray-600 flex items-center mt-2",children:[e.jsx(W,{className:"h-4 w-4 mr-1"}),((Ce=a.municipality)==null?void 0:Ce.name)||"Guadalajara",", ",((Se=a.municipality)==null?void 0:Se.state)||"Jalisco"]})]})}),e.jsxs("div",{className:"relative h-96 overflow-hidden",children:[Y?e.jsx("img",{src:Y,alt:a.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-green-400 to-blue-500 flex items-center justify-center",children:e.jsx(k,{className:"h-24 w-24 text-white opacity-50"})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[e.jsx(j,{className:"bg-white/20 text-white border-white/30",children:be(a.parkType||"urbano")}),a.area&&e.jsx(j,{className:"bg-white/20 text-white border-white/30",children:Number(a.area)>=1e4?`${(Number(a.area)/1e4).toFixed(1)} hectáreas`:`${a.area} m²`}),a.foundationYear&&e.jsxs(j,{className:"bg-white/20 text-white border-white/30",children:["Est. ",a.foundationYear]})]})})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2 text-xl",children:[e.jsx(Ee,{className:"h-6 w-6 text-green-600"}),"Información General"]})}),e.jsxs(u,{children:[e.jsx("p",{className:"text-gray-700 leading-relaxed text-lg mb-6",children:a.description||"Espacio verde público destinado al esparcimiento y recreación de la comunidad."}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx(Ee,{className:"h-6 w-6 mx-auto mb-2 text-blue-600"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tipo"}),e.jsx("p",{className:"font-semibold",children:be(a.parkType||"urbano")})]}),a.area&&e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx(k,{className:"h-6 w-6 mx-auto mb-2 text-green-600"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Superficie"}),e.jsx("p",{className:"font-semibold",children:Number(a.area)>=1e4?`${(Number(a.area)/1e4).toFixed(1)} ha`:`${a.area} m²`})]}),a.foundationYear&&e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx(y,{className:"h-6 w-6 mx-auto mb-2 text-purple-600"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Fundado"}),e.jsx("p",{className:"font-semibold",children:a.foundationYear})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx(de,{className:"h-6 w-6 mx-auto mb-2 text-orange-600"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Horario"}),e.jsx("p",{className:"font-semibold",children:"7:00 - 19:30"})]})]})]})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2 text-xl",children:[e.jsx(k,{className:"h-6 w-6 text-green-600"}),"Amenidades del Parque"]})}),e.jsx(u,{children:a.amenities&&a.amenities.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:a.amenities.map(s=>e.jsxs("div",{className:"flex flex-col items-center p-4 bg-gray-50 rounded-lg border text-center",children:[e.jsx("div",{className:"w-20 h-20 flex items-center justify-center mb-3",children:s.iconType==="custom"&&s.customIconUrl?e.jsx("img",{src:s.customIconUrl,alt:s.name,className:"w-20 h-20 object-contain",onError:t=>{console.error("Error cargando icono:",s.customIconUrl),t.currentTarget.style.display="none"}}):e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(k,{className:"h-10 w-10 text-green-600"})})}),e.jsx("span",{className:"text-sm font-medium",children:s.name})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No hay amenidades registradas para este parque"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Parque ID: ",a.id," | Amenidades: ",a.amenities?"array definido":"undefined"]})]})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2 text-xl",children:[e.jsx(k,{className:"h-6 w-6 text-green-600"}),"Especies Arbóreas del Parque"]})}),e.jsx(u,{children:a.treeSpecies&&a.treeSpecies.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-4 gap-4",children:a.treeSpecies.slice(0,4).map(s=>e.jsxs("div",{className:"group cursor-pointer bg-white rounded-lg border border-green-200 hover:border-green-400 transition-all duration-300 overflow-hidden",onClick:()=>{const t=s.photoUrl||s.customPhotoUrl;t&&(je(t),ge(s))},children:[e.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[s.photoUrl||s.customPhotoUrl?e.jsx("img",{src:s.photoUrl||s.customPhotoUrl,alt:s.commonName,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center",children:e.jsx(ls,{iconType:s.iconType,customIconUrl:s.customIconUrl,size:64})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300"})]}),e.jsx("div",{className:"p-3 text-center",children:e.jsx("h4",{className:"font-semibold text-green-800 text-sm line-clamp-2",children:s.commonName})})]},s.id))}),e.jsx("div",{className:"text-center pt-4 border-t",children:e.jsx(b,{href:"/tree-species",children:e.jsxs(i,{variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-50",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Ver todas las especies"]})})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No hay especies arbóreas registradas para este parque"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Este parque aún no tiene especies arbóreas asignadas en el plan de arbolado."})]})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2 text-xl",children:[e.jsx(y,{className:"h-6 w-6 text-orange-600"}),"Actividades"]})}),e.jsxs(u,{children:[a.activities&&a.activities.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:a.activities.slice(0,3).map(s=>e.jsxs("div",{className:"group cursor-pointer bg-white rounded-lg border border-orange-200 hover:border-orange-400 transition-all duration-300 overflow-hidden",onClick:()=>{Ae(s),ae(!0)},children:[e.jsxs("div",{className:"aspect-[4/3] relative overflow-hidden",children:[s.imageUrl?e.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-orange-100 to-orange-200 flex items-center justify-center",children:e.jsx(y,{className:"h-16 w-16 text-orange-600 opacity-70"})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300"}),s.category&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(j,{variant:"secondary",className:"text-xs bg-white/90 text-orange-700 border-orange-300",children:s.category})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h4",{className:"font-semibold text-orange-800 text-sm line-clamp-2 mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(de,{className:"h-3 w-3 mr-1"}),fe(s.startDate)]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[e.jsx(y,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"No hay actividades programadas actualmente"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Próximamente se publicarán nuevos eventos"})]}),a.activities&&a.activities.length>0&&e.jsx("div",{className:"text-center pt-4 border-t mt-4",children:e.jsx(b,{href:"/activities",children:e.jsxs(i,{variant:"outline",className:"border-orange-300 text-orange-700 hover:bg-orange-50",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Ver todas las actividades"]})})})]})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5 text-blue-600"}),"Concesiones y Servicios"]})}),e.jsx(u,{children:a.concessions&&a.concessions.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.concessions.map(s=>e.jsx(b,{href:`/concession/${s.id}`,children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer hover:border-blue-300 group",children:[e.jsxs("div",{className:"relative h-40 overflow-hidden",children:[s.primaryImage?e.jsx("img",{src:s.primaryImage,alt:s.vendorName,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:e.jsx(z,{className:"h-12 w-12 text-white opacity-80"})}),s.concessionType&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(j,{variant:"secondary",className:"text-xs bg-white/90 text-blue-700 border-blue-300",children:s.concessionType})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(z,{className:"h-4 w-4 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:s.vendorName})]}),s.typeDescription&&e.jsx("p",{className:"text-gray-600 text-xs mb-2 line-clamp-2",children:s.typeDescription}),s.location&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-500 text-xs mb-2",children:[e.jsx(W,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:s.location})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(de,{className:"h-3 w-3"}),e.jsxs("span",{children:["Desde ",qe(new Date(s.startDate),"MMM yyyy",{locale:Pe})]})]}),s.vendorPhone&&e.jsx("span",{className:"text-blue-600 font-medium",children:s.vendorPhone})]})]})]})},s.id))}),e.jsx("div",{className:"text-center pt-4 border-t",children:e.jsx(b,{href:"/concessions",children:e.jsxs(i,{variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Ver todas las concesiones"]})})})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(z,{className:"h-8 w-8 text-blue-400 mx-auto mb-2"}),e.jsx("p",{className:"text-blue-600 text-sm",children:"No hay concesiones activas en este parque"})]})})]}),ne.length>0&&e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2 text-xl",children:[e.jsx(cs,{className:"h-6 w-6 text-indigo-600"}),"Galería de Imágenes (",ne.length+1,")"]})}),e.jsx(u,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[E.slice(0,8).map((s,t)=>e.jsxs("div",{className:"relative group overflow-hidden rounded-lg hover:shadow-lg transition-all cursor-pointer",onClick:()=>je(s.imageUrl),children:[e.jsx("img",{src:s.imageUrl,alt:s.caption||`Vista del parque ${t+1}`,className:"w-full h-32 object-cover transition-transform group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("div",{className:"bg-white/90 rounded-full p-2",children:e.jsx("svg",{className:"w-6 h-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})})}),s.caption&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white p-2 text-xs",children:s.caption})]},t)),E.length>8&&e.jsxs("div",{className:"w-full h-32 bg-gray-100 rounded-lg flex items-center justify-center text-gray-600 font-medium hover:bg-gray-200 cursor-pointer",children:["+",E.length-8," fotos más"]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[(a.administrator||a.contactPhone||a.contactEmail)&&e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5 text-blue-600"}),"Información de Contacto"]})}),e.jsxs(u,{className:"space-y-4",children:[a.administrator&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{className:"h-4 w-4 mr-3 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Administrador"}),e.jsx("p",{className:"font-medium",children:a.administrator})]})]}),a.contactPhone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ze,{className:"h-4 w-4 mr-3 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Teléfono"}),e.jsx("p",{className:"font-medium",children:a.contactPhone})]})]}),a.contactEmail&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(es,{className:"h-4 w-4 mr-3 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium",children:a.contactEmail})]})]})]})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5 text-blue-600"}),"Ubicación"]})}),e.jsxs(u,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Dirección"}),e.jsx("p",{className:"font-medium text-sm",children:a.address||"No especificada"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Municipio"}),e.jsxs("p",{className:"font-medium text-sm",children:[(Ie=a.municipality)==null?void 0:Ie.name,", ",(ke=a.municipality)==null?void 0:ke.state]})]}),e.jsx("div",{className:"rounded-lg overflow-hidden h-40 bg-gray-200",children:e.jsx("iframe",{title:`Mapa de ${a.name}`,className:"w-full h-full",src:`https://www.google.com/maps/embed/v1/place?key=AIzaSyDaqAAzVMAp-8OSbeOhV5pzwIo7cX509Io&q=${a.latitude},${a.longitude}`,allowFullScreen:!0})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{variant:"outline",size:"sm",className:"flex-1 text-xs",onClick:()=>{const s=`${a.latitude},${a.longitude}`,t=encodeURIComponent(`${a.name}, ${a.address}`);window.open(`https://www.google.com/maps/dir/?api=1&destination=${t}&destination_place_id=${s}`,"_blank")},children:[e.jsx(W,{className:"h-3 w-3 mr-1"}),"Cómo llegar"]}),e.jsxs(i,{variant:"outline",size:"sm",className:"flex-1 text-xs",onClick:()=>{const s=`${a.latitude},${a.longitude}`;window.open(`https://www.google.com/maps/@${s},17z`,"_blank")},children:[e.jsx(ss,{className:"h-3 w-3 mr-1"}),"Ver en Google Maps"]})]})]})]}),e.jsx("div",{className:"sticky top-4",children:e.jsx(xe,{spaceId:"2",position:"card",pageType:"parks"})}),a.treeStats&&a.treeStats.total>0&&e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5 text-green-600"}),"Arbolado Urbano"]})}),e.jsxs(u,{children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:a.treeStats.total}),e.jsx("p",{className:"text-sm text-gray-600",children:"Árboles registrados"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Buen estado"}),e.jsx("span",{className:"font-medium text-green-600",children:a.treeStats.good})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Estado regular"}),e.jsx("span",{className:"font-medium text-yellow-600",children:a.treeStats.regular})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Mal estado"}),e.jsx("span",{className:"font-medium text-red-600",children:a.treeStats.bad})]})]})]})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsx(h,{children:"Acciones"})}),e.jsxs(u,{className:"space-y-3",children:[e.jsxs(O,{open:$e,onOpenChange:pe,children:[e.jsx(V,{asChild:!0,children:e.jsxs(i,{className:"w-full",variant:"default",children:[e.jsx(as,{className:"h-4 w-4 mr-2"}),"Compartir este parque"]})}),e.jsxs(L,{children:[e.jsxs(R,{children:[e.jsxs(_,{children:["Compartir ",a==null?void 0:a.name]}),e.jsx(B,{children:"Comparte este parque con tus amigos y familiares"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["URL del parque: ",window.location.href]}),e.jsx(i,{onClick:_e,className:"w-full",children:navigator.share?"Compartir":"Copiar enlace"})]})]})]}),e.jsxs(O,{open:ze,onOpenChange:te,children:[e.jsx(V,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"w-full",children:[e.jsx(ts,{className:"h-4 w-4 mr-2"}),"Reportar un problema"]})}),e.jsxs(L,{className:"max-w-md",children:[e.jsxs(R,{children:[e.jsx(_,{children:"Reportar un problema"}),e.jsxs(B,{children:["Cuéntanos qué problema has encontrado en ",a==null?void 0:a.name]})]}),e.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"report-name",children:"Nombre completo"}),e.jsx(w,{id:"report-name",value:o.name,onChange:s=>T({...o,name:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"report-email",children:"Correo electrónico"}),e.jsx(w,{id:"report-email",type:"email",value:o.email,onChange:s=>T({...o,email:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"report-phone",children:"Teléfono (opcional)"}),e.jsx(w,{id:"report-phone",value:o.phone,onChange:s=>T({...o,phone:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"issue-type",children:"Tipo de problema"}),e.jsxs(K,{value:o.issueType,onValueChange:s=>T({...o,issueType:s}),children:[e.jsx(X,{children:e.jsx(Z,{placeholder:"Selecciona el tipo de problema"})}),e.jsxs(ee,{children:[e.jsx(c,{value:"infraestructura",children:"Infraestructura dañada"}),e.jsx(c,{value:"limpieza",children:"Problema de limpieza"}),e.jsx(c,{value:"seguridad",children:"Seguridad"}),e.jsx(c,{value:"iluminacion",children:"Iluminación"}),e.jsx(c,{value:"vandalismo",children:"Vandalismo"}),e.jsx(c,{value:"otro",children:"Otro"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"urgency",children:"Urgencia"}),e.jsxs(K,{value:o.urgency,onValueChange:s=>T({...o,urgency:s}),children:[e.jsx(X,{children:e.jsx(Z,{})}),e.jsxs(ee,{children:[e.jsx(c,{value:"baja",children:"Baja"}),e.jsx(c,{value:"media",children:"Media"}),e.jsx(c,{value:"alta",children:"Alta"}),e.jsx(c,{value:"urgente",children:"Urgente"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"description",children:"Descripción del problema"}),e.jsx(he,{id:"description",value:o.description,onChange:s=>T({...o,description:s.target.value}),placeholder:"Describe detalladamente el problema...",required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>te(!1),className:"flex-1",children:"Cancelar"}),e.jsx(i,{type:"submit",className:"flex-1",children:"Enviar reporte"})]})]})]})]}),e.jsxs(O,{open:Oe,onOpenChange:re,children:[e.jsx(V,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"w-full",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Sugerir mejoras"]})}),e.jsxs(L,{className:"max-w-md",children:[e.jsxs(R,{children:[e.jsx(_,{children:"Sugerir mejoras"}),e.jsxs(B,{children:["Comparte tus ideas para mejorar ",a==null?void 0:a.name]})]}),e.jsxs("form",{onSubmit:Ge,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"suggestion-name",children:"Nombre completo"}),e.jsx(w,{id:"suggestion-name",value:v.name,onChange:s=>P({...v,name:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"suggestion-email",children:"Correo electrónico"}),e.jsx(w,{id:"suggestion-email",type:"email",value:v.email,onChange:s=>P({...v,email:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"suggestion-category",children:"Categoría"}),e.jsxs(K,{value:v.category,onValueChange:s=>P({...v,category:s}),children:[e.jsx(X,{children:e.jsx(Z,{placeholder:"Selecciona una categoría"})}),e.jsxs(ee,{children:[e.jsx(c,{value:"amenidades",children:"Nuevas amenidades"}),e.jsx(c,{value:"actividades",children:"Actividades y eventos"}),e.jsx(c,{value:"accesibilidad",children:"Accesibilidad"}),e.jsx(c,{value:"paisajismo",children:"Paisajismo y jardinería"}),e.jsx(c,{value:"deportes",children:"Instalaciones deportivas"}),e.jsx(c,{value:"general",children:"General"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"suggestion-text",children:"Tu sugerencia"}),e.jsx(he,{id:"suggestion-text",value:v.suggestion,onChange:s=>P({...v,suggestion:s.target.value}),placeholder:"Describe tu idea para mejorar este parque...",required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>re(!1),className:"flex-1",children:"Cancelar"}),e.jsx(i,{type:"submit",className:"flex-1",children:"Enviar sugerencia"})]})]})]})]}),e.jsxs(O,{open:Ve,onOpenChange:le,children:[e.jsx(V,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"w-full",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Proponer evento"]})}),e.jsxs(L,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsxs(R,{children:[e.jsx(_,{children:"Proponer un evento"}),e.jsxs(B,{children:["Propón un evento para realizarse en ",a==null?void 0:a.name]})]}),e.jsxs("form",{onSubmit:He,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"event-name",children:"Nombre completo"}),e.jsx(w,{id:"event-name",value:n.name,onChange:s=>I({...n,name:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"event-email",children:"Correo electrónico"}),e.jsx(w,{id:"event-email",type:"email",value:n.email,onChange:s=>I({...n,email:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"event-phone",children:"Teléfono"}),e.jsx(w,{id:"event-phone",value:n.phone,onChange:s=>I({...n,phone:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"event-event-name",children:"Nombre del evento"}),e.jsx(w,{id:"event-event-name",value:n.eventName,onChange:s=>I({...n,eventName:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"event-type",children:"Tipo de evento"}),e.jsxs(K,{value:n.eventType,onValueChange:s=>I({...n,eventType:s}),children:[e.jsx(X,{children:e.jsx(Z,{placeholder:"Selecciona el tipo de evento"})}),e.jsxs(ee,{children:[e.jsx(c,{value:"cultural",children:"Cultural"}),e.jsx(c,{value:"deportivo",children:"Deportivo"}),e.jsx(c,{value:"social",children:"Social"}),e.jsx(c,{value:"educativo",children:"Educativo"}),e.jsx(c,{value:"benefico",children:"Benéfico"}),e.jsx(c,{value:"empresarial",children:"Empresarial"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"expected-attendees",children:"Asistentes esperados"}),e.jsx(w,{id:"expected-attendees",type:"number",value:n.expectedAttendees,onChange:s=>I({...n,expectedAttendees:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"event-date",children:"Fecha propuesta"}),e.jsx(w,{id:"event-date",type:"date",value:n.eventDate,onChange:s=>I({...n,eventDate:s.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"event-description",children:"Descripción del evento"}),e.jsx(he,{id:"event-description",value:n.description,onChange:s=>I({...n,description:s.target.value}),placeholder:"Describe tu evento...",required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>le(!1),className:"flex-1",children:"Cancelar"}),e.jsx(i,{type:"submit",className:"flex-1",children:"Enviar propuesta"})]})]})]})]})]})]}),e.jsxs(m,{className:"bg-white border-2 border-green-500",children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2 text-green-800",children:[e.jsx(y,{className:"h-5 w-5"}),"¡Realiza tu evento aquí!"]})}),e.jsxs(u,{children:[e.jsx("p",{className:"text-sm text-green-700 mb-4",children:"Organiza tu evento en este parque. Tenemos opciones para eventos de bajo y alto impacto."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{href:"/admin/eventos-ambu/solicitud-bajo-impacto",children:e.jsxs(i,{variant:"outline",className:"w-full bg-white hover:bg-green-50 text-green-700 border-green-300 hover:border-green-400",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Solicitud de evento de bajo impacto"]})}),e.jsx(b,{href:"/admin/eventos-ambu/solicitud-alto-impacto",children:e.jsxs(i,{variant:"outline",className:"w-full bg-white hover:bg-green-50 text-green-700 border-green-300 hover:border-green-400",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Solicitud de evento de alto impacto"]})})]})]})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5 text-purple-600"}),"Instructores"]})}),e.jsx(u,{children:a.instructors&&a.instructors.length>0?e.jsxs("div",{className:"space-y-3",children:[a.instructors.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg border border-purple-200",children:[s.profileImageUrl?e.jsx("img",{src:s.profileImageUrl,alt:s.fullName,className:"w-12 h-12 rounded-full object-cover flex-shrink-0"}):e.jsx("div",{className:"w-12 h-12 bg-purple-200 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(G,{className:"h-6 w-6 text-purple-600"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-purple-900 text-sm line-clamp-2",children:s.fullName}),s.specialties&&e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:s.specialties.split(",").slice(0,2).map((t,F)=>e.jsx(j,{variant:"outline",className:"text-xs border-purple-300 text-purple-700",children:t.trim()},F))})}),s.experienceYears&&e.jsxs("p",{className:"text-purple-600 text-xs mt-1",children:[s.experienceYears," años de experiencia"]}),s.averageRating&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(t=>e.jsx("span",{className:`text-xs ${t<=Math.floor(s.averageRating)?"text-yellow-400":"text-gray-300"}`,children:"★"},t))}),e.jsxs("span",{className:"text-xs text-purple-600",children:[s.averageRating,"/5"]})]}),e.jsx("div",{className:"mt-3 space-y-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{href:`/instructor/${s.id}`,children:e.jsxs(i,{size:"sm",variant:"outline",className:"text-xs border-purple-300 text-purple-700 hover:bg-purple-50 flex-1",children:[e.jsx(me,{className:"h-3 w-3 mr-1"}),"Ver perfil"]})}),e.jsxs(O,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(i,{size:"sm",variant:"outline",className:"text-xs border-green-300 text-green-700 hover:bg-green-50 flex-1",onClick:()=>D(s),children:[e.jsx(De,{className:"h-3 w-3 mr-1"}),"Evaluar"]})}),e.jsxs(L,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","aria-describedby":"evaluation-description",children:[e.jsxs(R,{children:[e.jsx(_,{children:"Evaluar Instructor"}),e.jsxs(B,{id:"evaluation-description",children:["Comparte tu experiencia con ",s.fullName," para ayudar a otros visitantes."]})]}),e.jsx(is,{instructorId:s.id,instructorName:s.fullName,onSuccess:()=>{}})]})]})]})})]})})})]},s.id)),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(b,{href:"/instructors",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-[#00a587] to-[#067f5f] text-white font-medium rounded-lg hover:from-[#067f5f] hover:to-[#00a587] transition-all duration-300 shadow-md hover:shadow-lg",children:[e.jsx(G,{className:"mr-2 h-5 w-5"}),"Conoce a nuestro equipo"]})})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(G,{className:"h-8 w-8 text-purple-400 mx-auto mb-2"}),e.jsx("p",{className:"text-purple-600 text-sm",children:"No hay instructores asignados a este parque"})]})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-green-600"}),"Voluntarios Activos"]})}),e.jsx(u,{children:a.volunteers&&a.volunteers.length>0?e.jsxs("div",{className:"space-y-3",children:[a.volunteers.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg border",children:[s.profileImageUrl?e.jsx("img",{src:s.profileImageUrl,alt:s.fullName,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 bg-green-200 rounded-full flex items-center justify-center",children:e.jsx(se,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-green-900 text-sm",children:s.fullName}),s.skills&&e.jsx("p",{className:"text-green-700 text-xs mt-1",children:s.skills}),s.interestAreas&&e.jsx("p",{className:"text-green-600 text-xs mt-1",children:s.interestAreas})]})]},s.id)),e.jsx("div",{className:"text-center pt-4 border-t",children:e.jsx(b,{href:"/volunteers",children:e.jsxs(i,{variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-50",children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Ver todos los voluntarios"]})})})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(se,{className:"h-8 w-8 text-green-400 mx-auto mb-2"}),e.jsx("p",{className:"text-green-600 text-sm mb-1",children:"¡Únete como voluntario!"}),e.jsx("p",{className:"text-green-500 text-xs",children:"Ayuda a cuidar este espacio verde"})]})})]}),e.jsx(ds,{parkId:a.id,parkSlug:C||""}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2 text-xl",children:[e.jsx(J,{className:"h-6 w-6 text-gray-600"}),"Documentos y Reglamentos"]})}),e.jsx(u,{children:a.documents&&a.documents.length>0?e.jsx("div",{className:"space-y-3",children:a.documents.map(s=>{var t;return e.jsxs("a",{href:s.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 border rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all",children:[e.jsx(J,{className:`h-8 w-8 mr-4 ${(t=s.fileType)!=null&&t.includes("pdf")?"text-red-500":"text-blue-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.title}),e.jsx("p",{className:"text-sm text-gray-500",children:s.type}),s.fileSize&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.fileSize})]}),e.jsx(rs,{className:"h-5 w-5 text-gray-400"})]},s.id)})}):e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[e.jsx(J,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-500",children:"No hay documentos disponibles"})]})})]}),e.jsx("div",{className:"sticky top-4",children:e.jsx(xe,{spaceId:"30",position:"card",pageType:"park-landing"})})]})]})}),e.jsx("div",{className:"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] my-8",children:e.jsx(xe,{spaceId:"33",position:"banner",pageType:"park-landing",className:"w-full"})}),Q&&N&&e.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:ie,children:e.jsxs("div",{className:"relative max-w-7xl max-h-full flex",onClick:s=>s.stopPropagation(),children:[e.jsx("button",{onClick:ie,className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),E.length>1&&!l&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:ve,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 z-10",children:e.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:Ne,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 z-10",children:e.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"flex-1",children:e.jsx("img",{src:N,alt:l?l.commonName:"Vista ampliada del parque",className:"max-w-full max-h-full object-contain"})}),l&&e.jsx("div",{className:"w-80 bg-white/95 backdrop-blur-sm p-6 overflow-y-auto max-h-full",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:l.commonName}),e.jsx("p",{className:"text-lg text-green-600 italic",children:l.scientificName})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(j,{variant:"outline",className:"border-green-300 text-green-700",children:l.family}),e.jsx(j,{variant:l.origin==="Nativo"?"default":"secondary",children:l.origin}),l.isEndangered&&e.jsx(j,{variant:"destructive",children:"Amenazada"})]}),l.status&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Estado:"}),e.jsx(j,{className:l.status==="establecido"?"bg-green-100 text-green-800":l.status==="en_desarrollo"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800",children:l.status==="establecido"?"Establecido":l.status==="en_desarrollo"?"En Desarrollo":"Planificado"})]}),(l.currentQuantity>0||l.recommendedQuantity>0)&&e.jsxs("div",{className:"space-y-2",children:[l.currentQuantity>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Plantados:"}),e.jsx("span",{className:"font-medium text-green-700",children:l.currentQuantity})]}),l.recommendedQuantity>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Meta:"}),e.jsx("span",{className:"font-medium text-blue-700",children:l.recommendedQuantity})]})]}),l.plantingZone&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Zona de plantación:"}),e.jsx("span",{className:"font-medium",children:l.plantingZone})]}),l.photoCaption&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800",children:l.photoCaption})})]})]})}),E.length>1&&!l&&e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white bg-black/60 px-3 py-1 rounded-full text-sm",children:[E.findIndex(s=>s.imageUrl===N)+1," de ",E.length]})]})}),Me&&r&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",onClick:()=>ae(!1),children:e.jsx("div",{className:"relative max-w-5xl max-h-[90vh] w-full mx-4 bg-white rounded-lg overflow-hidden shadow-2xl",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:"flex-1 relative",children:[r.imageUrl?e.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-orange-100 to-orange-200 flex items-center justify-center",children:e.jsx(y,{className:"h-32 w-32 text-orange-600 opacity-70"})}),e.jsx("button",{onClick:()=>ae(!1),className:"absolute top-4 right-4 bg-black/60 text-white rounded-full p-2 hover:bg-black/80 transition-all",children:"✕"})]}),e.jsx("div",{className:"w-80 bg-white p-6 overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-orange-800 mb-2",children:r.title}),r.category&&e.jsx(j,{className:"bg-orange-100 text-orange-800 border-orange-300",children:r.category})]}),r.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Descripción"}),e.jsx("p",{className:"text-sm text-gray-700",children:r.description})]}),e.jsxs("div",{className:"space-y-3",children:[r.startDate&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Fecha:"}),e.jsx("span",{className:"font-medium text-orange-700",children:fe(r.startDate)})]}),r.startTime&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Hora:"}),e.jsx("span",{className:"font-medium",children:r.startTime})]}),r.location&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Ubicación:"}),e.jsx("span",{className:"font-medium",children:r.location})]}),r.capacity&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Capacidad:"}),e.jsxs("span",{className:"font-medium",children:[r.capacity," personas"]})]}),r.duration&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Duración:"}),e.jsxs("span",{className:"font-medium",children:[r.duration," minutos"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Precio:"}),r.price&&Number(r.price)>0?e.jsxs(j,{variant:"outline",className:"text-yellow-700 border-yellow-300",children:["$",Number(r.price).toFixed(2)," MXN"]}):e.jsx(j,{className:"bg-green-100 text-green-700 border-green-300",children:"Gratuita"})]})]}),r.requirements&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Requisitos"}),e.jsx("p",{className:"text-sm text-gray-700",children:r.requirements})]}),r.materials&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Materiales incluidos"}),e.jsx("p",{className:"text-sm text-gray-700",children:r.materials})]}),r.instructorName&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Instructor"}),e.jsx("p",{className:"text-sm text-gray-700",children:r.instructorName})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(i,{className:"w-full bg-orange-600 hover:bg-orange-700 text-white",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Inscribirse a la actividad"]})})]})})]})})})]})})}export{vs as default};
