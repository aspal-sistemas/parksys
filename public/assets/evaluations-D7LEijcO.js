import{e as pe,a6 as Ne,Y as c,ai as Y,u as A,a8 as be,j as e,aI as ye,aO as fe,aP as we,aQ as M,Q as Z,b6 as ee,aK as _e,aR as I,B as i,_ as Se,$ as Ce,W as Ee,y as P,I as Pe,z as se,H as ae,J as te,K as re,N,C as b,b7 as D,a9 as V,at as Fe,au as ke,c as S,f as qe,S as ie,a as le,b as ne,D as ce,p as Le,r as de,t as oe,v as me,O as Te,b8 as ze,aH as Re,aL as Ae,b9 as Me,M as Ie,h as De,U as Ve,aE as Be,i as Oe}from"./index-Dzu3mJf5.js";import{C as B}from"./circle-x-C53LJYQf.js";const O=({status:a})=>{const l={pending:{icon:Oe,color:"bg-yellow-100 text-yellow-800",text:"Pendiente"},approved:{icon:V,color:"bg-green-100 text-green-800",text:"Aprobada"},rejected:{icon:B,color:"bg-red-100 text-red-800",text:"Rechazada"}}[a],d=l.icon;return e.jsxs(qe,{className:l.color,children:[e.jsx(d,{className:"h-3 w-3 mr-1"}),l.text]})},u=({rating:a})=>e.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(h=>e.jsx(ie,{className:`h-4 w-4 ${h<=a?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},h)),e.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",a,")"]})]}),$e=({evaluation:a,onModerate:h,onViewDetails:l})=>{const[d,x]=c.useState(!1),[j,n]=c.useState(""),y=p=>{h(a.id,p,j),x(!1),n("")};return e.jsxs(b,{className:"mb-4",children:[e.jsx(le,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(ne,{className:"text-lg",children:a.park_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Por ",a.evaluator_name," • ",new Date(a.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{rating:a.overall_rating}),e.jsx(O,{status:a.status})]})]})}),e.jsxs(S,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Limpieza"}),e.jsx(u,{rating:a.cleanliness})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Seguridad"}),e.jsx(u,{rating:a.safety})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Mantenimiento"}),e.jsx(u,{rating:a.maintenance})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Accesibilidad"}),e.jsx(u,{rating:a.accessibility})]})]}),a.comments&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Comentarios:"}),e.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',a.comments,'"']})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["📍 ",a.evaluator_city]}),e.jsxs("span",{children:["👤 ",a.evaluator_age," años"]}),a.would_recommend&&e.jsx("span",{className:"text-green-600",children:"✓ Recomendado"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{size:"sm",variant:"outline",onClick:()=>l(a),className:"text-blue-600 hover:bg-blue-50",children:[e.jsx(D,{className:"h-4 w-4 mr-1"}),"Ver detalles"]}),a.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{size:"sm",variant:"outline",className:"bg-green-50 hover:bg-green-100 text-green-700",onClick:()=>y("approved"),children:[e.jsx(V,{className:"h-4 w-4 mr-1"}),"Aprobar"]}),e.jsxs(ce,{open:d,onOpenChange:x,children:[e.jsx(Le,{asChild:!0,children:e.jsxs(i,{size:"sm",variant:"outline",className:"bg-red-50 hover:bg-red-100 text-red-700",children:[e.jsx(B,{className:"h-4 w-4 mr-1"}),"Rechazar"]})}),e.jsxs(de,{children:[e.jsx(oe,{children:e.jsx(me,{children:"Rechazar Evaluación"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(P,{htmlFor:"notes",children:"Notas de moderación (opcional):"}),e.jsx(Te,{id:"notes",value:j,onChange:p=>n(p.target.value),placeholder:"Explique por qué se rechaza esta evaluación...",className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(i,{variant:"destructive",onClick:()=>y("rejected"),children:"Rechazar"})]})]})]})]})]})]})]})]})]})},Ke=({park:a})=>e.jsxs(b,{children:[e.jsx(le,{children:e.jsx(ne,{className:"text-lg",children:a.park_name})}),e.jsxs(S,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.average_rating.toFixed(1)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Calificación promedio"}),e.jsx(u,{rating:Math.round(a.average_rating)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.total_evaluations}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total evaluaciones"})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Recomendaciones:"}),e.jsxs("div",{className:"font-semibold",children:[a.recommendation_rate,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Pendientes:"}),e.jsx("div",{className:"font-semibold text-yellow-600",children:a.pending_evaluations})]})]})]})]}),Ue=({evaluation:a,onClose:h})=>{const l=[{key:"cleanliness",label:"Limpieza",icon:ze,color:"text-blue-600"},{key:"safety",label:"Seguridad",icon:Re,color:"text-green-600"},{key:"maintenance",label:"Mantenimiento",icon:Ae,color:"text-orange-600"},{key:"accessibility",label:"Accesibilidad",icon:Me,color:"text-purple-600"},{key:"amenities",label:"Amenidades",icon:Ie,color:"text-red-600"},{key:"activities",label:"Actividades",icon:De,color:"text-indigo-600"},{key:"staff",label:"Personal",icon:Ve,color:"text-teal-600"},{key:"natural_beauty",label:"Belleza Natural",icon:Be,color:"text-green-500"}];return e.jsx(ce,{open:!0,onOpenChange:h,children:e.jsxs(de,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(oe,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Detalle de Evaluación"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Información del Evaluador"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nombre:"})," ",a.evaluator_name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",a.evaluator_email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Ciudad:"})," ",a.evaluator_city]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Edad:"})," ",a.evaluator_age," años"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Visitante frecuente:"})," ",a.is_frequent_visitor?"Sí":"No"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Información de la Visita"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Parque:"})," ",a.park_name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Fecha:"})," ",new Date(a.visit_date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Propósito:"})," ",a.visit_purpose]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Duración:"})," ",a.visit_duration," minutos"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Recomendaría:"})," ",a.would_recommend?"Sí":"No"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Criterios de Evaluación"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.map(d=>{const x=d.icon,j=a[d.key];return e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[e.jsx(x,{className:`h-5 w-5 ${d.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(u,{rating:j}),e.jsxs("span",{className:"text-sm text-gray-600",children:[j,"/5"]})]})]})]},d.key)})})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5 text-yellow-500"}),"Calificación General"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u,{rating:a.overall_rating}),e.jsxs("span",{className:"text-xl font-bold",children:[a.overall_rating,"/5"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[a.comments&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Comentarios"}),e.jsxs("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg italic",children:['"',a.comments,'"']})]}),a.suggestions&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Sugerencias"}),e.jsx("p",{className:"text-gray-700 bg-blue-50 p-3 rounded-lg",children:a.suggestions})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Estado de Moderación"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{status:a.status}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Evaluado el ",new Date(a.created_at).toLocaleDateString()]})]})]})]})]})})};function Xe(){var H,W,J;const{toast:a}=pe(),h=Ne(),[l,d]=c.useState("all"),[x,j]=c.useState("all"),[n,y]=c.useState(""),[p,$]=c.useState("grid");c.useState("grid");const[o,f]=c.useState(1),[xe,he]=c.useState(1),[K,F]=c.useState(null),w=10;c.useEffect(()=>{Y("/api/park-evaluations/init",{method:"POST"}).catch(()=>{})},[]);const{data:m,isLoading:ge,error:Ge}=A({queryKey:["/api/park-evaluations",l,x,n,o],queryFn:async()=>{const s=new URLSearchParams({status:l,parkId:x,page:o.toString(),limit:w.toString()});n&&n.trim()!==""&&s.append("search",n.trim());const r=await fetch(`/api/park-evaluations?${s.toString()}`);if(!r.ok)throw new Error("Failed to fetch evaluations");return await r.json()}}),{data:k,error:Qe}=A({queryKey:["/api/park-evaluations/summary"],queryFn:async()=>{const s=await fetch("/api/park-evaluations/summary");if(!s.ok)throw new Error("Failed to fetch summary");return await s.json()}}),{data:C,error:He}=A({queryKey:["/api/parks"],queryFn:async()=>{const s=await fetch("/api/parks");if(!s.ok)throw new Error("Failed to fetch parks");return await s.json()}}),ue=be({mutationFn:({id:s,status:r,notes:g})=>Y(`/api/park-evaluations/${s}/moderate`,{method:"PATCH",body:{status:r,moderationNotes:g}}),onSuccess:()=>{a({title:"Evaluación moderada",description:"La evaluación ha sido moderada exitosamente."}),h.invalidateQueries({queryKey:["/api/park-evaluations"]}),h.invalidateQueries({queryKey:["/api/park-evaluations/summary"]})},onError:s=>{a({title:"Error",description:"No se pudo moderar la evaluación.",variant:"destructive"})}}),q=(s,r,g)=>{ue.mutate({id:s,status:r,notes:g})},E=(m==null?void 0:m.evaluations)||[],L=(k==null?void 0:k.parks)||[],T=(C==null?void 0:C.parks)||C||[],U=((H=m==null?void 0:m.pagination)==null?void 0:H.total)||0,_=((W=m==null?void 0:m.pagination)==null?void 0:W.pages)||1;(J=m==null?void 0:m.pagination)!=null&&J.page;const je=async()=>{try{const s=await fetch("/api/park-evaluations/statistics-export");if(!s.ok)throw new Error("Error al obtener estadísticas");const r=await s.json(),g=ve(r),R=new Blob([g],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),X=URL.createObjectURL(R);v.setAttribute("href",X),v.setAttribute("download",`estadisticas-evaluaciones-${new Date().toISOString().split("T")[0]}.csv`),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v),a({title:"Exportación exitosa",description:"Las estadísticas se han exportado correctamente."})}catch(s){console.error("Error al exportar estadísticas:",s),a({title:"Error",description:"Error al exportar las estadísticas. Intenta nuevamente.",variant:"destructive"})}},ve=s=>{const r=["Parque","Total Evaluaciones","Evaluaciones Aprobadas","Evaluaciones Pendientes","Evaluaciones Rechazadas","Promedio General","Promedio Limpieza","Promedio Seguridad","Promedio Mantenimiento","Promedio Accesibilidad","Promedio Amenidades","Promedio Actividades","Promedio Personal","Promedio Belleza Natural","Tasa de Recomendación (%)","Visitantes Frecuentes","Edad Promedio Evaluadores","Última Evaluación"],g=s.parkStats.map(t=>[`"${t.park_name}"`,t.total_evaluations||0,t.approved_evaluations||0,t.pending_evaluations||0,t.rejected_evaluations||0,t.average_overall_rating?Number(t.average_overall_rating).toFixed(2):"0.00",t.average_cleanliness?Number(t.average_cleanliness).toFixed(2):"0.00",t.average_safety?Number(t.average_safety).toFixed(2):"0.00",t.average_maintenance?Number(t.average_maintenance).toFixed(2):"0.00",t.average_accessibility?Number(t.average_accessibility).toFixed(2):"0.00",t.average_amenities?Number(t.average_amenities).toFixed(2):"0.00",t.average_activities?Number(t.average_activities).toFixed(2):"0.00",t.average_staff?Number(t.average_staff).toFixed(2):"0.00",t.average_natural_beauty?Number(t.average_natural_beauty).toFixed(2):"0.00",t.recommendation_rate?Number(t.recommendation_rate).toFixed(1):"0.0",t.frequent_visitors||0,t.average_age?Number(t.average_age).toFixed(1):"0.0",t.last_evaluation?new Date(t.last_evaluation).toLocaleDateString():"N/A"]),R=["","=== RESUMEN GENERAL ===","","","","","","","","","","","","","","","",""],v=[["Total Sistema",s.generalStats.total_evaluations||0,s.generalStats.approved_evaluations||0,s.generalStats.pending_evaluations||0,s.generalStats.rejected_evaluations||0,s.generalStats.system_average?Number(s.generalStats.system_average).toFixed(2):"0.00"],["Promedio Edad","","","","","","","","","","","","","","","",s.generalStats.average_age?Number(s.generalStats.average_age).toFixed(1):"0.0"],["Parques Evaluados",s.generalStats.parks_with_evaluations||0,"","","","","","","","","","","","","","",""],["Tasa Aprobación (%)","","","","","","","","","","","","","",s.generalStats.approval_rate?Number(s.generalStats.approval_rate).toFixed(1):"0.0"]];return[r,...g,R,...v].map(t=>t.join(",")).join(`
`)};c.useEffect(()=>{f(1)},[l,x,n]),c.useEffect(()=>{he(1)},[n]);const G=L.filter(s=>n===""||s.park_name.toLowerCase().includes(n.toLowerCase()));G.length;const Q=(xe-1)*w;G.slice(Q,Q+w);const z=E;return e.jsxs(ye,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Evaluaciones de Parques"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Gestiona las evaluaciones ciudadanas de los parques"})]})}),e.jsxs(fe,{defaultValue:"evaluations",className:"w-full",children:[e.jsxs(we,{className:"grid w-full grid-cols-3",children:[e.jsxs(M,{value:"evaluations",className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"Evaluaciones"]}),e.jsxs(M,{value:"summary",className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4"}),"Resumen por Parque"]}),e.jsxs(M,{value:"stats",className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-4 w-4"}),"Estadísticas"]})]}),e.jsxs(I,{value:"evaluations",className:"space-y-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{variant:p==="grid"?"default":"outline",size:"sm",onClick:()=>$("grid"),children:e.jsx(Se,{className:"h-4 w-4"})}),e.jsx(i,{variant:p==="list"?"default":"outline",size:"sm",onClick:()=>$("list"),children:e.jsx(Ce,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(i,{variant:"outline",size:"sm",onClick:je,children:[e.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Exportar"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(P,{htmlFor:"search",children:"Buscar"}),e.jsx(Pe,{id:"search",placeholder:"Buscar evaluador, parque o ciudad...",value:n,onChange:s=>y(s.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(P,{htmlFor:"status-filter",children:"Estado"}),e.jsxs(se,{value:l,onValueChange:d,children:[e.jsx(ae,{className:"mt-1",children:e.jsx(te,{placeholder:"Todos los estados"})}),e.jsxs(re,{children:[e.jsx(N,{value:"all",children:"Todos los estados"}),e.jsx(N,{value:"pending",children:"Pendientes"}),e.jsx(N,{value:"approved",children:"Aprobadas"}),e.jsx(N,{value:"rejected",children:"Rechazadas"})]})]})]}),e.jsxs("div",{children:[e.jsx(P,{htmlFor:"park-filter",children:"Parque"}),e.jsxs(se,{value:x,onValueChange:j,children:[e.jsx(ae,{className:"mt-1",children:e.jsx(te,{placeholder:"Todos los parques"})}),e.jsxs(re,{children:[e.jsx(N,{value:"all",children:"Todos los parques"}),T&&Array.isArray(T)&&T.map(s=>e.jsx(N,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(i,{variant:"outline",onClick:()=>{y(""),d("all"),j("all"),f(1)},className:"w-full",children:"Limpiar Filtros"})})]})]})}),e.jsx("div",{className:"space-y-4",children:ge?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando evaluaciones..."})]}):z.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"No hay evaluaciones disponibles"}),e.jsx("p",{className:"text-gray-500 mt-2",children:n||l!=="all"||x!=="all"?"Intenta ajustar los filtros para ver más resultados.":"Las evaluaciones ciudadanas aparecerán aquí cuando se registren."})]}):e.jsxs(e.Fragment,{children:[p==="grid"?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:z.map(s=>e.jsx($e,{evaluation:s,onModerate:q,onViewDetails:F},s.id))}):e.jsx("div",{className:"space-y-3",children:z.map(s=>e.jsx(b,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.evaluator_name}),e.jsx("div",{className:"text-sm text-gray-600",children:s.park_name})]}),e.jsx(u,{rating:s.overall_rating}),e.jsx(O,{status:s.status})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()}),e.jsx(i,{size:"sm",variant:"outline",onClick:()=>F(s),className:"text-blue-600 hover:bg-blue-50",children:e.jsx(D,{className:"h-4 w-4"})}),s.status==="pending"&&e.jsxs("div",{className:"flex gap-1",children:[e.jsx(i,{size:"sm",variant:"outline",className:"bg-green-50 hover:bg-green-100 text-green-700",onClick:()=>q(s.id,"approved"),children:e.jsx(V,{className:"h-4 w-4"})}),e.jsx(i,{size:"sm",variant:"outline",className:"bg-red-50 hover:bg-red-100 text-red-700",onClick:()=>q(s.id,"rejected"),children:e.jsx(B,{className:"h-4 w-4"})})]})]})]})},s.id))}),_>1&&e.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Página ",o," de ",_," - Mostrando ",(o-1)*w+1,"-",Math.min(o*w,U)," de ",U," evaluaciones"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>f(o-1),disabled:o===1,children:[e.jsx(Fe,{className:"h-4 w-4"}),"Anterior"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:_},(s,r)=>r+1).filter(s=>s===1||s===_||Math.abs(s-o)<=2).map((s,r,g)=>e.jsxs("div",{className:"flex items-center gap-1",children:[r>0&&g[r-1]!==s-1&&e.jsx("span",{className:"text-gray-500",children:"..."}),e.jsx(i,{variant:s===o?"default":"outline",size:"sm",onClick:()=>f(s),className:s===o?"bg-green-600 hover:bg-green-700":"",children:s})]},`page-${s}`))}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>f(o+1),disabled:o===_,children:["Siguiente",e.jsx(ke,{className:"h-4 w-4"})]})]})]})]})})]}),e.jsx(I,{value:"summary",className:"space-y-6",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Resumen por Parque"}),L.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ee,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"No hay datos de resumen disponibles"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Los resúmenes aparecerán cuando haya evaluaciones registradas."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(s=>e.jsx(Ke,{park:s},s.park_id))})]})}),e.jsx(I,{value:"stats",className:"space-y-6",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Estadísticas Generales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(b,{children:e.jsx(S,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:E.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Evaluaciones"})]})})}),e.jsx(b,{children:e.jsx(S,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:E.filter(s=>s.status==="approved").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Aprobadas"})]})})}),e.jsx(b,{children:e.jsx(S,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:E.filter(s=>s.status==="pending").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pendientes"})]})})})]})]})})]})]})}),K&&e.jsx(Ue,{evaluation:K,onClose:()=>F(null)})]})}export{Xe as default};
